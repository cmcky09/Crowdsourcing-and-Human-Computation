(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[699],{35685:function(e,t,n){"use strict";let r;n.d(t,{z:function(){return eA}});var s=n(52322);n(98248);var i=n(55671),o=n(62202),a=n(78360),l=n(81674),c=n(94523),d=n(97729),h=n.n(d),u=n(5632),f=n(2784),g=n(43997),p=n(14274),m=n(93624),w=n(2013);let y=e=>{let t=["malformed","encoded","illegal"];return e.includes("URIError")&&e.split(" ").some(e=>t.includes(e))};class b extends f.Component{componentDidMount(){window.addEventListener("error",this.handleError),window.addEventListener("unhandledrejection",this.handleUnhandledRejection)}componentWillUnmount(){window.removeEventListener("error",this.handleError),window.removeEventListener("unhandledrejection",this.handleUnhandledRejection)}componentDidCatch(e,t){if("dev"===p.v.APPLICATION_ENVIRONMENT)throw e}static getDerivedStateFromError(e){return{hasError:!0,errMessage:e.message,shouldMountChildren:!1}}handleError(e){if("dev"===p.v.APPLICATION_ENVIRONMENT)throw Error("[ErrorBoundary]: ".concat(e.message))}handleUnhandledRejection(e){let t=this.props.unhandledRejectionFilter(e);if(t){var n;let t=(null===(n=e.reason)||void 0===n?void 0:n.message)||"";this.setState({hasError:!0,errMessage:t})}}render(){let e=!0===y(this.state.errMessage)?{opacity:"0.65",starOverlay:!1}:{};return(0,s.jsxs)(s.Fragment,{children:[this.state.hasError&&(0,s.jsx)(w.q,{pos:"absolute",top:0,...e,errMessage:""===this.state.errMessage?void 0:this.state.errMessage,showDisclosure:!0}),this.state.shouldMountChildren&&this.props.children]})}constructor(e){super(e),this.state={hasError:!1,errMessage:"",shouldMountChildren:!0},this.handleError=this.handleError.bind(this),this.handleUnhandledRejection=this.handleUnhandledRejection.bind(this)}}b.defaultProps={unhandledRejectionFilter:e=>{var t;return!!y((null===(t=e.reason)||void 0===t?void 0:t.message)||"")||e.reason instanceof m.YBv&&!1===document.hidden||e.reason instanceof m.R5s}},n(61036),n(62376),n(6991),n(76298),n(25946),n(43839),n(40917);var x=n(98518),v=n(79254),j=n(2765),S=n(34168),E=n(47733),C=n(53637),I=n(91994);let _=e=>{console.debug("%c[useApiRefetch] Refetching due to ".concat(e),"background-color: aqua"),(0,S.WQ)().reFetchObservableQueries()},O=()=>{let e=(0,I.qr)(),t=(0,f.useRef)(!1),n=(0,f.useCallback)(()=>(0,C.aF)(e.getState()).backgrounded,[e]);(0,E.js)("online",(0,f.useCallback)(()=>{if(n()){t.current=!0;return}_("online")},[n])),(0,E.js)("wakeup",(0,f.useCallback)(()=>{if(n()){t.current=!0;return}_("wakeup")},[n])),(0,E.js)("foreground",(0,f.useCallback)(()=>{t.current&&(_("foreground"),t.current=!1)},[]))},D=new URLSearchParams(p.v.IS_CLIENT_SIDE?window.location.search:"").get("MAX_BACKGROUND_TIME_ALLOWED"),k=Number(D)||432e5,R=()=>{let e=(0,f.useRef)(!1),t=(0,f.useCallback)(t=>{t.timeInBackground&&!e.current&&t.timeInBackground>k&&(e.current=!0,window.location.reload())},[]);(0,E.js)("foreground",t)},N=(0,f.memo)(()=>((0,E.i6)(),O(),R(),null));N.displayName="ConnectionMonitor";var T=n(3892),P=n(27354),A=n(42111),M=n(32019),L=n(99092),U=n(11050),H=n(39278);let F=(e,t)=>{L.H.init(p.v.HIGHLIGHT_PROJECT_ID,{environment:p.v.APPLICATION_ENVIRONMENT,sessionShortcut:!!t&&"shift+command+0",enableStrictPrivacy:e,enableSegmentIntegration:!0,networkRecording:{enabled:!0,recordHeadersAndBody:!0}}),U.co.loadSdkPromise.then(e=>{e&&e.addSourceMiddleware(L.LZ)})},G=e=>{let{children:t}=e,{user:n,anonymousUser:r,isGammaOrgUser:i,isUserLoading:o}=(0,H.SE)(),{enabled:a,enableStrictPrivacy:l}=(0,A.ye)("highlight");return(0,f.useEffect)(()=>{a&&!o&&n&&F(l,i)},[l,a,i,o,n]),(0,f.useEffect)(()=>{if(!o){if(n){let{id:e,displayName:t,email:r,profileImageUrl:s}=n;L.H.identify(e,{highlightDisplayName:t,email:r,avatar:s})}else if(null==r?void 0:r.id){let{id:e,displayName:t}=r;L.H.identify("",{anonDisplayName:t||"",anonId:e})}}},[n,r,o]),(0,s.jsx)(s.Fragment,{children:t})};var q=n(34881),z=n(87254),V=n(5879),B=n(44754),Q=n(36491);let X=e=>{let{children:t}=e;return(0,Q.K)(),(0,B.b)(),(0,s.jsx)(V.bd,{i18n:z.ag,children:t})};var Y=n(82167),W=n(17292),K=n(58786),Z=n(18834),$=n(68446),J=n(30733),ee=n.n(J),et=n(89654);class en{async enable(){try{await window.serwist.register()}catch(e){console.error("Error registering Serwist service worker:",e)}}async disable(){try{let e=await navigator.serviceWorker.getRegistrations();for(let t of e)console.log("Unregistering service worker:",t),await t.unregister()}catch(e){console.error("Error unregistering Serwist service worker:",e)}try{await this.clearCaches()}catch(e){console.error("Error clearing caches",e)}this.store.dispatch((0,et.Dz)())}async debug(){let e=await window.caches.keys(),t=(await Promise.all(e.map(async e=>{let t=await window.caches.open(e).then(e=>e.matchAll());return[e,t]}))).reduce((e,t)=>(e[t[0]]=t[1],e),{});return{cache:t}}async gc(e){}async clearCaches(){try{if(!window.caches)return;let e=await window.caches.keys();for(let t of e)await window.caches.delete(t);console.log("Serwist caches cleared successfully")}catch(e){console.error("Error clearing caches",e)}}constructor(){this.store=(0,I.bh)()}}let er=ee()(()=>new en);var es=n(81030),ei=n(37200),eo=n(54073),ea=n.n(eo),el=n(18149),ec=n.n(el);let ed="offline-state-v1",eh=e=>{let t=eu(),n=null;t&&(console.log("[Offline] LOADING PERSISTED STATE",t),e.dispatch((0,et.m0)(t)),n=t);let r=ea()(e=>{ef(e)},500);return e.subscribe(()=>{let t=(0,et.S_)(e.getState());if(n!==t){if(performance.now(),ec()(n,t)){n=t,performance.now();return}n=t,console.log("[Offline] PERSISTING STATE",t),r(t)}})},eu=()=>{try{let e=localStorage.getItem(ed);return JSON.parse(e)}catch(e){return null}},ef=async e=>{try{let t=JSON.stringify(e);localStorage.setItem(ed,t)}catch(e){console.error("Error persisting state",e)}},eg="undefined"!=typeof navigator&&"serviceWorker"in navigator&&"indexedDB"in window&&"localStorage"in window&&ei.p;class ep{get enabled(){return(0,et.aL)(this.store.getState())}async init(){if(!eg){console.log("Offline mode is not supported");return}this.cleanupFns.push(eh(this.store)),await this.notifyCaches(this.enabled),console.log("OfflineManager caches initialized",this.enabled),this.setupFeatureFlagSubscription(),console.log("OfflineManager subscriptions initialized")}setupFeatureFlagSubscription(){A.VH.initializePromise.then(()=>{let e=A.VH.get("offline");e!==this.enabled&&(e?this.enable():this.disable()),this.cleanupFns.push(A.VH.subscribe("offline",e=>{e?this.enable():this.disable()}))})}async enable(){if(!eg){console.log("Offline mode is not supported");return}if(this.enabled){console.warn("Offline mode already enabled");return}let{user:e,status:t}=await (0,Z.r)({returnOfflineUser:!1});if("loggedIn"!==t){console.warn("Offline mode user not logged in");return}await this.notifyCaches(!0),this.store.dispatch((0,et.RB)({user:e,lastSynced:new Date().toISOString()}))}async disable(){if(!eg){console.log("Offline mode is not supported");return}if(!this.enabled){console.warn("Offline mode already disabled");return}await this.notifyCaches(!1),this.store.dispatch((0,et.Iq)())}async notifyCaches(e){return Promise.all(e?this.caches.map(e=>e.enable()):this.caches.map(e=>e.disable()))}cleanup(){for(;this.cleanupFns.length>0;){var e;null===(e=this.cleanupFns.pop())||void 0===e||e()}}constructor(){this.store=(0,I.bh)(),this.serwistOfflineCache=er(),this.ydocOfflineCache=(0,es.H)(),this.apolloOfflineCache=(0,$.a)(),this.caches=[this.serwistOfflineCache,this.ydocOfflineCache,this.apolloOfflineCache],this.cleanupFns=[]}}let em=async()=>{if(r)throw Error("OfflineManager already initialized");try{r=new ep,await r.init()}catch(e){console.error("Error initializing OfflineManager",e)}};window.getOfflineManagerState=()=>(0,I.bh)().getState().OfflineManager,window.getOfflineManager=()=>r;var ew=n(99268),ey=n(25944),eb=n(19902);let ex="no_org_id",ev=e=>{let{children:t}=e;(0,ey.iZ)();let{user:n,anonymousUser:r,currentWorkspace:i,isUserLoading:o}=(0,H.SE)();return(0,f.useEffect)(()=>{let e=(0,eb.K)();(0,ew.$n)(e.get()),e.fetch().then(ew.$n).catch(()=>{})},[]),(0,f.useEffect)(()=>{let e;if(!o){if(n){let{id:t,email:r}=n,s=!!r&&r.endsWith("@gamma.app"),o=(null==i?void 0:i.id)||ex;e={userId:t,isGammaUser:s,userOrgId:o,anonymousUser:!1,gammaUserFirstName:s?n.firstName:""}}else e={userId:"anonymous_user",isGammaUser:!1,userOrgId:ex,anonymousUser:!0,gammaUserFirstName:""};(0,ew.$n)(e)}},[o,n,r,i]),(0,s.jsx)(s.Fragment,{children:t})};var ej=n(93206),eS=n(89311),eE=n(27902),eC=n(95426),eI=n(1198),e_=n(90221),eO=n(60742),eD=n(13265),ek=n(90383);l.vc.autoAddCss=!1;let eR=(0,I.bh)();em();let eN=(0,m.RqP)({supportOfflineMode:!0}),eT=(0,m.PGq)(),eP=(0,o.B1)(c.qZ,{styles:{global:{".ProseMirror":{outline:"0 none"}}}});(0,ej.s)(window,eP),(0,eO.Lq)(),W.F7.initialize(),(0,q.lt)(),U.co.init(),T.fy.init({clientToken:p.v.DATADOG_CLIENT_TOKEN,service:"gamma-client",env:p.v.APPLICATION_ENVIRONMENT.replace("production","prod"),site:"datadoghq.com",forwardErrorsToLogs:!1,forwardConsoleLogs:[],sessionSampleRate:100}),(0,Y.S1)(),(0,P.u7)(),(0,eC.a)("appMainBundleLoaded"),A.VH.get("debugLogging")||(window.console.debug=()=>{});let eA=e=>function(t){return(0,s.jsx)(eM,{children:(0,s.jsx)(e,{...t})})},eM=e=>{let{children:t}=e,n=(0,u.useRouter)();(0,eS.l)(),(0,eD.k)(),(0,x.U)(),(0,f.useEffect)(()=>{let e=(e,t)=>{let{shallow:n}=t;console.debug("[GammaApp - handleRouteChange] App is changing to ".concat(e," ").concat(n?"with":"without"," shallow routing"))};return n.events.on("routeChangeStart",e),()=>{n.events.off("routeChangeStart",e)}},[n]);let r=(0,eI.aY)();return(0,s.jsx)(g.zt,{store:eR,children:(0,s.jsx)(X,{children:(0,s.jsx)(a.x,{theme:eP,resetCSS:!0,children:(0,s.jsx)(b,{children:(0,s.jsx)(i.e,{client:eN,children:(0,s.jsxs)(m.mdV,{client:eT,children:[(0,s.jsx)(eU,{}),(0,s.jsx)(v.H6,{}),(0,s.jsx)(Y.GQ,{}),(0,s.jsx)(j.S,{}),(0,s.jsx)(N,{}),(0,s.jsxs)(H.fS,{children:[(0,s.jsx)(eE.qA,{children:(0,s.jsx)(A.dF,{children:(0,s.jsx)(K.S,{children:(0,s.jsx)(ev,{children:(0,s.jsx)(G,{children:(0,s.jsx)(eI.dv,{value:r,children:(0,s.jsx)(M.u,{children:t})})})})})})}),(0,s.jsx)(A.MG,{})]})]})})})})})})},eL="A new medium for presenting ideas, powered by AI. Beautiful, engaging content with none of the formatting and design work.",eU=()=>{let e=p.v.APPLICATION_ENVIRONMENT;return(0,s.jsxs)(h(),{children:[(0,s.jsx)("title",{children:"Gamma"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, viewport-fit=cover"}),(0,s.jsx)("link",{rel:"manifest",href:"/manifest.json"}),(0,s.jsx)("link",{rel:"shortcut icon",href:"production"===e?"/favicons/favicon-192.svg":"staging"===e?"/favicons/favicon_staging.jpg":"/favicons/favicon_local.jpg"}),(0,s.jsx)("meta",{content:eL,name:"description"},"description"),(0,s.jsx)("meta",{content:"Gamma",property:"og:title"},"og:title"),(0,s.jsx)("meta",{content:eL,property:"og:description"},"og:description"),(0,s.jsx)("meta",{content:p.v.OG_IMAGE_URL,property:"og:image"},"og:image"),(0,s.jsx)("meta",{content:"Gamma",property:"twitter:title"},"twitter:title"),(0,s.jsx)("meta",{content:eL,property:"twitter:description"},"twitter:description"),(0,s.jsx)("meta",{content:p.v.OG_IMAGE_URL,property:"twitter:image"},"twitter:image"),(0,s.jsx)("meta",{property:"og:type",content:"website"},"og:type"),(0,s.jsx)("meta",{content:"summary_large_image",name:"twitter:card"},"twitter:card"),(0,s.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900",rel:"stylesheet"}),(0,s.jsx)("link",{rel:"stylesheet",href:"https://use.typekit.net/tiw2cwq.css"}),!(0,e_.l6)()&&!(0,ek.wg)()&&(0,s.jsx)("script",{async:!0,src:"https://cdn.optimizely.com/js/20579410255.js"}),(0,s.jsx)("script",{src:"//cdn.iframe.ly/embed.js",async:!0,charSet:"utf-8"})]})}},2013:function(e,t,n){"use strict";n.d(t,{q:function(){return j}});var r=n(52322),s=n(38035),i=n(77533),o=n(49259),a=n(87436),l=n(95897),c=n(28535),d=n(89511),h=n(11121),u=n(44438),f=n(42822),g=n(62614),p=n(75009),m=n(94523),w=n(5879),y=n(3543),b=n(92981);let x=(0,r.jsx)(w.cC,{id:"HiX9QN"}),v={bgImage:"radial-gradient(1px 1px at 20px 30px, #eee, rgba(0,0,0,0)),\n    radial-gradient(1px 1px at 40px 70px, #fff, rgba(0,0,0,0)),\n    radial-gradient(1px 1px at 50px 160px, #ddd, rgba(0,0,0,0)),\n    radial-gradient(1px 1px at 90px 40px, #fff, rgba(0,0,0,0)),\n    radial-gradient(1px 1px at 130px 80px, #fff, rgba(0,0,0,0)),\n    radial-gradient(1px 1px at 160px 120px, #ddd, rgba(0,0,0,0))",bgRepeat:"repeat",bgSize:"200px 200px",transform:"translate(-50%,-50%)",borderRadius:{base:0,lg:"100px"},pos:"relative",maxW:"8xl",maxH:"5xl",minH:{base:0,lg:"5xl"}},j=e=>{let{errMessage:t=x,showDisclosure:n=!1,opacity:j=1,starOverlay:S=!0,backgroundColor:E=m.qZ.colors.trueblue[900],...C}=e,I=S?v:{};return(0,r.jsx)(s.k,{"data-error-component":!0,w:"100vw",h:"100vh",overflow:"hidden",zIndex:99999,backgroundColor:(0,y.tT)(E,j),...C,children:(0,r.jsx)(s.k,{...I,justifyContent:"center",alignItems:"center",flex:1,p:[4,16],left:"50%",top:"50%",children:(0,r.jsxs)(b.qX,{lede:"",title:(0,r.jsx)(w.cC,{id:"HbR60U"}),stackProps:{shadow:"lg-dark",position:"relative"},children:[(0,r.jsx)(i.x,{children:(0,r.jsx)(w.cC,{id:"1gm+lP"})}),n&&(0,r.jsx)(o.U,{allowToggle:!0,pt:4,children:(0,r.jsxs)(a.Q,{children:[(0,r.jsxs)(l.K,{px:0,_hover:{bgColor:"none"},borderStyle:"none",children:[(0,r.jsx)(c.xu,{flex:"1",textAlign:"left",children:(0,r.jsx)(w.cC,{id:"qug3k/"})}),(0,r.jsx)(d.X,{})]}),(0,r.jsx)(h.H,{pb:4,children:(0,r.jsx)(u.E,{colorScheme:"red",children:t})})]})}),(0,r.jsx)(f.M,{children:(0,r.jsx)(g.z,{variant:"solid",size:"lg",m:6,onClick:()=>{window.location.reload()},children:(0,r.jsx)(w.cC,{id:"C6f2hU"})})}),(0,r.jsx)(p.E,{pos:"absolute",w:36,bottom:"calc(-100% + 120px)",right:-12,src:"/_next/static/media/Sal-Asteroid-Parachute.ad317576.png",pointerEvents:"none",opacity:{base:0,md:1}})]})})})}},79254:function(e,t,n){"use strict";n.d(t,{$C:function(){return u},H6:function(){return h},Uj:function(){return f}});var r=n(52322),s=n(5632),i=n(73534),o=n.n(i),a=n(14274),l=n(93441),c=n(34385);let d=["/signin","/signup","/invitations/workspaces/[workspaceId]"],h=()=>{let e=(0,s.useRouter)().pathname;return!(0,l.gF)()||d.includes(e)?null:(0,r.jsx)("style",{children:".grecaptcha-badge { visibility: hidden; }"})},u=()=>(0,r.jsx)(o(),{src:"https://www.google.com/recaptcha/enterprise.js?render=".concat(a.v.RECAPTCHA_SCORING_KEY),async:!0,defer:!0}),f=async e=>(await (0,c.X)(50,100)(()=>!!window.grecaptcha).catch(()=>{throw Error("Timed out waiting for grecaptcha")}),new Promise((t,n)=>{grecaptcha.enterprise.ready(async()=>{try{let n=await grecaptcha.enterprise.execute(a.v.RECAPTCHA_SCORING_KEY,{action:e});t(n)}catch(e){console.log(e),n(e)}})}))},81030:function(e,t,n){"use strict";n.d(t,{H:function(){return S}});var r=n(30733),s=n.n(r),i=n(54073),o=n.n(i),a=n(67304),l=n.n(a),c=n(91994),d=n(60589),h=n(6092),u=n(69180);let f="custom",g="updates",p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},[n]=d.ay(e.db,[g]);return d.go(n,d.sc(e._dbref,!1)).then(r=>{t(n),u.ay(e.doc,()=>{r.forEach(t=>u.NG(e.doc,t))},e,!1)}).then(()=>d.S_(n).then(t=>{e._dbref=t+1})).then(()=>d.QX(n).then(t=>{e._dbsize=t})).then(()=>n)},m=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return p(e).then(n=>{(t||e._dbsize>=500)&&d.yP(n,u.D$(e.doc)).then(()=>d.IV(n,d.UE(e._dbref,!0))).then(()=>d.QX(n).then(t=>{e._dbsize=t}))})},w=e=>d.Lj(e);class y extends h.y{destroy(){return this._storeTimeoutId&&clearTimeout(this._storeTimeoutId),this.doc.off("update",this._storeUpdate),this.doc.off("destroy",this.destroy),this._destroyed=!0,this._db.then(e=>{e.close()})}clearData(){return this.destroy().then(()=>{d.Lj(this.name)})}get(e){return this._db.then(t=>{let[n]=d.ay(t,[f],"readonly");return d.U2(n,e)})}set(e,t){return this._db.then(n=>{let[r]=d.ay(n,[f]);return d.gz(r,t,e)})}del(e){return this._db.then(t=>{let[n]=d.ay(t,[f]);return d.IV(n,e)})}constructor(e,t){super(),this.doc=t,this.name=e,this._dbref=0,this._dbsize=0,this._destroyed=!1,this.db=null,this.synced=!1,this._db=d.X3(e,e=>d._w(e,[["updates",{autoIncrement:!0}],["custom"]])),this.whenSynced=this._db.then(e=>(this.db=e,p(this,e=>d.yP(e,u.D$(t))).then(()=>(this._destroyed||(this.emit("synced",[this]),this.synced=!0),this)))),this._storeTimeout=1e3,this._storeTimeoutId=null,this._storeUpdate=(e,t)=>{if(this.db&&t!==this){let[t]=d.ay(this.db,[g]);d.yP(t,e),++this._dbsize>=500&&(null!==this._storeTimeoutId&&clearTimeout(this._storeTimeoutId),this._storeTimeoutId=setTimeout(()=>{m(this,!1),this._storeTimeoutId=null},this._storeTimeout))}},t.on("update",this._storeUpdate),this.destroy=this.destroy.bind(this),t.on("destroy",this.destroy)}}var b=n(47968),x=n(25939),v=n(89654);class j{async enable(){}async disable(){}get enabled(){return(0,v.aL)(this.store.getState())}async loadYDoc(e,t){if(!this.enabled)return console.warn("Cannot setupForDocLoad when it is not enabled"),!1;let n=(0,v.pG)(this.store.getState())[e];return!!n&&(this.setup(e,t),!0)}async syncYDoc(e,t){if(!this.enabled){console.warn("Cannot setup IndexedDB for doc as it is not enabled");return}await this.setup(e,t),this.store.dispatch((0,v.fz)({docId:e,lastSynced:new Date().toISOString()}))}setup(e,t){return new Promise(n=>{let r=new y(e,t),s=o()(()=>{let e=t.getMap("SCHEMA_VERSION").get("REQUIRED_VERSION");r.set("lastUpdated",new Date().toISOString()),r.set("schemaVersion",e||"")},1e3);t.on("update",s),r.on("synced",()=>{n()})})}async gc(){let e=Date.now(),t=Object.values(this.syncedYDocs).filter(t=>{if(!t.lastSynced)return!1;let n=new Date(t.lastSynced).getTime();return e-n>x.c}).map(e=>e.docId),n=(0,b.yU)(this.store.getState());n?this.removeDocs(l()(t,n)):this.removeDocs(t)}async removeDocs(e){if(0===e.length)return;this.store.dispatch((0,v.h_)({docIds:e}));let t=e.map(e=>w(e));await Promise.all(t)}async debug(){return{syncedYdocs:this.syncedYDocs}}get syncedYDocs(){return(0,v.pG)(this.store.getState())}constructor(){this.store=(0,c.bh)()}}let S=s()(()=>new j)},25944:function(e,t,n){"use strict";n.d(t,{bf:function(){return p},iZ:function(){return f},lh:function(){return u},wK:function(){return g}});var r=n(2784),s=n(42111),i=n(91994),o=n(47968),a=n(90604),l=n(56400),c=n(99268);let d=e=>Math.random()<=1/e;class h{setupProvider(){this.t1SetupProvider||(this.t1SetupProvider=performance.now())}downloadDoc(){this.t2DownloadDoc||(this.t2DownloadDoc=performance.now())}onCreate(){this.t3OnCreate||(this.t3OnCreate=performance.now())}report(){return null===this.t1SetupProvider||null===this.t2DownloadDoc||null===this.t3OnCreate?null:{downloadDoc:this.t2DownloadDoc-this.t1SetupProvider,onCreate:this.t3OnCreate-this.t2DownloadDoc}}constructor(){this.t1SetupProvider=null,this.t2DownloadDoc=null,this.t3OnCreate=null}}let u=(e,t)=>{let n=(0,i.CG)(o.Pw),s=(0,r.useRef)(n);(0,r.useEffect)(()=>{s.current=n},[n]),(0,r.useEffect)(()=>{if(e)return window.addEventListener("keydown",n,!0),()=>{window.removeEventListener("keydown",n,!0)};function n(e){let n=e.target.closest(".ProseMirror");if(!n||!s.current||!d(t))return;let r=performance.now();requestAnimationFrame(()=>{let t=e.key;" "===t&&(t="Space");let n=performance.now()-r;(0,c.EF)({...(0,l.H)(),key:t,duration:n})})}},[e,s,t])},f=()=>{let e=(0,s.ye)("rumSampleRate");(0,r.useEffect)(()=>{(0,c._k)(e)},[e])},g=e=>{let t=(0,r.useCallback)(t=>{let{isFullscreen:n=!1}=t;if(!e)return;let r=performance.now();requestAnimationFrame(()=>{requestAnimationFrame(()=>{let e=performance.now()-r;(0,c.gG)({...(0,l.H)(),toMode:a.q.SLIDE_VIEW,duration:e,isFullscreen:n})})})},[e]),n=(0,r.useCallback)(t=>{let{isFullscreen:n=!1}=t;if(!e)return;let r=performance.now();requestAnimationFrame(()=>{requestAnimationFrame(()=>{let e=performance.now()-r;(0,c.gG)({...(0,l.H)(),toMode:a.q.DOC_VIEW,duration:e,isFullscreen:n})})})},[e]);return{recordExitSlideModePerformance:n,recordEnterSlideModePerformance:t}},p=()=>{let[e]=(0,r.useState)(()=>new h),t=(0,r.useCallback)(()=>{e.setupProvider()},[e]),n=(0,r.useCallback)(()=>{e.downloadDoc()},[e]),s=(0,r.useCallback)(()=>{e.onCreate();let t=e.report();if(null===t){console.warn("[HoneycombDocLoadTimer] failed to generate doc timings");return}(0,c.Py)({...(0,l.H)(),duration:t.onCreate}),(0,c.aZ)({...(0,l.H)(),duration:t.downloadDoc})},[e]);return{timeOnCreate:s,timeOnSetupProvider:t,timeOnDownloadDoc:n}}},89311:function(e,t,n){"use strict";n.d(t,{l:function(){return a}});var r=n(5632),s=n(2784),i=n(7e4),o=n(88640);let a=()=>{let{pathname:e,isReady:t}=(0,r.useRouter)(),n=(0,s.useRef)(!1),[a,l]=(0,i.X)(o.H.lastHomeUrl,"/");(0,s.useEffect)(()=>{if(n.current||!t)return;let r="/inspiration"===e||"/templates"===e?e:"/";l(r),n.current=!0},[l,t,e])}},7e4:function(e,t,n){"use strict";n.d(t,{X:function(){return i}});var r=n(2784),s=n(38960);function i(e,t){let[n,i]=(0,r.useState)(()=>{try{let n=s.Q.getItem(e);if(null===n)return t;return JSON.parse(n)}catch(e){return console.error("[useSessionStorage.getItem] Error getting sessionStorage item",e),t}}),o=(0,r.useCallback)(t=>{try{s.Q.setItem(e,JSON.stringify(t)),i(t)}catch(e){console.error("[useSessionStorage.setItem] Error setting sessionStorage item",e)}},[e]);return[n,o]}},62376:function(){},6991:function(){},76298:function(){},25946:function(){},43839:function(){}}]);
//# sourceMappingURL=699-6800856829448823.js.map