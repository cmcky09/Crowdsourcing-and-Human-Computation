"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2329],{82863:function(e,t,o){o.d(t,{FX:function(){return s},Nq:function(){return r},rg:function(){return l}});var n=o(2784);let i=(0,n.createContext)(null);function l({clientId:e,onScriptLoadSuccess:t,onScriptLoadError:o,children:l}){let r=function(e={}){let{onScriptLoadSuccess:t,onScriptLoadError:o}=e,[i,l]=(0,n.useState)(!1),r=(0,n.useRef)(t);r.current=t;let s=(0,n.useRef)(o);return s.current=o,(0,n.useEffect)(()=>{let e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.onload=()=>{var e;l(!0),null===(e=r.current)||void 0===e||e.call(r)},e.onerror=()=>{var e;l(!1),null===(e=s.current)||void 0===e||e.call(s)},document.body.appendChild(e),()=>{document.body.removeChild(e)}},[]),i}({onScriptLoadSuccess:t,onScriptLoadError:o}),s=(0,n.useMemo)(()=>({clientId:e,scriptLoadedSuccessfully:r}),[e,r]);return n.createElement(i.Provider,{value:s},l)}function r({flow:e="implicit",scope:t="",onSuccess:o,onError:l,...r}){let{clientId:s,scriptLoadedSuccessfully:a}=function(){let e=(0,n.useContext)(i);if(!e)throw Error("Google OAuth components must be used within GoogleOAuthProvider");return e}(),c=(0,n.useRef)(),d=(0,n.useRef)(o);d.current=o;let u=(0,n.useRef)(l);u.current=l,(0,n.useEffect)(()=>{var o;if(!a)return;let n="implicit"===e?"initTokenClient":"initCodeClient",i=null===(o=window.google)||void 0===o?void 0:o.accounts.oauth2[n]({client_id:s,scope:`openid profile email ${t}`,callback:e=>{var t,o;if(e.error)return null===(t=u.current)||void 0===t?void 0:t.call(u,e);null===(o=d.current)||void 0===o||o.call(d,e)},...r});c.current=i},[s,a,e,t]);let p=(0,n.useCallback)(e=>c.current.requestAccessToken(e),[]),m=(0,n.useCallback)(()=>c.current.requestCode(),[]);return"implicit"===e?p:m}function s(e,t,...o){return!!window.google&&window.google.accounts.oauth2.hasGrantedAllScopes(e,t,...o)}},16983:function(e,t,o){o.d(t,{X:function(){return w}});var n=o(52322),i=o(11881),l=o(28535),r=o(62614),s=o(43297),a=o(38035),c=o(75009),d=o(29117),u=o(82554),p=o(74409),m=o(77533),x=o(82655),h=o(42946),f=o(49929),g=o(5879),j=o(39097),C=o.n(j),b=o(90221);let v=e=>{let{children:t,href:o,onClick:s,as:a=C()}=e;return o?(0,n.jsx)(i.f,{as:l.xu,role:"group",onClick:s,children:(0,n.jsx)(i.A,{href:o,as:a,_focusVisible:{boxShadow:"none",outline:"0 none !important"},_hover:{textDecoration:"none !important"},children:t})}):(0,n.jsx)(l.xu,{as:r.z,w:"100%",variant:"unstyled",display:"flex",alignItems:"stretch",justifyContent:"stretch",h:"auto",role:"group",onClick:s,maxW:{base:"none",md:"18em"},tabIndex:0,_focusVisible:{boxShadow:"none",outline:"0 none !important"},children:t})},w=e=>{let{label:t,description:o,isPopular:i,isBeta:r,isComingSoon:j,colorScheme:w,imageUrl:y,imageComponent:S,href:k,transform:P,onClick:I,ctaIcon:T,ctaLabel:_,as:U}=e;return(0,n.jsx)(v,{href:k,onClick:e=>{null==I||I(e)},as:U||C(),children:(0,n.jsxs)(s.K,{cursor:j?"not-allowed":"pointer",direction:{base:"row",md:"column"},px:"0",flex:"1",whiteSpace:"normal",textAlign:"left",spacing:"0",border:"none",bg:"white",borderRadius:"lg",boxShadow:{base:"sm",md:"md"},transition:"all 300ms ease",bottom:"0",outline:"none",_groupHover:(0,b.s2)()||j?{}:{bottom:3,boxShadow:"xl",transform:"scale(1.03)"},position:"relative",transform:{base:"auto",md:P&&!(0,b.s2)()?P:"auto"},_groupFocusWithin:{shadow:"outline"},overflow:"hidden",children:[(0,n.jsxs)(a.k,{flex:"1",justifyContent:"center",textAlign:"center",color:"".concat(w,".500"),bg:"".concat(w,".100"),position:"relative",minH:{base:"none",md:"190px"},children:[S,y&&(0,n.jsx)(c.E,{src:y,objectFit:"cover",transitionProperty:"filter",transitionDuration:"normal",_groupHover:{filter:"brightness(1.02)"}}),j&&(0,n.jsx)(d.U,{position:"absolute",bottom:"2",left:"2",children:(0,n.jsxs)(u.C,{colorScheme:"green",fontSize:"md",p:"0.5",px:"2",textTransform:"none",fontWeight:"600",borderRadius:["sm","md"],children:[(0,n.jsx)(f.G,{icon:h.SZw})," ",(0,n.jsx)(g.cC,{id:"AUYALh"})]})}),i&&(0,n.jsx)(d.U,{position:"absolute",bottom:"2",left:"2",children:(0,n.jsxs)(u.C,{colorScheme:"teal",fontSize:"md",p:"0.5",px:"2",textTransform:"none",fontWeight:"600",borderRadius:["sm","md"],children:[(0,n.jsx)(f.G,{icon:x.BDt})," ",(0,n.jsx)(g.cC,{id:"gL/sdV"})]})}),r&&(0,n.jsx)(d.U,{position:"absolute",bottom:"2",left:"2",children:(0,n.jsx)(u.C,{colorScheme:"green",size:"sm",p:"0.5",px:"2",fontWeight:"600",borderRadius:["sm","md"],children:(0,n.jsx)(g.cC,{id:"YBt9YP"})})})]}),(0,n.jsxs)(s.K,{spacing:"1.5",p:4,maxW:"100%",minH:{base:"100px",md:"none"},justifyContent:"space-between",alignItems:"stretch",flex:"1.5",direction:{base:"row",md:"column"},position:"relative",h:"100%",bg:j?"blackAlpha.50":void 0,children:[(0,n.jsxs)(s.K,{children:[(0,n.jsx)(p.X,{fontSize:{base:"xl",md:"2xl"},fontWeight:"600",children:t}),(0,n.jsx)(d.U,{children:(0,n.jsx)(l.xu,{fontSize:{base:"sm",md:"md"},fontWeight:"500",lineHeight:"1.4",color:"gray.600",children:o})})]}),!j&&(0,n.jsxs)(d.U,{maxW:"100%",justifyContent:"flex-end",alignItems:"flex-start",fontSize:{base:"sm",sm:"md"},p:{base:.5,md:0},children:[(0,n.jsx)(m.x,{display:{base:"none",md:"block"},transition:"all 300ms ease",opacity:0,color:"".concat(w,".700"),_groupFocusWithin:{opacity:1},_groupHover:{opacity:1},children:_}),(0,n.jsx)(l.xu,{fontSize:{base:"md",sm:"lg"},_groupFocusWithin:{color:"".concat(w,".700")},_groupHover:{color:"".concat(w,".700")},children:T})]})]})]})})}},85747:function(e,t,o){o.d(t,{E:function(){return s}});var n=o(52322),i=o(2784),l=o(99787);let r={width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},s=e=>{let{handleFilesCallback:t,multiple:o=!1,accept:s=l.pK.join(",")}=e,a=(0,i.useRef)(null),c=(0,i.useMemo)(()=>(0,n.jsx)("input",{ref:a,className:"gamma-FileInput-input",style:r,type:"file",name:"gamma-file-input",multiple:o,accept:s,onChange:e=>{let o=e.target;if(!o||!o.files)return;let n=Array.from(o.files);t(n),o.value=null}}),[s,t,o]),d=(0,i.useCallback)(()=>{var e;null===(e=a.current)||void 0===e||e.click()},[]);return{inputElement:c,onClick:d}}},92329:function(e,t,o){o.d(t,{v:function(){return L}});var n=o(52322),i=o(43297),l=o(28535),r=o(77533),s=o(87651),a=o(29117),c=o(17993),d=o(25195),u=o(42946),p=o(54933),m=o(49929),x=o(5879),h=o(2784),f=o(16983),g=o(42111),j=o(15074),C=o(38721),b=o(11550),v=o(11050),w={src:"/_next/static/media/Thumbnail-site.06f67026.svg"},y=o(92850),S=o(22226),k=o(54326),P=o(82554),I=o(2338),T=o(97217),_=o(74409),U=o(74105),E=o(85573),A=o(50250),O=o(75768),R=o(62614),F=o(14274),z=o(86581);let D=()=>{let[e,t]=(0,h.useState)(!1),o=(0,h.useCallback)(async e=>{t(!0);let o=performance.now(),n=await fetch("".concat(F.v.API_HOST,"/ai/scrape/webpage"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e}),credentials:"include"}).then(e=>e.json());t(!1);let{markdown:i,metadata:l}=n,r=(0,z.c8)(i),s={source:"WebpageUrl",src:e,filename:(null==l?void 0:l.title)||e,html:r,markdown:i,latency:performance.now()-o};return s},[]);return{importWebpage:o,isScraping:e}},G=e=>{let[t,o]=(0,h.useState)(""),[i,l]=(0,h.useState)(!1),{importWebpage:s,isScraping:d}=D(),u=(0,h.useCallback)(async()=>{l(!1);try{let o=await s(t);e.handleImport(o)}catch(e){l(!0)}},[s,t,e]),p=(0,h.useCallback)(()=>{o(""),l(!1),e.onClose()},[e]);return(0,n.jsx)(y.u_,{...e,onClose:p,size:"2xl",children:(0,n.jsxs)(S.h,{children:[(0,n.jsxs)(k.x,{children:[(0,n.jsxs)(a.U,{children:[(0,n.jsx)(r.x,{as:"span",children:(0,n.jsx)(x.cC,{id:"Xli1NO"})}),(0,n.jsx)(P.C,{colorScheme:"green",ml:2,fontSize:"lg",children:(0,n.jsx)(x.cC,{id:"YBt9YP"})})]}),(0,n.jsx)(r.x,{fontSize:"sm",color:"gray.600",fontWeight:"500",fontFamily:"Inter, sans-serif",letterSpacing:"normal",children:(0,n.jsx)(x.cC,{id:"Ldbn2K"})})]}),(0,n.jsx)(I.o,{}),(0,n.jsx)(T.f,{children:(0,n.jsxs)(c.g,{align:"start",children:[(0,n.jsx)(_.X,{size:"sm",fontWeight:"regular",color:"gray.800",textAlign:"left",children:(0,n.jsx)(x.cC,{id:"IagCbF"})}),(0,n.jsx)(U.B,{bg:"white",borderRadius:"md",display:"flex",alignItems:"end",gap:"0",children:(0,n.jsx)(E.I,{fontWeight:"500",placeholder:"http://www.example.com/",value:t,onChange:e=>{o(e.target.value)},maxLength:500,fontSize:"md",onKeyDown:e=>{"Enter"===e.key&&u()}})}),i&&(0,n.jsx)(r.x,{color:"red.500",fontSize:"sm",children:(0,n.jsx)(x.cC,{id:"jpcz2P"})})]})}),(0,n.jsx)(A.m,{children:(0,n.jsxs)(O.h,{size:{base:"md",md:"lg"},children:[(0,n.jsx)(R.z,{variant:"plain",onClick:e.onClose,children:(0,n.jsx)(x.cC,{id:"dEgA5A"})}),(0,n.jsx)(R.z,{variant:"solid",onClick:u,isLoading:d&&!i,isDisabled:!t,children:(0,n.jsx)(x.cC,{id:"l3s5ri"})})]})})]})})},W=e=>{let{text:t}=e;return(0,n.jsxs)(i.K,{direction:"row",spacing:1.5,w:"100%",children:[(0,n.jsx)(l.xu,{color:"green.400",children:(0,n.jsx)(m.G,{icon:p.LEp})}),(0,n.jsx)(r.x,{children:t})]})},L=e=>{let{onImportComplete:t,onImportStarted:o}=e,[p,y]=(0,h.useState)(0),S=(0,h.useCallback)(e=>{y(e)},[]),k=(0,v.z$)(),P=(0,h.useCallback)(e=>{null==k||k.track(v.AA.DOC_IMPORT_FAILED,{source:e.source,latency:e.latency,message:e.message})},[k]),{initiateDocUpload:I,hiddenInputElement:T,isUploading:_,isSuccess:U}=(0,C.S)({onUploadComplete:t,onUploadStarted:o,onUploadFailed:P,onProgress:S},!1),{initiateGoogleImport:E,isImporting:A,isSuccess:O}=(0,j.H)({onImportComplete:t,onImportStarted:o,onProgress:S},!1),R=_||A,F=O||U,z=(0,b.M)({id:"import-webpage"}),D=(0,g.ye)("importUrl"),L=(0,g.ye)("importPdf");return(0,n.jsxs)(l.xu,{w:"100%",children:[(0,n.jsx)(s.U,{in:F,children:(0,n.jsx)(a.U,{w:"100%",p:12,justifyContent:"center",spacing:4,border:"none",boxShadow:"none",bg:"whiteAlpha.700",backdropFilter:"blur(10px)",borderRadius:"md",children:(0,n.jsx)(r.x,{fontSize:"xl",children:(0,n.jsx)(x.cC,{id:"oMgC5V"})})})}),(0,n.jsx)(s.U,{in:R,children:(0,n.jsxs)(c.g,{w:"100%",p:12,justifyContent:"center",spacing:4,border:"none",boxShadow:"none",bg:"whiteAlpha.700",borderRadius:"md",children:[(0,n.jsx)(d.E,{hasStripe:!0,value:p,colorScheme:"trueblue",borderRadius:"md",w:"100%"}),(0,n.jsx)(r.x,{fontSize:"xl",children:(0,n.jsx)(x.cC,{id:"6Qkuf9"})}),(0,n.jsx)(r.x,{children:(0,n.jsx)(x.cC,{id:"RiC4X7"})})]})}),(0,n.jsxs)(s.U,{in:!R&&!F,children:[(0,n.jsxs)(i.K,{w:"100%",h:"100%",direction:{base:"column",md:"row"},justifyContent:"center",spacing:{base:3,md:4},align:"stretch",children:[(0,n.jsx)(f.X,{label:(0,n.jsx)(x.cC,{id:"RNxrCU"}),description:(0,n.jsxs)(i.K,{spacing:1,children:[(0,n.jsx)(W,{text:(0,n.jsx)(x.cC,{id:"G28OFI"})}),(0,n.jsx)(W,{text:(0,n.jsx)(x.cC,{id:"g8oIJP"})}),L&&(0,n.jsx)(W,{text:(0,n.jsx)(x.cC,{id:"1eslAW"})})]}),isPopular:!1,colorScheme:"purple",imageUrl:"/_next/static/media/Thumbnail-upload.175964bf.svg",onClick:()=>{I()},ctaIcon:(0,n.jsx)(m.G,{icon:u.A$k}),ctaLabel:(0,n.jsx)(x.cC,{id:"JYj5R2"})}),(0,n.jsx)(f.X,{label:(0,n.jsx)(x.cC,{id:"RMmFZu"}),description:(0,n.jsxs)(i.K,{spacing:1,children:[(0,n.jsx)(W,{text:(0,n.jsx)(x.cC,{id:"6f5BQJ"})}),(0,n.jsx)(W,{text:(0,n.jsx)(x.cC,{id:"cuyHFX"})})]}),isPopular:!1,colorScheme:"blue",imageUrl:"/_next/static/media/Thumbnail-drive.beda1526.svg",onClick:()=>{E()},ctaIcon:(0,n.jsx)(m.G,{icon:u.wn1}),ctaLabel:(0,n.jsx)(x.cC,{id:"A1taO8"})}),D&&(0,n.jsx)(f.X,{label:(0,n.jsx)(x.cC,{id:"Xli1NO"}),description:(0,n.jsxs)(i.K,{spacing:1,children:[(0,n.jsx)(W,{text:(0,n.jsx)(x.cC,{id:"qc8yx0"})}),(0,n.jsx)(W,{text:(0,n.jsx)(x.cC,{id:"50Trz0"})}),(0,n.jsx)(W,{text:(0,n.jsx)(x.cC,{id:"mGYmoI"})})]}),isPopular:!1,isBeta:!0,colorScheme:"teal",imageUrl:w.src,onClick:z.onOpen,ctaIcon:(0,n.jsx)(m.G,{icon:u.r8p}),ctaLabel:(0,n.jsx)(x.cC,{id:"qf63PF"})}),T]}),(0,n.jsx)(G,{...z,handleImport:t})]})]})}},15074:function(e,t,o){o.d(t,{H:function(){return x}});var n=o(52322),i=o(70065),l=o(5879),r=o(82863),s=o(2784),a=o(14274),c=o(42111),d=o(39278),u=o(93441),p=o(38721);let m="https://www.googleapis.com/auth/drive.file",x=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],o=arguments.length>2?arguments[2]:void 0,[x,h]=(0,s.useState)(!1),[f,g]=(0,s.useState)(),j=(0,i.p)(),{user:C}=(0,d.SE)(),[b,v]=(0,s.useState)(!1),[w,y]=(0,s.useState)(!1),{handleDocUpload:S}=(0,p.S)({onUploadComplete:t=>{v(!1),e.onImportComplete(t)},onProgress:e.onProgress,onUploadFailed:t=>{var o;null===(o=e.onImportFailed)||void 0===o||o.call(e,t)}},t),k=(0,s.useCallback)((e,o,i,r)=>{let s="https://www.googleapis.com/drive/v3/files/".concat(o,"?fields=exportLinks");v(!0),fetch(s,{headers:{Authorization:"Bearer ".concat(e)}}).then(async e=>{if(200!==e.status){var t;let o=await e.json(),n=null==o?void 0:null===(t=o.error)||void 0===t?void 0:t.message;return Promise.reject(n?"Google Drive error ".concat(e.status,": ").concat(n):"Google Drive error ".concat(e.status))}return e.json()}).then(async t=>{let o=t.exportLinks[i],n=await fetch(o,{headers:{Authorization:"Bearer ".concat(e)}});return n.blob()}).then(e=>{let t=new File([e],"".concat(r,".pptx"),{type:i});S([t])}).catch(e=>{console.error("Error importing doc ".concat(o," from google"),e),v(!1),t&&j({status:"error",title:(0,n.jsx)(l.cC,{id:"SlfejT"}),description:e.message||e||(0,n.jsx)(l.cC,{id:"lIW942"}),duration:5e3,isClosable:!0})})},[j,S,t]),P=(0,s.useCallback)((o,i,r,s)=>{let a;let c="https://www.googleapis.com/drive/v3/files/".concat(i,"/export?mimeType=").concat(r);v(!0),t&&(a=j({id:"load-doc-toast-".concat(i),position:"top",duration:null,status:"loading",variant:"subtle",title:(0,n.jsx)(l.cC,{id:"hdsaJo"}),description:(0,n.jsx)(l.cC,{id:"gmwDJx"}),isClosable:!1}));let d=performance.now();fetch(c,{headers:{Authorization:"Bearer ".concat(o)}}).then(e=>e.text()).then(t=>{e.onImportComplete({html:t,filename:s,source:"GoogleDocs",src:c,latency:performance.now()-d}),a&&j.update(a,{status:"success",title:(0,n.jsx)(l.cC,{id:"oMgC5V"}),duration:1e3,isClosable:!0}),y(!0),v(!1)}).catch(e=>{console.error("Error importing doc ".concat(i," from google"),e),y(!1),v(!1)})},[e,j,t]),I=(0,s.useCallback)((t,o)=>{var n;if("picked"!==o.action)return;let[i]=o.docs;null===(n=e.onImportStarted)||void 0===n||n.call(e,i.id),"application/vnd.google-apps.document"===i.mimeType?P(t,i.id,"text/html",i.name):"application/vnd.google-apps.presentation"===i.mimeType&&k(t,i.id,"application/vnd.openxmlformats-officedocument.presentationml.presentation",i.name)},[P,k,e]),T=(0,s.useCallback)(e=>{g(e);let t=window.google,n=c.VH.get("pptImport"),i=[!(null==o?void 0:o.slidesOnly)&&"application/vnd.google-apps.document",n&&"application/vnd.google-apps.presentation"].filter(e=>!!e),l=new t.picker.DocsView(t.picker.ViewId.DOCS).setMimeTypes(i.join(",")),r=new t.picker.PickerBuilder().addView(l).addView(t.picker.ViewId.FOLDERS).setOAuthToken(e).setAppId(a.v.GOOGLE_PROJECT_ID).setDeveloperKey(a.v.GOOGLE_API_KEY).setCallback(t=>{I(e,t)});(null==o?void 0:o.slidesOnly)||r.addView(t.picker.ViewId.DOCUMENTS),n&&r.addView(t.picker.ViewId.PRESENTATIONS),r.build().setVisible(!0),Array.from(document.getElementsByClassName("picker-dialog")).forEach(e=>{e.style.zIndex="2000"})},[I,null==o?void 0:o.slidesOnly]),_=(0,s.useCallback)(e=>{console.error("Google auth failed:",e),j({title:(0,n.jsx)(l.cC,{id:"FL/pCd",values:{error:e}}),status:"error",duration:3e3,position:"top",isClosable:!1})},[j]),U=(0,r.Nq)({scope:m,hint:null==C?void 0:C.email,prompt:"",onSuccess:e=>{(0,r.FX)(e,m)?T(e.access_token):_("Could not get requested scopes")},onError:_}),E=(0,s.useCallback)(()=>{window.gapi.load("picker",()=>{h(!0)})},[]);(0,u.Gq)("https://apis.google.com/js/api.js",{onload:E});let A=(0,s.useCallback)(()=>{x&&(f?T(f):U())},[f,U,x,T]);return{initiateGoogleImport:A,isImporting:b,isSuccess:w}}},38721:function(e,t,o){o.d(t,{S:function(){return h}});var n=o(52322),i=o(70065),l=o(5879),r=o(13326),s=o(2784),a=o(14274),c=o(23405),d=o(2090),u=o(86581),p=o(39278),m=o(17831),x=o(85747);let h=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],o=(0,i.p)(),{currentWorkspace:h}=(0,p.SE)(),[f,g]=(0,s.useState)(!1),[j,C]=(0,s.useState)(!1),b=(0,c.y)("pptImportV2"),v=(0,s.useRef)(!0);(0,s.useEffect)(()=>(v.current=!0,()=>{v.current=!1}),[]);let w=(0,s.useCallback)(async(t,i)=>{let{isPPT:r,toastId:s}=i,c=performance.now();(0,d.cT)(t,null==h?void 0:h.id,{onUploadComplete:async t=>{let{src:i,name:a}=t,d=await fetch(i).then(e=>e.text()),u=a.replace(/[.]html$/,"");e.onUploadComplete({html:d,htmlUrl:i,filename:u,source:r?"PptxUpload":"DocxUpload",src:i,latency:performance.now()-c}),s&&o.update(s,{status:"success",title:(0,n.jsx)(l.cC,{id:"oMgC5V"}),duration:1e3,isClosable:!0}),C(!0),g(!1)},onUploadFailed(t){var i;let a={status:"error",title:(0,n.jsx)(l.cC,{id:"SlfejT"}),description:(0,n.jsx)(l.cC,{id:"lIW942"}),duration:5e3,isClosable:!0};s?o.update(s,a):o({...a,id:s,position:"top"}),null===(i=e.onUploadFailed)||void 0===i||i.call(e,{message:t,latency:performance.now()-c,source:r?"PptxUpload":"DocxUpload"}),g(!1),C(!1)},onProgress:e.onProgress},void 0,"importDoc",a.v.TRANSLOADIT_DOC_IMPORT_TEMPLATE_ID)},[null==h?void 0:h.id,e,o]),y=(0,s.useCallback)((t,i)=>{let{toastId:r}=i,s=performance.now();(0,d.cT)(t,null==h?void 0:h.id,{onUploadComplete:async t=>{let{name:i,fullResults:a,src:c}=t,{convert_to_html:d,convert_to_html_legacy:u,convert_to_pdf:p,pdf_to_images:m}=a,x=m.map(e=>({index:e.meta.thumb_index,width:e.meta.width,height:e.meta.height,url:e.ssl_url})),h=p[0].ssl_url,f=p[0].original_name||i.replace(/[.]x?html$/,""),j=d[0].ssl_url,b=u[0].ssl_url,v=await fetch(b).then(e=>e.text());e.onUploadComplete({html:v,filename:f,htmlUrl:b,xhtmlUrl:j,src:c,source:"PptxUpload",thumbnails:x,pdfUrl:h,fileUrl:c,latency:performance.now()-s}),r&&o.update(r,{status:"success",title:(0,n.jsx)(l.cC,{id:"oMgC5V"}),duration:1e3,isClosable:!0}),C(!0),g(!1)},onUploadFailed(t){var i;let a={status:"error",title:(0,n.jsx)(l.cC,{id:"SlfejT"}),description:(0,n.jsx)(l.cC,{id:"lIW942"}),duration:5e3,isClosable:!0};r?o.update(r,a):o({...a,id:r,position:"top"}),null===(i=e.onUploadFailed)||void 0===i||i.call(e,{message:t,latency:performance.now()-s,source:"PptxUpload"}),g(!1),C(!1)},onProgress:e.onProgress},void 0,"importPpt",a.v.TRANSLOADIT_PPT_IMPORT_TEMPLATE_ID)},[null==h?void 0:h.id,e,o]),S=(0,s.useCallback)(async(t,i)=>{var r,s,c,d;let{toastId:p}=i,x=performance.now();try{null===(r=e.onProgress)||void 0===r||r.call(e,0);let i=new FormData;i.append("file",t);let d=await fetch("".concat(a.v.API_HOST,"/ai/convert/pdf"),{method:"POST",body:i,credentials:"include"}).then(e=>e.text()),h=25,f="";for(let t=0;t<120;t++){if(!v.current){g(!1);return}h=(0,m.t7)(h,100,.05),null===(s=e.onProgress)||void 0===s||s.call(e,h),await new Promise(e=>setTimeout(e,1e3));try{let t=await fetch("".concat(a.v.API_HOST,"/ai/convert/pdf/check?url=").concat(d),{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!t.ok)throw Error("Error polling: ".concat(t.statusText));let o=await t.json();if(!o.processing){null===(c=e.onProgress)||void 0===c||c.call(e,100),f=o.markdown;break}}catch(e){throw Error("Error polling: ".concat(e))}}if(!f)throw Error("Timed out trying to upload");let j=(0,u.c8)(f);C(!0),g(!1),e.onUploadComplete({html:j,filename:t.name,source:"PdfUpload",src:t.name,markdown:f,latency:performance.now()-x}),p&&o.update(p,{status:"success",title:(0,n.jsx)(l.cC,{id:"oMgC5V"}),duration:1e3,isClosable:!0})}catch(i){let t={status:"error",title:(0,n.jsx)(l.cC,{id:"SlfejT"}),description:(0,n.jsx)(l.cC,{id:"lIW942"}),duration:5e3,isClosable:!0};p?o.update(p,t):o({...t,id:p,position:"top"}),null===(d=e.onUploadFailed)||void 0===d||d.call(e,{message:i.message,latency:performance.now()-x,source:"PdfUpload"}),C(!1)}finally{g(!1)}},[e,o]),k=(0,s.useCallback)(async i=>{var s;let a;null===(s=e.onUploadStarted)||void 0===s||s.call(e),g(!0);let c=i[0],u=d.eb.includes(c.type),p=c.type===r.Z.pdf;t&&(a=o({id:"load-doc-toast-".concat(c.name),position:"top",duration:null,status:"loading",variant:"subtle",title:(0,n.jsx)(l.cC,{id:"hdsaJo"}),description:(0,n.jsx)(l.cC,{id:"HOoZAi"}),isClosable:!1})),u&&b?y(c,{toastId:a}):p?S(c,{toastId:a}):w(c,{isPPT:u,toastId:a})},[e,b,o,w,y,S,t]),P=(0,c.y)("importPdf"),I=P?[r.Z.pdf]:[],{onClick:T,inputElement:_}=(0,x.E)({handleFilesCallback:k,multiple:!1,accept:[...d.u0,...d.eb,...I].join(",")});return{initiateDocUpload:T,hiddenInputElement:_,isUploading:f,handleDocUpload:k,isSuccess:j}}},25195:function(e,t,o){o.d(t,{E:function(){return m}});var n=o(14008),i=o(68023),l=o(76801),r=o(84586),s=o(91982),a=o(9165),c=o(52322),[d,u]=(0,a.k)({name:"ProgressStylesContext",errorMessage:"useProgressStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Progress />\" "}),p=(0,i.G)((e,t)=>{let{min:o,max:i,value:r,isIndeterminate:s,role:a,...d}=e,p=(0,n.Wt)({value:r,min:o,max:i,isIndeterminate:s,role:a}),m=u(),x={height:"100%",...m.filledTrack};return(0,c.jsx)(l.m.div,{ref:t,style:{width:`${p.percent}%`,...d.style},...p.bind,...d,__css:x})}),m=(0,i.G)((e,t)=>{var o;let{value:i,min:a=0,max:u=100,hasStripe:m,isAnimated:x,children:h,borderRadius:f,isIndeterminate:g,"aria-label":j,"aria-labelledby":C,"aria-valuetext":b,title:v,role:w,...y}=(0,r.Lr)(e),S=(0,s.jC)("Progress",e),k=null!=f?f:null==(o=S.track)?void 0:o.borderRadius,P={animation:`${n.Ag} 1s linear infinite`},I=!g&&m,T={...I&&x&&P,...g&&{position:"absolute",willChange:"left",minWidth:"50%",animation:`${n.YD} 1s ease infinite normal none running`}},_={overflow:"hidden",position:"relative",...S.track};return(0,c.jsx)(l.m.div,{ref:t,borderRadius:k,__css:_,...y,children:(0,c.jsxs)(d,{value:S,children:[(0,c.jsx)(p,{"aria-label":j,"aria-labelledby":C,"aria-valuetext":b,min:a,max:u,value:i,isIndeterminate:g,css:T,borderRadius:k,title:v,role:w}),h]})})});m.displayName="Progress"}}]);
//# sourceMappingURL=2329-90610d83462170d1.js.map