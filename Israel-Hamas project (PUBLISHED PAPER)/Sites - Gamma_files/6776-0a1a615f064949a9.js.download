"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6776],{37869:function(n,t,a){a.d(t,{U:function(){return o},V:function(){return r}});var i=a(64518);let o=function(n){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?n||"Untitled":n?"".concat(n," | Gamma"):"Gamma"},r=function(n){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(null==n?void 0:n.trim())||(t?"":i.D)}},85326:function(n,t,a){a.d(t,{Lu:function(){return l},O1:function(){return s},lP:function(){return d}});var i=a(2784),o=a(91994),r=a(47968),e=a(39278);let s=()=>{let n=(0,o.CG)(r.yx),t=(0,e.py)("edit",n),a=(0,i.useRef)(t);return n&&(a.current=t),a.current},l=()=>{let n=(0,o.CG)(r.yx),t=(0,e.py)("manage",n),a=(0,i.useRef)(t);return n&&(a.current=t),a.current},d=()=>{let n=s(),t=(0,o.CG)(r.yx),a=(0,e.py)("edit",t);return(null==t?void 0:t.site)?n:a}},74389:function(n,t,a){a.d(t,{k:function(){return $},h:function(){return E}});var i=a(54073),o=a.n(i),r=a(12436),e=a.n(r),s=a(2784),l=a(14274),d=a(41774),c=a(91994),m=a(24781),u=a(95426),f=a(31181),v=a(30673),p=a(4878),b=a(87428),y=a(47968),g=a(90604),h=a(78160),x=a(50125);let w=n=>{if(n.classList.add(x.RN),n.classList.contains(x.VM)){let t=n.querySelectorAll(".".concat(x.l));t.forEach(n=>{n.classList.add(x.RN)})}};var k=a(4170);let C="number"==typeof l.v.EDITOR_ANIMATION_DEBUG_FACTOR?l.v.EDITOR_ANIMATION_DEBUG_FACTOR:1,z="cubic-bezier(0.22, 1, 0.36, 1)",I=1*C,j=.15*C,$=n=>{let{scrollingParentSelector:t,editor:a,instanceId:i,disabledOverride:r}=n,l=(0,m.As)("editor"),f=(0,p.Br)("edit"),h=(0,c.CG)(n=>{var t,i;let o=null!=a&&!!a.shouldUsePublishedVersion||((0,y.gh)(n)===g.q.SLIDE_VIEW?!1===(0,y.hN)(n):!1===f),e=!1==!!(null===(t=(0,y.k8)(n))||void 0===t?void 0:t.pos),s=(0,y.Bk)(n),l=(0,k.C)(null==s?void 0:s.settings)||!1==!!(null==s?void 0:s.docId),c=(0,y.P7)(n),m=!(0,d.Sj)(null==a?void 0:a.gammaDocId)(n),u=(null===(i=(0,y.yx)(n))||void 0===i?void 0:i.archived)!==!0;return o&&e&&!0!==r&&l&&c&&m&&u}),[C,$]=(0,s.useState)(I),E=(0,b.K)(),O=(0,c.CG)(y.nz),_=(0,c.CG)(y.Oi),S=(0,c.CG)(n=>(0,y.gh)(n)===g.q.SLIDE_VIEW&&!(0,y.nz)(n)),A=(0,c.CG)(y.JA),P=(0,c.CG)(y.i2)||"",R=(0,s.useRef)(O),L=!O&&!_;return(0,s.useEffect)(()=>{if(!h||!a)return;let n=l.scrollerForEvents,t=e()(()=>{l.isAtBottom(5)&&a.commands.addAnimationPositions([a.view.state.doc.content.size],O)},500);return null==n||n.addEventListener("scroll",t),()=>{null==n||n.removeEventListener("scroll",t)}},[a,l,h,O]),(0,s.useEffect)(()=>{S&&(console.debug("[useAnimateOnLoad] Setting animation duration to 0s"),$(0))},[S]),(0,s.useEffect)(()=>{var n,t;null==a||null===(n=(t=a.commands).enableAnimations)||void 0===n||n.call(t,h)},[a,h]),(0,s.useEffect)(()=>{if(!a||!A)return;let n=o()(n=>{let{transaction:t}=n;t.docChanged&&a.commands.addAnimationPositions([t.selection.to],!0)},500,{leading:!0,trailing:!0,maxWait:1e3});return a.on("update",n),()=>{a.off("update",n)}},[a,A]),(0,s.useEffect)(()=>{var n;let o=R.current;if(R.current=O,!E||!a||L||!h)return;let r=document.querySelectorAll([x.GD,x.iI,x.VM].map(n=>".".concat(n)).join(", ")),e=O?(0,v.U8)(P):t;console.debug("[useAnimateOnLoad] Setting up animations:",{isPresentMode:O,isDocMode:_,presentingCardId:P,rootSelectorEl:document.querySelector(e),rootSelector:e,elements:r,editorId:a.editorId,instanceId:i});let s=0;o!==O&&O&&(console.debug("[useAnimateOnLoad] Entering present mode - Resetting animations"),s=150,a.commands.resetAnimationPositions(!0)),!(null===(n=window.gammaTiming)||void 0===n?void 0:n.editorAnimationsInitialized)&&(null==a?void 0:a.shouldUsePublishedVersion)&&(0,u.a)("editorAnimationsInitialized");let l=()=>{if(window.gammaSiteAnimationsInitialized||!(null==a?void 0:a.shouldUsePublishedVersion))return;window.gammaSiteAnimationsInitialized=!0;let n="site-animations-bootstrap";document.body.classList.contains(n)?(document.body.classList.remove(n),console.log("%c[useAnimateOnLoad] REMOVING site-animations-bootstrap class $$$$$$$$$$$$$$$$$$$$","background-color: deeppink; color: white; padding: 5px; font-size: 1.5em;")):console.log("%c[useAnimateOnLoad] site-animations-bootstrap class not found $$$$$$$$$$$$$$$$$$$$","background-color: deeppink; color: white; padding: 5px; font-size: 1.5em;")},d=new IntersectionObserver(n=>{let t=[];for(let i of n)if(i.isIntersecting){let n=Number(i.target.getAttribute("data-pos"));n&&w(i.target);let o=n||a.view.posAtDOM(i.target,0);if(o&&o>0){let r=(0,x.PY)(a,o);console.debug("[useAnimateOnLoad] animate isIntersecting",{pos:o,dataPos:n,$closestAnimatablePos:r,dataAttrPos:i.target.getAttribute("data-pos")},i.target),n?t.push(n):r&&t.push(r.pos),d.unobserve(i.target)}}l(),requestAnimationFrame(()=>{$(I)}),setTimeout(()=>{a.commands.addAnimationPositions(t,O)},s)},{root:"body"!==e?document.querySelector(e):void 0,rootMargin:"-100px"});return r.forEach(n=>{d.observe(n)}),()=>{r.forEach(n=>{d.unobserve(n)})}},[E,a,i,h,O,L,_,P,t]),{editorAnimationsClass:h?"editor-animations-enabled":"",editorAnimationsCSSVars:{"--animation-yOffset":"20px","--animation-transition-property":"opacity, transform","--animation-transition-duration":"".concat(C,"s"),"--animation-transition-delay":"".concat(0===C?0:j,"s"),"--animation-easing-function":z}}},E=n=>{let{disabledOverride:t}=n,a=(0,c.TL)(),i=(0,c.CG)(n=>{let a=(0,y.Bk)(n),i=(0,k.C)(null==a?void 0:a.settings)||!1==!!(null==a?void 0:a.docId);return!0!==t&&i});return(0,s.useEffect)(()=>{if(!i)return;let n=document.querySelectorAll([h.$K,h.GI].map(n=>".".concat(n)).join(", ")),t=new IntersectionObserver(n=>{for(let i of n)i.isIntersecting&&(console.debug("[useSiteNavAnimations] animate isIntersecting",i.target),w(i.target),(0,f.sd)(a)(!0),t.unobserve(i.target))},{root:document.body,rootMargin:"0px"});return n.forEach(n=>{t.observe(n)}),()=>{n.forEach(n=>{t.unobserve(n)}),(0,f.sd)(a)(!1)}},[i,a]),{navbarAnimationsClass:i?"editor-navbar-animations-enabled":"",navbarAnimationsCSSVars:{"--animation-yOffset":"20px","--animation-transition-property":"opacity, transform","--animation-transition-duration":"".concat(I,"s"),"--animation-transition-delay":"".concat(j,"s"),"--animation-easing-function":z}}}},98576:function(n,t,a){a.d(t,{n:function(){return n$}});var i=a(52322),o=a(38035),r=a(86900),e=a(42626),s=a(86509),l=a(9432),d=a(39615),c=a(39475),m=a(2784),u=a(50788),f=a(15151),v=a(5995),p=a(62040),b=a(27407),y=a(3253),g=a(77220),h=a(93486),x=a(17487),w=a(17630),k=a(37243),C=a(70286),z=a(11093),I=a(86353),j=a(28535),$=a(32899),E=a(55478),O=a(29117),_=a(11082),S=a(36474),A=a(73200),P=a(87254),R=a(91994),L=a(31181),G=a(46751),N=a(50125),D=a(90507),M=a(47968),B=a(56253),T=a(12832),U=a(78160),F=a(26803),W=a(15041),H=a(4878),q=a(13265);let V=()=>(0,H.GX)({base:!0,lg:!1})||!1,Y=()=>{let n=(0,q.g)(),t=(0,R.CG)(t=>{let a=(0,M.yx)(t),i=null==a?void 0:a.site;if(!i||!n)return"";let o=(0,W.eH)(i);return o||""}),a=(0,F.H)({url:t});return{homeUrl:a.linkUrl,handleLogoClick:a.handleClick}},K=n=>{let{active:t}=n;return(0,i.jsxs)(j.xu,{boxSize:"1.5rem",pos:"relative",pointerEvents:"none",children:[(0,i.jsx)(Q,{top:t?"50%":"calc(50% + .375rem)",transform:t?"rotate(45deg)":void 0}),(0,i.jsx)(Q,{top:"50%",opacity:t?0:1}),(0,i.jsx)(Q,{top:t?"50%":"calc(50% - .375rem)",transform:t?"rotate(-45deg)":void 0})]})},Q=n=>(0,i.jsx)(j.xu,{pos:"absolute",w:"1.25rem",h:"0.125rem",borderRadius:"full",bg:"currentcolor",insetStart:"0.125rem",transitionProperty:"all",transitionDuration:"normal",...n}),Z=n=>{let{isOpen:t,...a}=n;return(0,i.jsx)($.h,{variant:"unstyled",size:"xs",icon:(0,i.jsx)(K,{active:t}),contentEditable:!1,...a})},J=n=>{var t,a;let i={width:void 0,height:void 0,aspectRatio:void 0};if(!n)return i;let o=null==n?void 0:null===(t=n.meta)||void 0===t?void 0:t.width,r=null==n?void 0:null===(a=n.meta)||void 0===a?void 0:a.height,e=o&&r&&o/r||1;return e>1?i.width="100%":i.width="auto",i.height="100%",i.aspectRatio=e,i},X=n=>{var t,a,i,o,r,e,s,l;let d=null===(o=n.content.content.find(n=>"navbarLinks"===n.type.name))||void 0===o?void 0:null===(i=o.content)||void 0===i?void 0:null===(a=i.content)||void 0===a?void 0:null===(t=a[0])||void 0===t?void 0:t.textContent,c=null===(l=n.content.content.find(n=>"navbarButtons"===n.type.name))||void 0===l?void 0:null===(s=l.content)||void 0===s?void 0:null===(e=s.content)||void 0===e?void 0:null===(r=e[0])||void 0===r?void 0:r.textContent;return void 0!==d&&""!==d||void 0!==c&&""!==c},nn=n=>{let{node:t,editor:a}=n,{isOpen:r,onToggle:e}=(0,E.q)(),s=t.attrs.logo,l=(0,R.CG)(M.Pu),{defaultContentWidth:d}=(0,R.CG)(M.US),{cardWidthEms:c,baseFontSize:f}=(0,B.Rs)(l,!1,"lg"===d),v=(0,R.CG)(M.Pw),p=(0,R.CG)(L.NQ),b=(0,u.C7)(),y=V(),g=b?y&&X(t):y,h=s&&s.src,x=(0,m.useMemo)(()=>J(s),[s]),w="".concat(U.ZQ-2*U.s6,"px"),k=!h&&!X(t)&&b,{homeUrl:C,handleLogoClick:z}=Y();return(0,m.useEffect)(()=>{if(g&&!r){var n,t;null===(n=(t=a.commands).forceHideBubbleMenu)||void 0===n||n.call(t,!1)}},[g,r,a]),(0,i.jsx)(D.T5,{children:(0,i.jsxs)(o.k,{direction:"column",align:"center",justify:"center",pos:"relative",w:"100%",p:"".concat(U.s6,"px"),zIndex:"1",h:U.ik,children:[(0,i.jsx)(j.xu,{pos:"absolute","data-id":"navbar-view-backdrop",className:(0,A.cx)(U.$K,p&&N.RN),inset:"0",sx:G.Fx,style:{borderRadius:"0px"}}),k?null:(0,i.jsxs)(O.U,{className:(0,A.cx)(U.GI,p&&N.RN),...g&&!r?{[U.aX]:!0}:{},spacing:4,maxW:"".concat(c,"em"),w:"100%",fontSize:"".concat(f,"em"),align:"center",sx:{".header-dropdown":G.Fx,"[data-node-view-content-inner=navbar]":{display:"flex",width:"100%",flexDirection:y?"column":"row",alignItems:"center"},".node-navbarLinks":{flexGrow:y?0:1,width:y?"100%":void 0},".node-navbarButtons":{marginTop:y?"0.5em":void 0,marginLeft:y?void 0:"0.5em",width:y?"100%":void 0},".node-buttonGroup":{flexGrow:y?1:0,"--button-group-direction":"row-reverse",'[data-node-view-content-inner="button"]':{whiteSpace:"nowrap !important"},width:y?"100%":void 0}},children:[h||v?(0,i.jsx)(j.xu,{as:_.r,href:C,onClick:z,h:w,w:(null==x?void 0:x.aspectRatio)?"calc(".concat(w," * ").concat(x.aspectRatio,")"):w,children:(0,i.jsx)(T.Z,{image:s,imageSx:{backgroundSize:"contain",borderRadius:(null==s?void 0:s.src)?"none":"md",cursor:"pointer",...x},...n})}):null,!g&&(0,i.jsx)(D.ms,{style:{flex:1}}),g&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(S.L,{}),(0,i.jsx)(Z,{"aria-label":P.ag._({id:"knMf50"}),color:"var(--body-color)",onClick:e,isOpen:r,mr:4}),r&&(0,i.jsx)(j.xu,{pos:"absolute",w:"100%",left:"0",top:U.ZQ,backgroundColor:"var(--card-color)",transform:"translateY(".concat(r?"0":"-100%",")"),opacity:r?1:0,pointerEvents:r?"auto":"none",transitionProperty:"transform, opacity",transitionDuration:"normal",className:"header-dropdown",p:4,children:(0,i.jsx)(D.ms,{})})]})]})]})})},nt=k.NB.create({name:"navbar",content:"navbarLinks navbarButtons",imageKeyPath:"logo",accessoryImageKey:"logo",addAttributes:()=>({logo:{default:null,...(0,z.sw)("logo")}}),parseHTML:()=>[{tag:'nav[class="navbar"]'}],renderHTML(n){let{HTMLAttributes:t}=n;return["nav",(0,k.P1)(t,{class:"navbar"}),0]},addNodeView:()=>(0,C.f)(nn,{update:I.E7})});var na=a(13653),ni=a(59799),no=a(36909),nr=a(94465),ne=a(42703),ns=a(14027),nl=a(74389),nd=a(13180),nc=a(54653),nm=a(5879),nu=a(4030),nf=a(36850),nv=a(50499),np=a(62614),nb=a(77533),ny=a(24041);let ng=n=>{let{variant:t}=n;return{buttonStyle:"solid"===t?{backgroundColor:"var(--placeholder-button-bg-color) !important",backgroundImage:"0 none !important",borderColor:"var(--placeholder-button-bg-color) !important",_hover:{backgroundColor:"var(--placeholder-button-bg-hover-color) !important",borderColor:"var(--placeholder-button-bg-hover-color)"}}:"outline"===t?{borderColor:"var(--placeholder-button-text-color) !important",backgroundColor:"transparent !important",_hover:{borderColor:"var(--placeholder-button-text-hover-color)"}}:{}}},nh=n=>{let{editor:t,getPos:a,node:r,maxButtons:e,variant:s,label:l}=n,d=(0,R.CG)(M.Pw),c=!e||r.childCount<e,u=(0,m.useCallback)(()=>{t.commands.addButtonToGroup(a())},[t,a]),f=(0,m.useMemo)(()=>({...(0,ny.$)({variant:s})}),[s]);if(!c||!d)return null;let{buttonStyle:v}=ng({variant:s});return(0,i.jsx)(o.k,{position:"relative",align:"center",children:(0,i.jsx)(np.z,{onClick:u,className:"button",...f,...v,role:"group",userSelect:"none",contentEditable:!1,children:(0,i.jsx)(nb.x,{as:"div",wordBreak:"break-all",textAlign:"center",pos:"relative",color:"var(--placeholder-button-text-color)",_groupHover:{color:"var(--placeholder-button-text-hover-color) !important"},children:l})})})},nx=n=>{let{decorations:t}=n,a=V(),r=(0,nd.R)(t);return(0,i.jsx)(nu.lO,{...n,children:(0,i.jsxs)(o.k,{w:"100%","data-selection-ring":"padded",borderRadius:"var(--box-border-radius)",direction:a?"column-reverse":"row-reverse",fontFamily:"var(--body-font)",sx:(0,nv.m)(a),gap:"0.5em",children:[r&&(0,i.jsx)(nh,{...n,variant:"solid",label:(0,i.jsx)(nm.cC,{id:"xe7fzh"})}),!a&&!r&&(0,i.jsx)(nf.X,{...n,direction:"row-reverse",maxButtons:2}),(0,i.jsx)(D.ms,{})]})})},nw=k.NB.create({name:"navbarButtons",content:"button{0, ".concat(2,"}"),addNodeView:()=>(0,D.fW)(nx,{update:I.I_}),parseHTML:()=>[{tag:"div[class=navbar-buttons]"},{tag:"buttons"}],renderHTML(n){let{HTMLAttributes:t}=n;return["div",(0,k.P1)(t,{class:"navbar-buttons"}),0]}});var nk=a(39540);let nC=n=>{let{node:t,decorations:a}=n,{horizontalAlign:r}=t.attrs,e=V(),s=(0,nk.v)(a),l=e?"column":"row",d=(0,R.CG)(M.hN),c=(0,nd.R)(a),m=(0,i.jsx)(nf.X,{...n,direction:l,tooltip:(0,i.jsx)(nm.cC,{id:"JecGQl"}),maxButtons:5}),u=d||e?void 0:{_after:nz};return(0,i.jsx)(nu.lO,{...n,children:(0,i.jsxs)(o.k,{w:"100%","data-selection-ring":"padded",borderRadius:"var(--box-border-radius)",direction:l,justify:(0,w.yg)(r)||"var(--flex-align)",pl:e?void 0:4,sx:{...(0,nv.m)(e),".button[data-variant=link]":{outlineStyle:s?"solid":"none",outlineWidth:"1px",outlineColor:"var(--grid-outline-color)",color:"var(--body-color)",fontWeight:"var(--body-font-weight)",_hover:u,"&[data-is-current-page=true]":{color:"var(--link-color)",_after:e?{}:nz}}},fontFamily:"var(--body-font)",gap:"0.5em",children:[c&&(0,i.jsx)(nh,{...n,variant:"link",label:(0,i.jsx)(nm.cC,{id:"JecGQl"})}),(0,i.jsx)(D.ms,{}),!e&&!c&&m]})})},nz={content:'""',pos:"absolute",w:"100%",left:0,bottom:"0.125em",height:"0.25em",borderRadius:"inherit",zIndex:"0",backgroundColor:"var(--link-color)",backgroundImage:"var(--accent-gradient)"},nI=k.NB.create({name:"navbarLinks",content:"button*",addNodeView:()=>(0,D.fW)(nC,{update:I.I_}),parseHTML:()=>[{tag:"div[class=navbar-links]"}],renderHTML(n){let{HTMLAttributes:t}=n;return["div",(0,k.P1)(t,{class:"navbar-links"}),0]}}),nj=()=>[e.B.extend({content:"navbar"}),nt,nI,nw,h.z,d.x,x.Hy,r.d8,c.v,l.Tx,s.A,ni.U,g.NM,w.Kq,no._,na.Jn,nd._,x.Pi,nc.R],n$=(0,m.memo)(n=>{let{theme:t=ns.g,scrollingParentSelector:a,...r}=n,e=(0,u.C7)(),s=(0,m.useMemo)(()=>nj(),[]),l=(0,nr.j)({...r,extensions:s,editable:!e});(0,p.n)(l);let d=(0,v.l)(t),c=(0,f.J)(t,!0),{navbarAnimationsClass:g,navbarAnimationsCSSVars:h}=(0,nl.h)({disabledOverride:!1===e});if(!l)return null;l.isSiteNavbarEditor=!0;let x=e?(0,i.jsx)(ne.f,{editor:l}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(D.kg,{editor:l,style:{wordBreak:"break-word",flex:1,display:"flex",flexDirection:"column"}}),(0,i.jsx)(y.u,{editor:l,menuContext:"navigation",scrollingParentSelector:a}),(0,i.jsx)(b.Y,{editor:l})]});return(0,i.jsx)(o.k,{flex:"1",direction:"column","data-navbar-editor":!0,className:g,style:h,sx:{...d,...c,...t.config.contentStyles},children:x})});n$.displayName="NavbarEditor"},52926:function(n,t,a){a.d(t,{_i:function(){return P._},eT:function(){return nt}});var i=a(52322),o=a(70065),r=a(56920),e=a(5879),s=a(5632),l=a(2784),d=a(93624),c=a(18724),m=a(18469),u=a(91994),f=a(39278),v=a(19585),p=a(34919);let b=n=>{let t=(0,u.TL)(),{currentWorkspace:a}=(0,f.SE)();(0,l.useEffect)(()=>{if(n)return v.VH.updateWorkspaceInLdContext(n).then(()=>{t((0,p.vH)({isDocWorkspaceSet:!0}))}),()=>{v.VH.updateWorkspaceInLdContext(a).then(()=>{t((0,p.vH)({isDocWorkspaceSet:!1}))})}},[a,t,n])};var y=a(34881),g=a(73235),h=a(57981);function x(){let n=(0,g._)(["\n  fragment DefaultCardFields on Card {\n    id\n    archived\n    docId\n    title\n    text\n    previewUrl\n    createdTime\n    updatedTime\n  }\n"]);return x=function(){return n},n}function w(){let n=(0,g._)(["\n  mutation CreateCard($id: ID!, $docId: ID!) {\n    createCard(id: $id, docId: $docId) {\n      id\n    }\n  }\n"]);return w=function(){return n},n}function k(){let n=(0,g._)(["\n  ","\n  query GetCard($id: ID!, $docId: ID!) {\n    card(id: $id, docId: $docId) {\n      ...DefaultCardFields\n    }\n  }\n"]);return k=function(){return n},n}function C(){let n=(0,g._)(["\n  ","\n  query GetCards($docId: ID!, $password: String) {\n    docCards(docId: $docId, password: $password, archived: false) {\n      ...DefaultCardFields\n    }\n  }\n"]);return C=function(){return n},n}function z(){let n=(0,g._)(["\n  ","\n  subscription SubscribeToCards($docId: ID!) {\n    docCards(docId: $docId) {\n      ...DefaultCardFields\n    }\n  }\n"]);return z=function(){return n},n}let I=(0,h.Ps)(x());(0,h.Ps)(w()),(0,h.Ps)(k(),I),(0,h.Ps)(C(),I);let j=(0,h.Ps)(z(),I);var $=a(38703),E=a(89458),O=a(78462),_=a(88640),S=a(56943),A=a(97590),P=a(12825),R=a(55478),L=a(41774),G=a(92850),N=a(26468),D=a(22226),M=a(54326),B=a(2338),T=a(97217),U=a(43297),F=a(77533),W=a(50250),H=a(75768),q=a(62614),V=a(80498);let Y=n=>{var t;let a=(null===(t=(0,u.CG)((0,L.oH)(n||"")))||void 0===t?void 0:t.status)==="running",i=(0,l.useRef)(a);i.current=a;let[o,r]=(0,l.useState)(()=>new V.B),e=(0,l.useCallback)(()=>{o.resolve()},[o]),{isOpen:s,onOpen:d,onClose:c}=(0,R.q)(),m=(0,l.useCallback)(()=>{if(!i.current)return Promise.resolve();let n=new V.B;return r(n),d(),n.promise},[d]);return{confirmNavigationFn:m,confirmNavigationModalProps:{isOpen:s,onClose:c,onConfirm:e}}},K=n=>{let{isOpen:t,onClose:a,onConfirm:o}=n;return(0,i.jsxs)(G.u_,{onClose:a,isOpen:t,isCentered:!0,children:[(0,i.jsx)(N.Z,{}),(0,i.jsxs)(D.h,{children:[(0,i.jsx)(M.x,{children:(0,i.jsx)(e.cC,{id:"YeK6T+"})}),(0,i.jsx)(B.o,{}),(0,i.jsx)(T.f,{children:(0,i.jsxs)(U.K,{spacing:4,children:[(0,i.jsx)(F.x,{fontWeight:"bold",children:(0,i.jsx)(e.cC,{id:"Wr6Y7m"})}),(0,i.jsx)(F.x,{children:(0,i.jsx)(e.cC,{id:"n0Fn6S"})})]})}),(0,i.jsx)(W.m,{children:(0,i.jsxs)(H.h,{children:[(0,i.jsx)(q.z,{variant:"ghost",onClick:a,children:(0,i.jsx)(e.cC,{id:"dEgA5A"})}),(0,i.jsx)(q.z,{variant:"ghost",color:"red.600",onClick:o,children:(0,i.jsx)(e.cC,{id:"QxM8i/"})})]})})]})]})};var Q=a(76332),Z=a(85326),J=a(31181);let X=n=>{var t;let{doc:a}=n,i=null==a?void 0:a.id,o=null==a?void 0:null===(t=a.site)||void 0===t?void 0:t.id,r=(0,u.TL)(),e=(0,Z.O1)(),s=!!(!i||!o||!e),{data:d}=(0,Q.ZUZ)({variables:{id:o},returnPartialData:!0,nextFetchPolicy:"cache-and-network",skip:s}),c=null==d?void 0:d.site;(0,l.useEffect)(()=>{c&&i&&e&&(0,J.zs)(r)({site:c,docId:i})},[i,r,c,e])},nn=n=>{let{children:t}=n,a=(0,o.p)(),v=(0,f.we)(),p=(0,u.CG)(A.XV),{user:g,userStatus:h}=(0,f.SE)(),x=(0,l.useRef)(null),w=(0,u.TL)(),{push:k,replace:C}=(0,s.useRouter)(),z=(0,u.CG)(A.yx),[I,R,L]=(0,O.NO)(),[G,N]=(0,E.I)(_.H.gammaDocPasswords,{}),D=R&&R.match(O.sg),M=D?D[0]:null,B=G[M],{confirmNavigationFn:T,confirmNavigationModalProps:U}=Y(M),[F,W]=(0,l.useState)({isUnauthorized:void 0,passwordRequired:void 0,setCollaborativeEditorInstance:n=>{x.current=n,W(t=>({...t,editor:n}))},getCollaborativeEditorInstance:()=>x.current,confirmNavigation:T,editor:void 0});(0,c.ts)(z),b(null==z?void 0:z.organization);let[H,{data:q,error:V,loading:Q,called:Z,subscribeToMore:J}]=(0,d.WMx)({variables:{id:M,password:B},returnPartialData:!0,nextFetchPolicy:"cache-only"}),nn=(0,f.Is)("edit",null==q?void 0:q.doc);X({doc:null==q?void 0:q.doc}),(0,$.$)(H),(0,l.useEffect)(()=>{if(J&&F.docId&&Z)return J({document:S.dU,variables:{id:F.docId},updateQuery:(n,t)=>{let{subscriptionData:a}=t;return a.data&&a.data.doc&&n.doc?{doc:{...n.doc,...a.data.doc,__typename:"Doc"}}:n}})},[F.docId,J,Z]);let[nt,{data:na,called:ni,subscribeToMore:no}]=(0,d.WBF)({variables:{docId:M,password:B},returnPartialData:!0,nextFetchPolicy:"cache-only"});(0,m.p)(null==na?void 0:na.docCards,F.editor);let nr=(0,l.useCallback)(n=>{let t={variables:{id:M,docId:M,password:n}};return Promise.all([H(t),nt(t)])},[H,nt,M]),ne=(0,l.useCallback)(n=>(N({...G,[M]:n}),nr(n)),[nr,M,G,N]);return((0,l.useEffect)(()=>{if(no&&F.docId&&ni)return no({document:j,variables:{docId:F.docId},updateQuery:(n,t)=>{let{subscriptionData:a}=t;return a.data&&a.data.docCards?a.data:n}})},[F.docId,no,ni]),(0,l.useEffect)(()=>{if(F.docId!==M&&R){if(!M){a({id:"invalid_doc_id_error",title:(0,i.jsx)(e.cC,{id:"742lf1"}),description:"",status:"error",position:"top",isClosable:!1,duration:null});return}nr(B),W(n=>({...n,onPasswordSubmitted:ne,docId:M}))}},[F.docId,R,M,B,nr,ne,w,a]),(0,l.useEffect)(()=>{if("loading"!==h&&Z&&!Q&&R){if(!q||!q.doc){if(null==V?void 0:V.graphQLErrors.some(n=>"unauthorized"===n.code)){W(n=>({...n,isUnauthorized:!0,passwordRequired:!0}));return}"loggedOut"===h&&k("/signin?redirect_to=".concat(encodeURIComponent(window.location.href))),W(n=>({...n,isUnauthorized:!0,passwordRequired:!1}));return}if(q&&nn&&(q.doc.archived||null===q.doc.currentSnapshotId)){W(n=>({...n,isUnauthorized:!0}));return}W(n=>!1===n.isUnauthorized?n:{...n,passwordRequired:!1,isUnauthorized:!1}),w((0,A.pl)({doc:q.doc}))}},[v,nn,q,V,Q,R,Z,p,h,k,w,C,g]),(0,l.useEffect)(()=>()=>{w((0,A.mc)())},[w]),(0,l.useEffect)(()=>{if(!z||!M)return;let n="".concat(z.title?"".concat((0,r.lV)(z.title),"-"):"").concat(M);R!==n&&(0,y.lO)({pathname:"".concat(I,"/").concat(n).concat(L||""),emitChange:!1})},[z,M,R,I,L]),F.docId)?(0,i.jsxs)(P.r.Provider,{value:F,children:[t,(0,i.jsx)(K,{...U})]}):(0,i.jsx)(i.Fragment,{})};function nt(n){return(0,l.memo)(t=>(0,i.jsx)(nn,{children:(0,i.jsx)(n,{...t})}))}},77627:function(n,t,a){a.d(t,{m:function(){return u}});var i=a(52322),o=a(38035);a(2784);var r=a(50788);let e=new String(".site-animations-bootstrap .editor-navbar-animations-enabled .ProseMirror{.navbar-view-content{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-ms-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}.navbar-view-backdrop{-webkit-box-shadow:var(--md-shadow),var(--card-border-shadow);-moz-box-shadow:var(--md-shadow),var(--card-border-shadow);box-shadow:var(--md-shadow),var(--card-border-shadow)}}.site-animations-bootstrap .editor-animations-enabled .ProseMirror{.animatable-on-load,.animatable-on-load-accent,.animatable-on-load-content-child{&.animatable-on-load-atom,&:not(.animatable-on-load-annotatable),&.animatable-on-load-annotatable [data-node-view-content]{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-ms-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0);-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function)}}.animatable-on-load-as-block{&:not(.block-calloutBox),&.block-calloutBox .calloutBox{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-ms-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0);-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function)}}.is-present-mode .animatable-on-load,.is-full-width .animatable-on-load{&.animatable-on-load-accent{opacity:1;-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}}.animatable-on-load-content-child.block-image{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-ms-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0);-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function)}.animatable-on-load-content-child.node-smartLayoutCell{[data-spotlight-parent]>*{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-ms-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0);-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function)}}}@media not print{.editor-navbar-animations-enabled .ProseMirror{.navbar-view-content{opacity:0;-webkit-transform:translatey(var(--animation-yOffset));-moz-transform:translatey(var(--animation-yOffset));-ms-transform:translatey(var(--animation-yOffset));-o-transform:translatey(var(--animation-yOffset));transform:translatey(var(--animation-yOffset));-webkit-transition-property:opacity,-webkit-transform;-moz-transition-timing-function:opacity,-moz-transform;-o-transition-timing-function:opacity,-o-transform;transition-property:opacity,-webkit-transform;transition-property:opacity,-moz-transform;transition-property:opacity,-o-transform;transition-property:opacity,transform;-webkit-transition-duration:1s;-moz-transition-duration:1s;-o-transition-duration:1s;transition-duration:1s;-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function);&.animate-has-animated{opacity:1;-webkit-transform:none;-moz-transform:none;-ms-transform:none;-o-transform:none;transform:none}}.navbar-view-backdrop{-webkit-box-shadow:0 0 0 0 rgba(0,0,0,0);-moz-box-shadow:0 0 0 0 rgba(0,0,0,0);box-shadow:0 0 0 0 rgba(0,0,0,0);-webkit-transition-property:box-shadow;-moz-transition-timing-function:box-shadow;-o-transition-timing-function:box-shadow;transition-property:box-shadow;-webkit-transition-duration:1s;-moz-transition-duration:1s;-o-transition-duration:1s;transition-duration:1s;-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function);&.animate-has-animated{-webkit-box-shadow:var(--md-shadow),var(--card-border-shadow);-moz-box-shadow:var(--md-shadow),var(--card-border-shadow);box-shadow:var(--md-shadow),var(--card-border-shadow)}}}.editor-animations-enabled .ProseMirror{.animatable-on-load,.animatable-on-load-accent,.animatable-on-load-content-child{&.animatable-on-load-atom,&:not(.animatable-on-load-annotatable),&.animatable-on-load-annotatable [data-node-view-content]{opacity:0;-webkit-transform:translatey(var(--animation-yOffset));-moz-transform:translatey(var(--animation-yOffset));-ms-transform:translatey(var(--animation-yOffset));-o-transform:translatey(var(--animation-yOffset));transform:translatey(var(--animation-yOffset));-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function)}&.animate-has-animated{&.animatable-on-load-atom,&:not(.animatable-on-load-annotatable),&.animatable-on-load-annotatable [data-node-view-content]{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-ms-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}}.animatable-on-load-as-block{&:not(.block-calloutBox),&.block-calloutBox .calloutBox{opacity:0;-webkit-transform:translatey(var(--animation-yOffset));-moz-transform:translatey(var(--animation-yOffset));-ms-transform:translatey(var(--animation-yOffset));-o-transform:translatey(var(--animation-yOffset));transform:translatey(var(--animation-yOffset));-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function)}&.animate-has-animated{&:not(.block-calloutBox),&.block-calloutBox .calloutBox{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-ms-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}}.is-present-mode .animatable-on-load,.is-full-width .animatable-on-load{&.animatable-on-load-accent{opacity:0;-webkit-transform:scale(.9);-moz-transform:scale(.9);-ms-transform:scale(.9);-o-transform:scale(.9);transform:scale(.9);&.animate-has-animated{opacity:1;-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}}}.animatable-on-load-content-child.block-image{opacity:0;-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function);-webkit-transform:translatey(var(--animation-yOffset));-moz-transform:translatey(var(--animation-yOffset));-ms-transform:translatey(var(--animation-yOffset));-o-transform:translatey(var(--animation-yOffset));transform:translatey(var(--animation-yOffset));&.animate-has-animated{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-ms-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}.node-gallery .animatable-on-load-content-child.block-image{-webkit-transition-delay:-webkit-calc(var(--animation-transition-delay)*var(--animate-index));-moz-transition-delay:-moz-calc(var(--animation-transition-delay)*var(--animate-index));-o-transition-delay:calc(var(--animation-transition-delay)*var(--animate-index));transition-delay:-webkit-calc(var(--animation-transition-delay)*var(--animate-index));transition-delay:-moz-calc(var(--animation-transition-delay)*var(--animate-index));transition-delay:calc(var(--animation-transition-delay)*var(--animate-index))}.animatable-on-load-content-child.node-smartLayoutCell{[data-spotlight-parent]>*{opacity:0;-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function);-webkit-transform:translatey(var(--animation-yOffset));-moz-transform:translatey(var(--animation-yOffset));-ms-transform:translatey(var(--animation-yOffset));-o-transform:translatey(var(--animation-yOffset));transform:translatey(var(--animation-yOffset));-webkit-transition-delay:-webkit-calc(var(--animation-transition-delay)*var(--animate-index));-moz-transition-delay:-moz-calc(var(--animation-transition-delay)*var(--animate-index));-o-transition-delay:calc(var(--animation-transition-delay)*var(--animate-index));transition-delay:-webkit-calc(var(--animation-transition-delay)*var(--animate-index));transition-delay:-moz-calc(var(--animation-transition-delay)*var(--animate-index));transition-delay:calc(var(--animation-transition-delay)*var(--animate-index))}&.animate-has-animated [data-spotlight-parent]>*{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-ms-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}}}");e.__hash="3d8c64bd60295bc4";let s=e.toString(),l=()=>(0,i.jsx)("style",{id:"editor-animations-styles",dangerouslySetInnerHTML:{__html:s}});var d=a(46409),c=a(90221),m=a(93441);let u=n=>{let{children:t}=n,a=(0,m.gF)(),e=(0,r.C7)(),s=(0,c.s2)()&&(e||a);return(0,i.jsxs)(o.k,{alignSelf:"stretch",position:"relative",height:s?"100%":"var(--100vh)",direction:"column",flex:s?1:void 0,children:[(0,i.jsx)(d.Y,{}),(0,i.jsx)(l,{}),t]})}},35847:function(n,t,a){a.d(t,{m:function(){return w}});var i=a(52322),o=a(38035),r=a(75768),e=a(62614),s=a(11082),l=a(75009),d=a(94523),c=a(5879),m=a(2784),u=a(45588),f=a(94199),v=a(57124),p=a(11050),b=a(29318),y=a(20342),g=a(52926),h=a(90221);let x=()=>(0,h.s2)()?{display:"flex",justifyContent:"center",m:6,position:"relative"}:{position:"fixed",right:[1,6],bottom:[1,4]},w=n=>{let{docWorkspace:t,forceShow:a=!1,abuseReportingEnabled:h=!0,...w}=n,{docId:k}=(0,g._i)(),C=(0,b.Yy)(),z=(0,p.z$)(),I=(0,m.useCallback)(()=>{null==z||z.track(p.AA.MADE_WITH_GAMMA_CLICKED,{doc_id:k})},[z,k]),j=(0,v.dU)(t);return!1===a&&!1!==j?null:(0,i.jsx)(o.k,{...x(),...w,children:(0,i.jsx)(d.Wk,{isDark:C,children:(0,i.jsxs)(r.h,{isAttached:!0,sx:{".chakra-button":{borderRightRadius:"none","&:last-child":{borderRightRadius:"md"}}},children:[(0,i.jsx)(e.z,{as:s.r,onClick:I,variant:"plain",target:"_blank",href:"https://gamma.app/?utm_source=made-with-gamma&utm_medium=content",textDecoration:"none !important",leftIcon:(0,i.jsx)(l.E,{src:y.Z.src,h:"1em"}),size:"sm",children:(0,i.jsx)(c.cC,{id:"vo61Ld",values:{GAMMA_PROPER_NOUN:f.N6}})}),h&&(0,i.jsx)(u.E,{docId:k,buttonType:"iconRight"})]})})})}},85679:function(n,t,a){a.d(t,{j:function(){return v}});var i=a(5632),o=a(2784),r=a(34881),e=a(91994),s=a(30673),l=a(83440),d=a(47968),c=a(90604),m=a(7628),u=a(52926),f=a(78462);let v=()=>{let{editor:n}=(0,u._i)(),t=(0,i.useRouter)(),a=(0,e.qr)();(0,o.useEffect)(function(){if(!n)return;t.beforePopState(n=>{let{as:t}=n;return!t.startsWith("/docs/")});let i=r.fI.on("changed",t=>{var i;let{cardId:o}=(0,f.sY)(t.url),r=a.getState(),e=(0,d.gh)(r);if(console.debug("[useHandleCardHash][handleURLChange]",{payload:t,cardId:o}),e===c.q.DOC_VIEW&&(null===(i=t.state)||void 0===i?void 0:i.fromPos)&&"pop"===t.method){let{fromPos:a,fromPct:i}=t.state;n.chain().scrollToPositionInCard(a,i||void 0).command(n=>{let{tr:t}=n;return(0,l.B0)(a)(t),!0}).run()}else{let t=(0,d.xb)(r)[0];(0,s.YS)({cardId:o||t,editor:n})}});return()=>{t.beforePopState(()=>!0),i()}},[n,t,a]),(0,o.useEffect)(function(){if(!n)return;let{cardId:t}=(0,f.sY)(window.location.href);t&&(0,m.D)({cardId:t,method:"replace"})},[n])}},74339:function(n,t,a){a.d(t,{W:function(){return i}});let i=new String(':root{--\\31 00vh:100%}html{min-height:var(--\\31 00vh);min-height:-webkit-fill-available;height:var(--\\31 00vh);height:-webkit-fill-available}body{position:relative;--\\31 00vh:100vh;--editor-width:100vw}[data-node-view-content-inner="paragraph"]:empty::after{content:"\xa0"}');i.__hash="3b0f3b1f5b7e38c3"}}]);
//# sourceMappingURL=6776-0a1a615f064949a9.js.map