(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1888],{98776:function(e,t,i){var n=i(68286),r=i(67878),s=i(90249);e.exports=function(e){return function(t,i,l){var o=Object(t);if(!r(t)){var a=n(i,3);t=s(t),i=function(e){return a(o[e],e,o)}}var d=e(t,i,l);return d>-1?o[a?t[d]:d]:void 0}}},55281:function(e,t,i){var n=i(98776)(i(12982));e.exports=n},71508:function(e,t){"use strict";t.Z={src:"/_next/static/media/gamma-logo-profile-image.c51e9197.png",height:265,width:265,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAVFBMVEX16+XLN8P46dv3yMDq2ebQsOnXkrP27+b28+j8+uP1w9vlo5713+Xxt9TdU5zYdLqnmfHgbYyTKuagQremCurcuOzIi+KQVuzwqpHqrO3vdcz3U6Pc/F4nAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAQElEQVR4nCWLSRKAIBDEGgVmGnFXVPj/P6kpc8klAQAqDJEt0OyfMxYvYHDxuG6Cn3vXJSkk17ZPg0U6j/8GNXdHWAH663uVwQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},93336:function(e,t,i){"use strict";i.d(t,{o8:function(){return k}});var n=i(52322),r=i(70065),s=i(28535),l=i(43297),o=i(77533),a=i(29117),d=i(35183),c=i(97166),h=i(89099),x=i(29494),u=i(75768),m=i(62614),p=i(32899),g=i(42946),j=i(49929),f=i(94523),b=i(5879),C=i(87254),y=i(14304),w=i.n(y),v=i(2784);let k=e=>{let{isDark:t,feedbackTags:i=[],trackRating:p,trackFeedback:f}=e,[C,y]=(0,v.useState)(null),[k,T]=(0,v.useState)(!1),[z,A]=(0,v.useState)(""),[E,N]=(0,v.useState)(new Set),_=(0,v.useRef)(null),G=(0,r.p)(),D=(0,v.useCallback)(e=>{y(e),null==p||p(e),G({title:(0,n.jsx)(b.cC,{id:"2gZOCV"}),status:"success",position:"top",duration:1e3}),setTimeout(()=>{var e;null==_||null===(e=_.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},200)},[p,G]),R=(0,v.useCallback)(e=>{e||(null==f||f(C,w().sanitize(z),Array.from(E)),G({title:(0,n.jsx)(b.cC,{id:"+Rq0s/"}),status:"success",position:"top",duration:2e3,isClosable:!0})),T(!0)},[z,E,C,f,G]);return(0,n.jsx)(s.xu,{p:4,borderRadius:"lg",border:"1px solid",borderColor:t?"whiteAlpha.100":"gray.200",position:"relative",children:k?(0,n.jsxs)(o.x,{color:t?"green.400":"green.600",textAlign:"center",children:[(0,n.jsx)(j.G,{icon:g.fV7})," ",(0,n.jsx)(b.cC,{id:"SOk0EB"})]}):(0,n.jsxs)(l.K,{spacing:4,children:[(0,n.jsxs)(l.K,{alignItems:"center",spacing:"1",children:[(0,n.jsx)(o.x,{fontSize:"sm",color:t?"whiteAlpha.800":"gray.500",children:(0,n.jsx)(b.cC,{id:"/djJcD"})}),C?(0,n.jsxs)(o.x,{textAlign:"center",color:t?"green.400":"green.600",children:[(0,n.jsx)(j.G,{icon:g.fV7})," ",(0,n.jsx)(b.cC,{id:"SOk0EB"})]}):(0,n.jsx)(o.x,{children:(0,n.jsx)(b.cC,{id:"cguR5Y"})})]}),(0,n.jsx)(a.U,{fontSize:"xl",width:"100%",children:S.map(e=>{let{key:i,ariaLabel:r,label:s,icon:l,color:o}=e,a=C===i;return(0,n.jsx)(I,{ariaLabel:r,label:s,icon:l,color:o,onClick:()=>D(i),isSelected:a,isDisabled:!1,isDark:t},i)})}),C&&"good"!==C&&i.length>0&&(0,n.jsxs)(d.NI,{children:[(0,n.jsx)(c.l,{fontSize:"sm",color:t?"whiteAlpha.800":"gray.500",children:(0,n.jsx)(b.cC,{id:"467HY8"})}),(0,n.jsx)(h.E,{children:i.map(e=>{let{key:i,label:r}=e;return(0,n.jsx)(h.U,{onClick:()=>{N(e=>{let t=new Set(e);return t.has(i)?t.delete(i):t.add(i),t})},children:(0,n.jsx)(F,{label:r,isDark:t,isSelected:E.has(i)})},i)})})]}),C&&(0,n.jsxs)(d.NI,{textAlign:"center",children:[(0,n.jsx)(c.l,{fontSize:"sm",color:t?"whiteAlpha.800":"gray.500",children:"good"===C?(0,n.jsx)(b.cC,{id:"AmM8eQ"}):(0,n.jsx)(b.cC,{id:"PhJTrf"})}),(0,n.jsx)(x.g,{value:z,onChange:e=>{A(e.target.value)},placeholder:"",size:"sm",mb:"4"}),(0,n.jsxs)(u.h,{spacing:"4",ref:_,children:[(0,n.jsx)(m.z,{variant:"text",onClick:()=>{R(!0)},children:(0,n.jsx)(b.cC,{id:"6Uau97"})}),(0,n.jsx)(m.z,{variant:"solid",isDisabled:""===z&&0===E.size,onClick:()=>R(!1),minW:32,children:(0,n.jsx)(b.cC,{id:"hQRttt"})})]})]})]})})},S=[{key:"bad",label:(0,n.jsx)(b.cC,{id:"XSfVsn"}),ariaLabel:()=>C.ag._({id:"XSfVsn"}),icon:g.KfU,color:"red"},{key:"meh",label:(0,n.jsx)(b.cC,{id:"0ASQJH"}),ariaLabel:()=>C.ag._({id:"0ASQJH"}),icon:g.C4q,color:"yellow"},{key:"good",label:(0,n.jsx)(b.cC,{id:"9ZYnL5"}),ariaLabel:()=>C.ag._({id:"9ZYnL5"}),icon:g.ctA,color:"green"}],I=e=>{let{label:t,ariaLabel:i,icon:r,color:s,isSelected:l,onClick:a,isDisabled:d,isDark:c}=e;return(0,n.jsx)(f.kH,{label:t,placement:"top",children:(0,n.jsx)(p.h,{"aria-label":i(),boxShadow:"none",bg:l?c?"".concat(s,".200"):"".concat(s,".100"):c?"whiteAlpha.300":"gray.50",_disabled:{opacity:"".concat(l?1:.5),cursor:"not-allowed"},color:l?c?"".concat(s,".600"):"".concat(s,".500"):c?"whiteAlpha.800":"gray.500",_hover:{backgroundColor:"".concat(s,".100"),color:"".concat(s,".500")},flex:1,icon:(0,n.jsx)(o.x,{fontSize:"2xl",children:(0,n.jsx)(j.G,{icon:r})}),isDisabled:d,variant:"plain",onClick:a})})},F=e=>{let{label:t,isDark:i,isSelected:r}=e;return(0,n.jsx)(m.z,{variant:"plain",size:"sm",height:"6",boxShadow:"none",bgGradient:"none",bg:r?i?"purple.500":"purple.100":i?"gray.800":"gray.50",color:r?i?"white":"purple.700":i?"white":"gray.800",borderColor:i?"whiteAlpha.200":"blackAlpha.200",_hover:{color:void 0},cursor:"pointer",children:t})}},40312:function(e,t,i){"use strict";i.d(t,{Lm:function(){return l},fo:function(){return a},yR:function(){return d}});var n=i(2784),r=i(93624),s=i(39278);let l=()=>{let[e]=(0,r.Mhm)(),{currentWorkspace:t}=(0,s.SE)();return(0,n.useCallback)(async i=>{let{xhtmlUrl:n}=i;if(n&&t)try{let{data:i}=await e({variables:{input:{htmlUrl:n,workspaceId:t.id}}}),r=null==i?void 0:i.parsePptHtml.slideHtml,s=null==r?void 0:r.map(o);return s}catch(e){console.error("[caught] Error parsing PPT XHTML: ".concat(e));return}},[e,t])},o=e=>{let t=new DOMParser().parseFromString(e,"text/html"),i=t.getElementsByTagName("img");return Array.from(i).map(e=>({src:e.src,alt:e.alt}))},a=(e,t)=>{let i=e.split("\n\n---\n\n"),n=i.map((e,i)=>{var n;let r=null===(n=t[i])||void 0===n?void 0:n.map(e=>"![".concat(e.alt,"](").concat(e.src,")"));return r?"".concat(e,"\n\n").concat(r.join("\n")):e});return n.join("\n\n---\n\n")},d=(e,t)=>{var i,n,r;let s=null===(r=e.content)||void 0===r?void 0:null===(n=r[0])||void 0===n?void 0:null===(i=n.content)||void 0===i?void 0:i.filter(e=>"card"===e.type);s&&t.length===s.length&&s.forEach((e,i)=>{var n;let r=t[i].map(e=>({type:"image",attrs:{src:e.src,meta:{description:e.alt},source:"image.custom"}}));null===(n=e.content)||void 0===n||n.push(...r)})}},12985:function(e,t,i){"use strict";i.d(t,{B:function(){return r}});var n=i(2784);let r=n.lazy(()=>Promise.all([i.e(8917),i.e(7120),i.e(4100),i.e(3421)]).then(i.bind(i,23421)).then(e=>({default:e.default})))},62700:function(e,t,i){"use strict";i.d(t,{d:function(){return s}});var n=i(52322),r=i(5879);let s=()=>({100:(0,n.jsx)(r.cC,{id:"RGjFMI"}),200:(0,n.jsx)(r.cC,{id:"GMGHcE"}),300:(0,n.jsx)(r.cC,{id:"1njn7W"}),400:(0,n.jsx)(r.cC,{id:"xfqlmg"}),500:(0,n.jsx)(r.cC,{id:"agPptk"}),600:(0,n.jsx)(r.cC,{id:"KVGfPY"}),700:(0,n.jsx)(r.cC,{id:"KmydK6"}),800:(0,n.jsx)(r.cC,{id:"NV46Ki"}),900:(0,n.jsx)(r.cC,{id:"THokF3"})})},30423:function(e,t,i){"use strict";i.d(t,{Av:function(){return g},B_:function(){return f},CZ:function(){return x},QP:function(){return b},Sd:function(){return C},UK:function(){return u},ZN:function(){return j},cC:function(){return p},x_:function(){return m},zn:function(){return c}});var n=i(18149),r=i.n(n),s=i(53553),l=i(93624);let o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=["italic","oblique"];for(let i of e)for(let e of t)if(-1!==i.toLowerCase().indexOf(e))return!0;return!1},a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];for(let t of e){if(d(t,["thin"]))return 100;if(d(t,["light","lite"],["extra","ultra","x"]))return 200;if(d(t,["light"]))return 300;if(d(t,["medium"]))return 500;if(d(t,["bold"],["demi","semi"]))return 600;if(d(t,["bold"],["extra","x"]))return 800;if(d(t,["bold"]))return 700;if(d(t,["black","heavy","ultra"]))return 900}return 400},d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(let n of t)if(0===i.length){if(-1!==e.toLowerCase().indexOf(n.toLowerCase()))return!0}else for(let t of i)if(-1!==e.toLowerCase().indexOf(n.toLowerCase())&&-1!==e.toLowerCase().indexOf(t.toLowerCase()))return!0;return!1},c=async e=>new Promise((t,i)=>{let n=new FileReader;n.onload=e=>{var n,r,l,d,c,h,x,u,m,p,g,j,f,b,C,y,w,v,k;let S=null===(n=e.target)||void 0===n?void 0:n.result;try{let e=s.ZP.parse(S),i=null!==(y=null===(r=Object.values(null!==(C=null===(d=e.tables)||void 0===d?void 0:null===(l=d.name)||void 0===l?void 0:l.preferredSubfamily)&&void 0!==C?C:null===(h=e.tables)||void 0===h?void 0:null===(c=h.name)||void 0===c?void 0:c.fontSubfamily))||void 0===r?void 0:r[0])&&void 0!==y?y:"",n=null!==(w=null===(x=Object.values(null===(m=e.tables)||void 0===m?void 0:null===(u=m.name)||void 0===u?void 0:u.fullName))||void 0===x?void 0:x[0])&&void 0!==w?w:"",I=null!==(k=null===(p=Object.values(null!==(v=null===(j=e.tables)||void 0===j?void 0:null===(g=j.name)||void 0===g?void 0:g.preferredFamily)&&void 0!==v?v:null===(b=e.tables)||void 0===b?void 0:null===(f=b.name)||void 0===f?void 0:f.fontFamily))||void 0===p?void 0:p[0])&&void 0!==k?k:"";t({familyName:I,isItalic:o([i,n]),weight:a([i,n])})}catch(e){i(e)}},n.onerror=e=>{console.error("[parseFontFile] unable to read the font file, providing defaults",e),t({familyName:"",isItalic:!1,weight:400})},n.readAsArrayBuffer(e)}),h=e=>{let t=e.lastIndexOf(".");return -1===t||t===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,t),extension:e.slice(t+1)}},x=e=>{let{extension:t}=h(e);return t===l.sA6.Otf||t===l.sA6.Ttf?t:l.sA6.Ttf},u=e=>{let{existingFont:t}=e;if(!t)return!0;let i={fontName:t.name,fontId:t.id,fontFiles:t.fontFiles.map(e=>({id:e.id,name:e.name,weight:e.weight,isItalic:e.isItalic,fileType:e.fileType,sourceUrl:e.sourceUrl}))},n={fontName:e.fontName,fontId:e.fontId,fontFiles:e.uploadFontFiles.map(e=>({id:e.fontFile.id,name:e.fontFile.name,weight:e.fontFile.weight,isItalic:e.fontFile.isItalic,fileType:e.fontFile.fileType,sourceUrl:e.fontFile.sourceUrl}))};return!r()(i,n)},m=e=>{let t=e.reduce((e,t)=>{let i=[t.weight,t.isItalic].join("__");return{...e,[i]:!0}},{});return Object.keys(t).length},p=e=>{let t=Object.values(e.reduce((e,t)=>{let i=t.fontFile,n=[i.weight,i.isItalic,i.fileType].join("__");return e[n]=e[n]||[],e[n].push(t),e},{})).reduce((e,t)=>{if(t.length>1)for(let i of t)e[i.uploadId]=!0;return e},{});return t},g=e=>e.reduce((e,t)=>{let i=t.fontFile.weight;return{...e,[i]:[...e[i]||[],t]}},{}),j=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e.sort((e,i)=>t?Number(e)-Number(i):Number(i)-Number(e))},f=e=>j(Array.from(new Set(e.map(e=>e.weight)))),b=(e,t)=>{if(void 0===t)return;if(t>e[e.length-1])return e[e.length-1];let i=1/0,n=-1;for(let r=0;r<e.length;r++){let s=Math.abs(t-e[r]);if(s<i)i=s,n=r;else break}return e[n]},C=e=>!!e&&0!==e.length&&-1===e.findIndex(e=>!e.isItalic)},60740:function(e,t,i){"use strict";i.d(t,{y:function(){return s}});var n=i(55478),r=i(2784);let s=()=>{let{isOpen:e,onOpen:t,onClose:i}=(0,n.q)({id:"sharePanelDisclosure"}),[s,l]=(0,r.useState)("invite");return{isSharePanelOpen:e,onSharePanelOpen:t,onSharePanelClose:i,view:s,setView:l}}},6554:function(e,t,i){"use strict";i.d(t,{g:function(){return ro}});var n=i(52322),r=i(92850),s=i(26468),l=i(22226),o=i(2338),a=i(94523),d=i(2784),c=i(34881),h=i(11550),x=i(91994),u=i(54326),m=i(97217),p=i(77533),g=i(50250),j=i(75768),f=i(62614),b=i(5879);let C=e=>{let{isOpen:t,onClose:i,onConfirm:a}=e;return(0,n.jsxs)(r.u_,{isOpen:t,onClose:i,children:[(0,n.jsx)(s.Z,{}),(0,n.jsxs)(l.h,{children:[(0,n.jsx)(u.x,{children:(0,n.jsx)(b.cC,{id:"sCTlv5"})}),(0,n.jsx)(o.o,{}),(0,n.jsx)(m.f,{children:(0,n.jsx)(p.x,{children:(0,n.jsx)(b.cC,{id:"nvyKWT"})})}),(0,n.jsx)(g.m,{children:(0,n.jsxs)(j.h,{flexWrap:"wrap",gap:"3",justifyContent:"flex-end",spacing:"0",children:[(0,n.jsx)(f.z,{variant:"ghost",onClick:i,children:(0,n.jsx)(b.cC,{id:"4OjqAQ"})}),(0,n.jsx)(f.z,{variant:"solid",onClick:a,bg:"red.600",_hover:{bg:"red.700"},children:(0,n.jsx)(b.cC,{id:"a7JgI7"})})]})})]})]})};var y=i(29318),w=i(51741),v=i(64116),k=i(76109),S=i(78462),I=i(81230),F=i(38035),T=i(36474),z=i(43297),A=i(28535),E=i(75009),N=i(42946),_=i(49929),G=i(39278),D=i(29117),R=i(17190),H=i(96933);let O=e=>{let{children:t}=e,i=(0,H.i)({base:"var(--chakra-sizes-sm)",lg:"var(--chakra-sizes-xl)",xl:"var(--chakra-sizes-2xl)","2xl":"var(--chakra-sizes-3xl)"})||"var(--chakra-sizes-md)";return(0,n.jsx)(F.k,{"data-config-pane":!0,direction:"column",height:"100%",w:i,children:t})},L=e=>{let{children:t}=e;return(0,n.jsx)(p.x,{textAlign:"center",w:"100%",fontSize:"lg",fontWeight:"semibold",children:t})},U=e=>{let{children:t,onClick:i,leftIcon:r}=e;return(0,n.jsx)(f.z,{position:"absolute",left:"2",top:"2.5",color:"gray.900",variant:"ghost",onClick:i,leftIcon:(0,n.jsx)(_.G,{icon:r}),children:t})},B=e=>{let{children:t}=e;return(0,n.jsx)(A.xu,{children:(0,n.jsx)(D.U,{p:"4",minH:"14",w:"100%",alignItems:"center",justifyContent:"center",children:t})})},M=e=>{let{children:t,stackProps:i}=e;return(0,n.jsx)(A.xu,{p:"4",borderTop:"1px solid",borderColor:"gray.200",children:(0,n.jsx)(D.U,{justifyContent:"space-between",position:"relative",...i,children:t})})},W=e=>{let{children:t}=e;return(0,n.jsx)(A.xu,{flex:"1",p:4,w:"100%",overflowY:"auto",children:(0,n.jsx)(R.W,{maxW:"container.md",mx:"auto",children:t})})},P=e=>{let{children:t}=e;return(0,n.jsx)(F.k,{direction:"column",height:"100%",flex:1,minW:0,pos:"relative",children:t})};var K=i(24772),V=i(81540),Y=i(28165),q=i(47749),X=i(887),Z=i(7636),Q=i(70347);let J="theme-editor-root",$=(0,d.memo)(e=>{let{theme:t,setEditor:i}=e,r=(0,d.useMemo)(()=>(0,X.y)(),[]),s=(0,K.S)(q._o),l=(0,K.S)(Q.Dw),o=t?(0,Q.pG)(t,l):null,[a,c]=(0,d.useState)(!1);return((0,d.useEffect)(()=>{if(a)return;let e=setTimeout(()=>{c(!0)},500);return()=>clearTimeout(e)},[a]),a&&t)?(0,n.jsxs)(F.k,{className:J,css:{"--editor-width":"100%",...o?{"--doc-padding-left":"".concat(o.width+o.paddingX/2,"px")}:{},"--editor-font-size":s,"*":{"transition-property":"color, background-color, border-color, fill, stroke","transition-duration":"50ms","transition-timing-function":"ease-out"}},overflowY:"scroll",children:[(0,n.jsx)(Y.xB,{styles:{"#doc-main":{display:"none"}}}),(0,n.jsx)(F.k,{w:"100%","data-testid":"custom-theme-preview-editor",className:"disable-card-size-animations",pointerEvents:"none",children:(0,n.jsx)(Z.f,{onCreate:e=>{null==i||i(e.editor)},initialContent:r,theme:t,scrollingParentSelector:".".concat(J),isInsideDrawer:!0,animationsEnabled:!1})})]}):(0,n.jsx)(F.k,{direction:"column",height:"100%",flex:1,minW:0,w:"100%",align:"center",justify:"center",bg:"gray.100",children:(0,n.jsx)(V.$,{size:"sm"})})});$.displayName="PreviewPaneEditor";var ee=i(62453);let et=e=>{let{children:t}=e;return(0,n.jsx)(D.U,{flex:1,spacing:0,h:"100%",divider:(0,n.jsx)(ee.c,{}),children:t})};var ei=i(70065),en=i(93624),er=i(11050);let es=e=>{let{onComplete:t,flow:i}=e,[r,{loading:s}]=(0,en.Wu6)(),[l,{loading:o}]=(0,en.suk)(),{currentWorkspace:a}=(0,G.SE)(),c=(0,er.z$)(),h=(0,ei.p)(),u=(0,d.useCallback)(e=>{let{id:s,...l}=e;r({variables:{input:l},update:(e,t)=>{let{data:i}=t;(null==i?void 0:i.createTheme)&&e.writeQuery({query:en.$LR,variables:{workspaceId:a.id,archived:!1},data:{themes:[i.createTheme]}})},optimisticResponse:{createTheme:{__typename:"Theme",...e,archived:!1,createdTime:new Date().toISOString(),updatedTime:new Date().toISOString()}}}).then(r=>{let{data:s}=r;if(null==s?void 0:s.createTheme){var l;null==c||c.track(er.AA.THEME_CREATED,{theme_id:null==s?void 0:null===(l=s.createTheme)||void 0===l?void 0:l.id,type:"new",flow:i}),null==t||t(s.createTheme)}h({position:"top",title:(0,n.jsx)(b.cC,{id:"c1Vll8",values:{0:e.name}}),status:"success",duration:5e3,isClosable:!0}),w.T.emit("closeThemeConfiguration",{})}).catch(e=>{if(e.graphQLErrors&&e.graphQLErrors.length>0&&"duplicate_theme_name"===e.graphQLErrors[0].code){h({position:"top",title:(0,n.jsx)(b.cC,{id:"9RJBro"}),status:"error",duration:5e3,isClosable:!0});return}h({position:"top",title:(0,n.jsx)(b.cC,{id:"y47vGS"}),status:"error",duration:5e3,isClosable:!0})})},[r,a,h,c,i,t]),m=(0,d.useCallback)(e=>{l({variables:{input:e},update:(e,t)=>{let{data:i}=t;(null==i?void 0:i.updateTheme)&&e.writeQuery({query:en.$LR,variables:{workspaceId:a.id,archived:!1},data:{themes:[i.updateTheme]}})},optimisticResponse:{updateTheme:{__typename:"Theme",...e,archived:!1,createdTime:new Date().toISOString(),updatedTime:new Date().toISOString()}}}).then(e=>{let{data:r}=e;if(null==r?void 0:r.updateTheme){var s;null==c||c.track(er.AA.THEME_UPDATED,{theme_id:null==r?void 0:null===(s=r.updateTheme)||void 0===s?void 0:s.id,flow:i}),null==t||t(r.updateTheme)}h({position:"top",title:(0,n.jsx)(b.cC,{id:"iZRx4V"}),status:"success",duration:5e3,isClosable:!0}),w.T.emit("closeThemeConfiguration",{})}).catch(e=>{if(e.graphQLErrors&&e.graphQLErrors.length>0&&"duplicate_theme_name"===e.graphQLErrors[0].code){h({position:"top",title:(0,n.jsx)(b.cC,{id:"9RJBro"}),status:"error",duration:5e3,isClosable:!0});return}h({position:"top",title:(0,n.jsx)(b.cC,{id:"y47vGS"}),status:"error",duration:5e3,isClosable:!0})})},[l,a,h,c,i,t]),p=(0,d.useCallback)(()=>{let e=(0,v.eR)(null==a?void 0:a.id)((0,x.bh)().getState());(null==e?void 0:e.id)==="new"?u(e):m(e)},[u,m,null==a?void 0:a.id]);return{createTheme:u,persistTheme:p,isThemeSaving:s||o}};var el=i(74008),eo=i(42822),ea=i(82863),ed=i(14274),ec=i(15074),eh=i(99787),ex=i(77620),eu=i(50634);let em=()=>{let e=(0,d.useCallback)(async e=>{let{htmlUrl:t,thumbnails:i,interactionId:n}=e;if(!t||!i)throw Error("htmlUrl and thumbnails are required");let r=await (0,eu.P3)({promptKey:"ImportPptTheme",variables:{htmlUrl:t,thumbnails:i},interactionId:n});return r},[]);return e},ep=()=>{let e=(0,x.TL)(),t=(0,er.z$)(),i=(0,ei.p)(),{fontsMap:r}=(0,y.TY)(),s=em(),l=(0,x.qr)(),o=(0,d.useRef)(null),a=(0,d.useCallback)(async a=>{if(o.current!==(0,I.D2)(l.getState()))return;if(!(null==a?void 0:a.xhtmlUrl)&&!(null==a?void 0:a.thumbnails)){console.error("[ThemeImporterUpload] file is missing htmlUrl or thumbnails",a);return}let d=l.getState();e((0,I.hT)({inputFile:a}));try{let i=await s({htmlUrl:a.xhtmlUrl,thumbnails:a.thumbnails,interactionId:(0,I.M1)(d)});i&&(e((0,I.bE)({themeSuggestions:i,fontsMap:r})),null==t||t.track(er.AA.THEME_IMPORTED,{source:a.source,latency:a.latency,src:a.src,filename:a.filename}))}catch(t){e((0,I.md)()),console.error(t),i({title:(0,n.jsx)(b.cC,{id:"jK6rIX"}),description:t.message,status:"error",duration:null,isClosable:!0,position:"top"})}},[t,e,r,s,i,l]),c=(0,d.useCallback)(t=>{e((0,I.YZ)({fileId:t})),o.current=t},[e]);(0,d.useCallback)(()=>{e((0,I.md)())},[e]);let h=(0,d.useCallback)(i=>{e((0,I.md)()),null==t||t.track(er.AA.THEME_IMPORT_FAILED,{source:i.source,latency:i.latency,message:i.message})},[t,e]);return(0,n.jsx)(ea.rg,{clientId:ed.v.GOOGLE_DRIVE_IMPORT_CLIENT_ID,children:(0,n.jsxs)(z.K,{children:[(0,n.jsx)(ej,{onImportComplete:a,onImportStarted:c,onImportFailed:h}),(0,n.jsxs)(A.xu,{position:"relative",py:"3",children:[(0,n.jsx)(el.i,{}),(0,n.jsx)(eo.u,{bg:"white",px:"4",children:(0,n.jsx)(p.x,{color:"gray.600",children:(0,n.jsx)(b.cC,{id:"BzEFor"})})})]}),(0,n.jsx)(eg,{onImportComplete:a,onImportStarted:c,onImportFailed:h})]})})},eg=e=>{let{onImportComplete:t,onImportStarted:i,onImportFailed:r}=e,{initiateGoogleImport:s,isImporting:l}=(0,ec.H)({onImportComplete:t,onImportStarted:i,onImportFailed:e=>{null==r||r({message:e.message,source:"GoogleSlides",latency:e.latency})}},!1,{slidesOnly:!0});return(0,n.jsx)(f.z,{variant:"plain",color:"gray.800",onClick:s,isLoading:l,leftIcon:(0,n.jsx)(E.E,{src:ex.Z.src,boxSize:4,alt:"Google Drive"}),children:(0,n.jsx)(b.cC,{id:"5nN3Wd"})})},ej=e=>{let{onImportComplete:t,onImportStarted:i,onImportFailed:r}=e,{currentWorkspace:s}=(0,G.SE)(),l=(0,d.useRef)(0),o=(0,d.useCallback)(e=>{l.current=performance.now(),i(e.file.id)},[i]),a=(0,d.useCallback)(async e=>{let{name:i,fullResults:n,src:r}=e,{convert_to_html:s,convert_to_pdf:o,pdf_to_images:a}=n,d=a.map(e=>({index:e.meta.thumb_index,width:e.meta.width,height:e.meta.height,url:e.ssl_url})),c=o[0].ssl_url,h=o[0].original_name||i.replace(/[.]x?html$/,""),x=s[0].ssl_url,u=await fetch(x).then(e=>e.text());t({html:u,filename:h,xhtmlUrl:x,src:r,source:"PptxUpload",thumbnails:d,pdfUrl:c,fileUrl:r,latency:performance.now()-l.current})},[t]),c=(0,d.useCallback)(e=>{null==r||r({message:e,source:"PptxUpload",latency:performance.now()-l.current})},[r]);return(0,n.jsx)(eh.un,{orgId:null==s?void 0:s.id,onUploadStart:o,onUploadSuccess:a,onUploadFailed:c,editType:void 0,maxFilesAllowed:1,uploadType:"importPpt",templateId:ed.v.TRANSLOADIT_PPT_IMPORT_TEMPLATE_ID})},ef=(0,d.memo)(()=>(0,n.jsx)(R.W,{p:6,children:(0,n.jsxs)(z.K,{spacing:4,children:[(0,n.jsx)(p.x,{children:(0,n.jsx)(b.cC,{id:"28R4Zx"})}),(0,n.jsx)(p.x,{fontSize:"sm",color:"gray.600",children:(0,n.jsx)(b.cC,{id:"fLNR+e"})}),(0,n.jsx)(ep,{})]})}));ef.displayName="InitialStep";var eb=i(47443),eC=i(35183),ey=i(97166),ew=i(11082),ev=i(85573),ek=i(10625),eS=i(67046),eI=i(99058),eF=i(44035),eT=i(39237),ez=i(27599),eA=i(65739),eE=i(30423),eN=i(94199),e_=i(62131),eG=i(57124),eD=i(50245),eR=i(52099),eH=i(5200),eO=i(54933);let eL=e=>{let{label:t,description:i,labelColor:r="black",fontFamily:s,fontStyle:l="normal",fontWeight:o=400}=e,a=(0,n.jsxs)(D.U,{alignItems:"baseline",children:[(0,n.jsx)(A.xu,{color:"yellow.400",children:(0,n.jsx)(_.G,{icon:eO.e7M})}),(0,n.jsx)(p.x,{textAlign:"left",color:r,fontWeight:o,fontSize:"lg",fontFamily:s,fontStyle:l,children:t})]});return i?(0,n.jsxs)(A.xu,{children:[a,(0,n.jsx)(p.x,{fontSize:"xs",color:"gray.500",children:i})]}):a},eU=e=>{let{value:t,updateValue:i,onFontUploadClick:r,weight:s="regular",defaultFont:l,fonts:o,customFontsEnabled:c=!0,...h}=e,{workspaceFonts:x,globalFonts:u}=o,[m,g,j]=(0,d.useMemo)(()=>{let e=[...x,...u],i=e.find(e=>e.id===t),n=(0,eR.Yw)(e,t),r=(0,eR.Yw)(e,t,!1);return[i,n,r]},[u,x,t]),C=c&&x.filter(e=>!e.archived||e.id===(null==m?void 0:m.id)).length>0,w=!1,v="normal",k="bold"===s?700:400;if(m&&null!==m.workspaceId){w=!0===m.archived;let e=[...m.fontFiles||[]];v=(0,eE.Sd)(e)?"italic":"normal";let t=(0,eE.B_)(e);k=(0,eE.QP)(t,"bold"===s?700:400)||400}let{currentWorkspace:S}=(0,eD.K)(),{allThemeFonts:I}=(0,y.TY)(),F=(0,eG.Y)("custom_fonts",S);return(0,n.jsxs)(ek.v,{matchWidth:!0,isLazy:!0,children:[(0,n.jsx)(eS.j,{size:"lg",as:f.z,borderRadius:"md",rightIcon:(0,n.jsx)(_.G,{icon:N.ptq,transform:"shrink-6"}),variant:"toolbar",px:4,h:10,w:"100%",border:"1px solid",borderColor:"gray.200",...h,children:c&&w?(0,n.jsx)(eL,{label:j||"",fontFamily:'"'.concat(g,'"'),labelColor:t?"gray.800":"gray.400",fontStyle:v,fontWeight:k}):(0,n.jsx)(p.x,{textAlign:"left",fontFamily:'"'.concat(g||l,'"'),fontWeight:k,color:t?"gray.800":"gray.400",fontStyle:v,children:j||(0,n.jsx)(b.cC,{id:"Ff/YaY",values:{defaultFont:l,GAMMA_PROPER_NOUN:eN.N6}})})}),(0,n.jsxs)(eI.q,{maxH:"40vh",overflow:"auto",zIndex:"dropdown",children:[(0,n.jsx)(eH.J,{fonts:I}),(0,n.jsxs)(eF._,{type:"radio",value:t||"",onChange:e=>i(e||void 0),children:[C&&(0,n.jsx)(a.NZ,{m:2,children:(0,n.jsx)(b.cC,{id:"syCKVA"})}),C&&x.map(e=>{var i;let r=e.id!==t,l=e.archived&&r,o=(null===(i=e.fontFiles)||void 0===i?void 0:i.length)===0&&r;if(!e.fontFiles||o||l)return null;let a=(0,eE.Sd)(e.fontFiles)?"italic":"normal";return w&&e.id===t?(0,n.jsx)(eT.i,{value:e.id,disabled:!0,children:(0,n.jsx)(eL,{fontFamily:e.name,label:e.name,fontStyle:a,description:(0,n.jsx)(b.cC,{id:"FZBl16"})})},e.id):(0,n.jsx)(eT.i,{value:e.id,children:(0,n.jsx)(p.x,{fontFamily:'"'.concat(e.name,'"'),fontSize:"lg",fontWeight:s,fontStyle:a,children:e.name})},e.id)}),C&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ez.R,{}),(0,n.jsx)(a.NZ,{m:2,children:(0,n.jsx)(b.cC,{id:"Z/0bkt"})})]}),(0,n.jsx)(eT.i,{value:"",children:(0,n.jsx)(p.x,{fontFamily:l,fontSize:"lg",fontWeight:s,color:"gray.400",children:(0,n.jsx)(b.cC,{id:"fuNYg+"})})}),u&&u.map(e=>(0,n.jsx)(eT.i,{value:e.id,children:(0,n.jsx)(p.x,{fontFamily:(0,eR.eu)(e.id)?'"'.concat(e.id,'"'):'"'.concat(e.name,'"'),fontSize:"lg",fontWeight:s,children:e.name})},e.id))]}),c&&(0,n.jsx)(eA.d,{label:(0,n.jsx)(b.cC,{id:"vNYIdl"}),leftIcon:(0,n.jsx)(_.G,{icon:N.A$k,fixedWidth:!0}),rightIcon:F?void 0:(0,n.jsx)(e_.ER,{product:"pro"}),onClick:r,isSticky:!0})]})]})};var eB=i(29705),eM=i(62700);let eW=e=>{var t,i,r;let{font:s,value:l,defaultWeight:o,updateValue:a,...c}=e,h=(0,d.useCallback)(e=>{let t=Number(e);Number.isNaN(t)||a(t)},[a]),x=(null==l?void 0:l.toString())||"",u=(0,eM.d)()[o],{weightOptions:m,isDeletedFontWeight:g}=(0,d.useMemo)(()=>{let e=(0,eR.W9)(s),t=void 0!==l&&!e.includes(l);if(!t||!l)return{isDeletedFontWeight:t,weightOptions:e};let i=[...e,l].sort((e,t)=>e-t);return{isDeletedFontWeight:t,weightOptions:i}},[s,l]),j=s&&(null==s?void 0:s.workspaceId)!==null,C=j&&(null===(t=s.fontFiles)||void 0===t?void 0:t.length)===0,y=g&&j,w=(0,S.p6)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(ek.v,{matchWidth:!0,isLazy:!0,children:[(0,n.jsx)(eS.j,{size:"lg",as:f.z,borderRadius:"md",rightIcon:(0,n.jsx)(_.G,{icon:N.ptq,transform:"shrink-6"}),variant:"toolbar",px:4,h:10,w:"100%",border:"1px solid",borderColor:"gray.200",isDisabled:m.length<=1,...c,children:g?(0,n.jsx)(eL,{label:C?(0,n.jsx)(b.cC,{id:"EqUVJs"}):null!==(i=(0,eM.d)()[x])&&void 0!==i?i:u,labelColor:l?"gray.800":"gray.400"}):(0,n.jsx)(p.x,{textAlign:"left",color:l?"gray.800":"gray.400",fontWeight:400,children:null!==(r=(0,eM.d)()[x])&&void 0!==r?r:u})}),(0,n.jsx)(eI.q,{maxH:"320px",overflow:"auto",zIndex:"dropdown",children:(0,n.jsx)(eF._,{type:"radio",value:x,onChange:h,children:m.map(e=>{var t,i;return g&&l===e?(0,n.jsx)(eT.i,{value:e.toString(),disabled:!0,children:(0,n.jsx)(eL,{label:null!==(t=(0,eM.d)()[e])&&void 0!==t?t:u,description:y?(0,n.jsx)(b.cC,{id:"KFmni+"}):(0,n.jsx)(b.cC,{id:"mGTUJj"})})},e):(0,n.jsx)(eT.i,{value:e.toString(),children:(0,n.jsx)(p.x,{fontSize:"lg",children:null!==(i=(0,eM.d)()[e])&&void 0!==i?i:u})},e)})})})]}),y&&(0,n.jsx)(p.x,{fontSize:"xs",mt:1.5,children:(0,n.jsxs)(ew.r,{href:w,textDecoration:"underline",isExternal:!0,children:[(0,n.jsx)(b.cC,{id:"RUO69p"}),(0,n.jsx)(eB.h,{ml:1})]})})]})};var eP=i(17993),eK=i(87254),eV=i(16494),eY=i(28553),eq=i(47968),eX=i(66028),eZ=i(87205);let eQ=e=>{let{value:t,updateValue:i,onLogoUploadStart:r,onLogoUploadFail:s}=e,[l,o]=(0,d.useState)(null),[a,c]=(0,d.useState)(null),h=(0,x.CG)(eq.KV),{currentWorkspace:u}=(0,G.SE)(),m=h||(null==u?void 0:u.id);return m?t||a?(0,n.jsxs)(eP.g,{align:"flex-start",spacing:4,children:[(0,n.jsxs)(A.xu,{position:"relative",w:"100%",background:"gray.50",children:["placeholder"==a?(0,n.jsx)(eY.k3,{w:"100%"}):(0,n.jsx)(E.E,{w:"100%",src:t||a||void 0,alt:"",onMouseDown:eX.br}),l==eV.D.Uploading&&(0,n.jsx)(eY.HI,{}),l==eV.D.Error&&(0,n.jsx)(eY.s7,{})]}),(0,n.jsx)(f.z,{onClick:()=>{i(null),o(null)},mt:2,w:"100%",children:(0,n.jsx)(b.cC,{id:"VlT9ID"})})]}):(0,n.jsx)(eh.un,{orgId:m,uploadType:"image",editType:"icon",dropHereText:eK.ag._({id:"cmRkd1",values:{0:"%{browse}"}}),customHeight:"250px",customFontSize:"sm",onUploadStart:e=>{let{file:t,tempUrl:i}=e;o(eV.D.Uploading),r&&r(),t.type&&(0,eZ.Ns)(t.type)?c("placeholder"):c(i)},onUploadSuccess:e=>{o(eV.D.Done),i(e),c(null)},onUploadFailed:e=>{o(eV.D.Error),s&&s()}}):null};var eJ=i(76317),e$=i(29310),e0=i(59366),e1=i(93336);let e2=()=>{let e=(0,er.z$)(),t=(0,x.CG)(I.M1),i=(0,d.useCallback)(i=>{null==e||e.track(er.AA.THEME_RATED,{rating:i,method:"import",interactionId:t})},[e,t]),r=(0,d.useCallback)((i,n,r)=>{null==e||e.track(er.AA.THEME_FEEDBACK,{feedback:n,tags:r,rating:i,method:"import",interactionId:t})},[e,t]);return(0,n.jsx)(e1.o8,{feedbackTags:e4,trackRating:i,trackFeedback:r})},e4=[{key:"wrong-colors",label:(0,n.jsx)(b.cC,{id:"VqNHwM"})},{key:"wrong-fonts",label:(0,n.jsx)(b.cC,{id:"zwod6v"})},{key:"missing-logo",label:(0,n.jsx)(b.cC,{id:"HRiDli"})},{key:"not-enough-options",label:(0,n.jsx)(b.cC,{id:"XsRFrT"})}],e3=e=>{let{children:t}=e;return(0,n.jsx)(p.x,{fontSize:"md",fontWeight:"semibold",color:"gray.600",children:t})},e5="200px",e7=e=>{var t;let{color:i,isSelected:r,onClick:s}=e;return(0,n.jsx)(a.kH,{label:(0,n.jsxs)(z.K,{spacing:"0",children:[(0,n.jsx)(p.x,{textAlign:"center",fontSize:"xs",color:"gray.200",children:(0,n.jsx)(b.cC,{id:"nyQWMb"})}),(0,n.jsx)(p.x,{textAlign:"center",children:null===(t=i.color)||void 0===t?void 0:t.toUpperCase()})]}),placement:"top",children:(0,n.jsx)(A.Cd,{transitionProperty:"background",transitionDuration:"normal",size:"9",cursor:"pointer",_hover:{bg:r?"trueblue.200":"gray.100"},bg:r?"trueblue.200":"white",onClick:s,children:(0,n.jsx)(A.Cd,{size:"7",bg:i.color,border:"1px solid",borderColor:r?"transparent":"gray.300"})})})},e6=()=>{let{globalFonts:e,workspaceFonts:t,fontsMap:i}=(0,y.TY)(),r=(0,x.CG)(I.i8),s=(0,x.TL)(),l=(0,d.useCallback)(e=>{s((0,I.YI)({name:e.target.value}))},[s]),o=(0,d.useCallback)(e=>{s((0,I.KZ)({color:e}))},[s]),a=(0,d.useCallback)(e=>{s((0,I.E6)({color:e}))},[s]),c=(0,e$.y)(r),h=(0,x.CG)(I.Df),u=(0,x.CG)(I.Gt),m=(0,e$.vS)(r),g=(0,x.CG)(I.oS),j=(0,e$.mi)(r),f=(0,x.CG)(I.Y7),C=(0,e$.yU)(r),w=(0,e$.cc)(r),v=(0,x.CG)(I.Kn),{suggestedBodyFont:k,suggestedHeadingFont:E}=(0,x.CG)(I.j2),N=i[r.bodyFont||q.ke.bodyFont]||i[q.ke.bodyFont],_=i[r.headingFont||q.ke.headingFont]||i[q.ke.headingFont],G=(0,x.CG)(I.y6),H=(0,d.useCallback)(e=>{s((0,I.zo)({color:e}))},[s]),O=(0,d.useCallback)(()=>{let e=(0,S.p6)();window.open(e,"_blank")},[]),L=(0,d.useCallback)(e=>{s((0,I.N9)({font:e,fontsMap:i}))},[s,i]),U=(0,d.useCallback)(e=>{s((0,I.T0)({weight:e}))},[s]),B=(0,d.useCallback)(e=>{s((0,I.FD)({font:e,fontsMap:i}))},[s,i]),M=(0,d.useCallback)(e=>{s((0,I.Gc)({weight:e}))},[s]),W=(0,d.useCallback)(e=>{s((0,I.E5)({color:e}))},[s]),P=(0,d.useCallback)(e=>{s((0,I.qi)({color:e}))},[s]),K=(0,d.useMemo)(()=>({globalFonts:e,workspaceFonts:t}),[e,t]);return(0,n.jsxs)(R.W,{children:[(0,n.jsx)(z.K,{p:6,spacing:"5",pt:"0",w:"100%",children:(0,n.jsx)(eb.b,{colorScheme:"gray",children:(0,n.jsx)(p.x,{children:(0,n.jsx)(b.cC,{id:"ISK5qv",components:{0:(0,n.jsx)("span",{role:"img","aria-label":"thumbs up"})}})})})}),(0,n.jsxs)(z.K,{spacing:8,children:[(0,n.jsxs)(z.K,{spacing:2,children:[(0,n.jsx)(e3,{children:(0,n.jsx)(b.cC,{id:"1HfW/F"})}),(0,n.jsxs)(eC.NI,{children:[(0,n.jsx)(ey.l,{children:(0,n.jsx)(b.cC,{id:"Udsgl4"})}),(0,n.jsxs)(F.k,{direction:"row",justify:"space-between",w:"100%",children:[(0,n.jsx)(A.xu,{w:e5,children:(0,n.jsx)(eJ.gJ,{theme:r,color:c,updateColor:H,palette:"none"})}),(0,n.jsx)(z.K,{direction:"row",spacing:0,ml:2,children:h.map(e=>(0,n.jsx)(e7,{color:e,isSelected:(0,e$.zc)(c,e),onClick:()=>{H(e)}},e.color))})]})]}),(0,n.jsxs)(eC.NI,{children:[(0,n.jsx)(ey.l,{children:(0,n.jsx)(b.cC,{id:"ihFuMH"})}),(0,n.jsxs)(F.k,{direction:"row",justify:"space-between",w:"100%",children:[(0,n.jsx)(A.xu,{width:e5,children:(0,n.jsx)(eJ.bU,{color:C,theme:r,updateColor:o,palette:"none"})}),(0,n.jsx)(z.K,{direction:"row",spacing:0,ml:2,children:u.map(e=>(0,n.jsx)(e7,{color:e,isSelected:(0,e$.zc)(C,e),onClick:()=>{o(e)}},e.color))})]})]}),(0,n.jsxs)(eC.NI,{children:[(0,n.jsx)(ey.l,{children:(0,n.jsx)(b.cC,{id:"ErggF8"})}),(0,n.jsxs)(F.k,{direction:"row",justify:"space-between",w:"100%",children:[(0,n.jsx)(A.xu,{width:e5,children:(0,n.jsx)(eJ.bU,{color:w,theme:r,updateColor:a,palette:"none"})}),(0,n.jsx)(z.K,{direction:"row",spacing:0,ml:2,children:v.map(e=>(0,n.jsx)(e7,{color:e,isSelected:(0,e$.zc)(w,e),onClick:()=>{a(e)}},e.color))})]})]})]}),(0,n.jsxs)(z.K,{spacing:2,children:[(0,n.jsx)(e3,{children:(0,n.jsx)(b.cC,{id:"7OvVwW"})}),E&&E.suggested===r.headingFont&&E.suggested!==E.original&&(0,n.jsxs)(p.x,{fontSize:"xs",color:"gray.600",children:[(0,n.jsx)("span",{role:"img","aria-label":"warning",children:"⚠️"})," ","We substituted ",E.suggested," for"," ",E.original,". You can"," ",(0,n.jsx)(ew.r,{href:(0,S.p6)(),isExternal:!0,children:"upload"})," ",E.original," later."]}),(0,n.jsx)(eU,{fonts:K,value:r.headingFont,updateValue:L,onFontUploadClick:O,weight:"bold",defaultFont:q.ke.headingFont,"data-testid":"theme-importer-heading-font-picker",my:0}),(0,n.jsx)(eW,{font:_,value:r.headingFontWeight,defaultWeight:700,updateValue:U,my:0}),(0,n.jsxs)(D.U,{children:[(0,n.jsx)(A.xu,{width:e5,children:(0,n.jsx)(eJ.gJ,{color:j,theme:r,updateColor:P,palette:"accent"})}),(0,n.jsx)(T.L,{}),(0,n.jsx)(z.K,{direction:"row",spacing:0,ml:2,children:f.map(e=>(0,n.jsx)(e7,{color:e,isSelected:(0,e$.zc)(j,e),onClick:()=>{P(e)}},e.color))})]})]}),(0,n.jsxs)(z.K,{spacing:2,children:[(0,n.jsx)(e3,{children:(0,n.jsx)(b.cC,{id:"B4QCf7"})}),k&&k.suggested===r.bodyFont&&k.suggested!==k.original&&(0,n.jsxs)(p.x,{fontSize:"xs",color:"gray.600",children:[(0,n.jsx)("span",{role:"img","aria-label":"warning",children:"⚠️"})," ","We substituted ",k.suggested," for"," ",k.original,". You can"," ",(0,n.jsx)(ew.r,{href:(0,S.p6)(),isExternal:!0,children:"upload"})," ",k.original," later."]}),(0,n.jsx)(eU,{fonts:K,value:r.bodyFont,updateValue:B,onFontUploadClick:O,weight:"bold",defaultFont:q.ke.bodyFont,"data-testid":"theme-importer-body-font-picker",my:0}),(0,n.jsx)(eW,{font:N,value:r.bodyFontWeight,defaultWeight:400,updateValue:M,my:0}),(0,n.jsxs)(D.U,{children:[(0,n.jsx)(A.xu,{width:e5,children:(0,n.jsx)(eJ.bU,{color:m,theme:r,updateColor:W,palette:"accent"})}),(0,n.jsx)(T.L,{}),(0,n.jsx)(z.K,{direction:"row",spacing:0,ml:2,children:g.map(e=>(0,n.jsx)(e7,{color:e,isSelected:(0,e$.zc)(m,e),onClick:()=>{W(e)}},e.color))})]})]}),(0,n.jsxs)(z.K,{spacing:2,children:[(0,n.jsx)(e3,{children:(0,n.jsx)(b.cC,{id:"iG7KNr"})}),(0,n.jsx)(A.xu,{maxW:"min(100%, 300px)",children:(0,n.jsx)(eQ,{value:G,onLogoUploadStart:()=>{s((0,I.Vp)())},updateValue:e=>{if(!e){s((0,I.Ls)());return}s((0,I.GS)({logoImage:(0,e0.gM)({result:e,isError:!1})}))},onLogoUploadFail:()=>{s((0,I.r)())}})})]}),(0,n.jsxs)(eC.NI,{children:[(0,n.jsx)(ey.l,{children:(0,n.jsx)(e3,{children:(0,n.jsx)(b.cC,{id:"HZ7fEu"})})}),(0,n.jsx)(ev.I,{type:"text",value:r.name,onChange:l})]}),(0,n.jsx)(e2,{})]})]})};var e8=i(9165),e9=i(15706),[te,tt]=(0,e8.k)({name:"StepContext"}),[ti,tn]=(0,e9.eC)("Stepper"),tr=i(31053),ts=i(68023),tl=i(91982),to=i(84586),ta=i(76801),td=(0,ts.G)(function(e,t){let i=(0,tl.jC)("Stepper",e),{children:r,index:s,orientation:l="horizontal",showLastSeparator:o=!1,...a}=(0,to.Lr)(e),c=d.Children.toArray(r),h=c.length;return(0,n.jsx)(ta.m.div,{ref:t,"aria-label":"Progress","data-orientation":l,...a,__css:i.stepper,className:(0,tr.cx)("chakra-stepper",e.className),children:(0,n.jsx)(ti,{value:i,children:c.map((e,t)=>(0,n.jsx)(te,{value:{index:t,status:t<s?"complete":t>s?"incomplete":"active",orientation:l,showLastSeparator:o,count:h,isFirst:0===t,isLast:t===h-1},children:e},t))})})}),tc=(0,ts.G)(function(e,t){let{orientation:i,status:r,showLastSeparator:s}=tt(),l=tn();return(0,n.jsx)(ta.m.div,{ref:t,"data-status":r,"data-orientation":i,"data-stretch":(0,tr.PB)(s),__css:l.step,...e,className:(0,tr.cx)("chakra-step",e.className)})});function th(e){let{status:t}=tt(),i=tn();return(0,n.jsx)(ta.m.div,{"data-status":t,...e,__css:i.indicator,className:(0,tr.cx)("chakra-step__indicator",e.className)})}function tx(e){let{complete:t,incomplete:i,active:r}=e,s=tt(),l=null;switch(s.status){case"complete":l=(0,tr.Pu)(t,s);break;case"incomplete":l=(0,tr.Pu)(i,s);break;case"active":l=(0,tr.Pu)(r,s)}return l?(0,n.jsx)(n.Fragment,{children:l}):null}function tu(e){return(0,n.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 20 20","aria-hidden":"true",height:"1em",width:"1em",...e,children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}var tm=i(62929);function tp(e){let{status:t}=tt(),i=tn();return(0,n.jsx)(tm.J,{as:"complete"===t?tu:void 0,__css:i.icon,...e,className:(0,tr.cx)("chakra-step__icon",e.className)})}var tg=(0,ts.G)(function(e,t){let{children:i,...r}=e,{status:s,index:l}=tt(),o=tn();return(0,n.jsx)(ta.m.div,{ref:t,"data-status":s,__css:o.number,...r,className:(0,tr.cx)("chakra-step__number",e.className),children:i||l+1})}),tj=(0,ts.G)(function(e,t){let{status:i}=tt(),r=tn();return(0,n.jsx)(ta.m.h3,{ref:t,"data-status":i,...e,__css:r.title,className:(0,tr.cx)("chakra-step__title",e.className)})}),tf=(0,ts.G)(function(e,t){let{orientation:i,status:r,isLast:s,showLastSeparator:l}=tt(),o=tn();return s&&!l?null:(0,n.jsx)(ta.m.div,{ref:t,role:"separator","data-orientation":i,"data-status":r,__css:o.separator,...e,className:(0,tr.cx)("chakra-step__separator",e.className)})});let tb=()=>[{title:(0,n.jsx)(b.cC,{id:"bGa3Fk"}),duration:1e3},{title:(0,n.jsx)(b.cC,{id:"a+mYi4"}),duration:1e3},{title:(0,n.jsx)(b.cC,{id:"Zc41Kf"}),duration:1e3},{title:(0,n.jsx)(b.cC,{id:"DaFziV"}),duration:null}],tC=()=>{let e=(0,x.CG)(I.TR),t=tb(),[i,r]=(0,d.useState)(0);(0,d.useEffect)(()=>{"parsing"===e&&i<t.length-1&&setTimeout(()=>{r(i+1)},1e3)},[i,t.length,e]);let s=(0,x.TL)(),l=(0,ei.p)(),o=(0,d.useCallback)(()=>{s((0,I.md)()),l({title:(0,n.jsx)(b.cC,{id:"GfnBRU"}),status:"info",isClosable:!0,position:"top"})},[s,l]);return(0,n.jsxs)(z.K,{p:6,spacing:"8",pt:"0",children:[(0,n.jsx)(eb.b,{colorScheme:"gray",children:(0,n.jsx)(p.x,{children:(0,n.jsx)(b.cC,{id:"olO1VR"})})}),(0,n.jsx)(td,{index:i,orientation:"vertical",height:"400px",gap:"0",children:t.map((e,t)=>(0,n.jsxs)(tc,{children:[(0,n.jsx)(th,{children:(0,n.jsx)(tx,{complete:(0,n.jsx)(tp,{}),incomplete:(0,n.jsx)(tg,{}),active:(0,n.jsx)(tg,{})})}),(0,n.jsx)(tj,{children:(0,n.jsxs)(D.U,{children:[(0,n.jsx)(p.x,{maxW:"100%",children:e.title})," ",i===t&&(0,n.jsx)(V.$,{size:"sm",color:"trueblue.400"})]})}),(0,n.jsx)(tf,{})]},t))}),(0,n.jsx)(f.z,{onClick:o,color:"red.500",variant:"plain",children:(0,n.jsx)(b.cC,{id:"dEgA5A"})})]})},ty=(0,d.memo)(e=>{let{onTabChange:t,currentTab:i}=e;return(0,n.jsxs)(j.h,{p:2,position:"absolute",top:"3",left:"50%",transform:"translateX(-50%)",zIndex:"sticky",bg:"white",size:"sm",variant:"ghost",borderRadius:"md",boxShadow:"md",children:[(0,n.jsx)(f.z,{borderRadius:"md",bg:"thumbnails"===i?"trueblue.50":"transparent",color:"thumbnails"===i?"trueblue.500":"gray.600",onClick:()=>{t("thumbnails")},children:(0,n.jsx)(b.cC,{id:"l3s5ri"})}),(0,n.jsx)(f.z,{borderRadius:"md",bg:"editor"===i?"trueblue.50":"transparent",color:"editor"===i?"trueblue.500":"gray.600",onClick:()=>{t("editor")},children:(0,n.jsx)(b.cC,{id:"FEr96N"})})]})});ty.displayName="PreviewTabSwitcher";let tw=()=>{let{currentWorkspace:e}=(0,G.SE)(),t=null==e?void 0:e.id,i=(0,x.TL)(),r=(0,x.CG)(I.VH),{createTheme:s,isThemeSaving:l}=es({flow:"import"}),o=(0,x.CG)(I.i8),c=(0,x.CG)(I.e2),h=(0,x.CG)(I.vT),u=(0,x.CG)((0,I.TH)(t)),[m,p]=(0,d.useState)("thumbnails");(0,d.useEffect)(()=>{"reviewStep"===h&&p("editor")},[h]),(0,d.useEffect)(()=>()=>{i((0,I.md)())},[i]);let g=!u.name,j=(0,d.useCallback)(async()=>{s(u)},[s,u]),C=(0,d.useCallback)(()=>{i((0,I.md)())},[i]);return(0,n.jsxs)(et,{children:[(0,n.jsx)(O,{children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(B,{children:["initialStep"===h&&(0,n.jsx)(U,{leftIcon:N.acZ,onClick:()=>{w.T.emit("setThemeConfigurationView",{view:"splash"})},children:(0,n.jsx)(b.cC,{id:"ydzS9x"})}),(0,n.jsx)(L,{children:(0,n.jsx)(b.cC,{id:"l3s5ri"})})]}),(0,n.jsxs)(W,{children:["initialStep"===h&&(0,n.jsx)(ef,{}),"uploadStep"===h&&(0,n.jsx)(tC,{}),"reviewStep"===h&&(0,n.jsx)(e6,{})]}),"reviewStep"===h&&(0,n.jsx)(M,{children:(0,n.jsxs)(F.k,{w:"100%",children:[(0,n.jsx)(f.z,{variant:"plain",onClick:C,leftIcon:(0,n.jsx)(_.G,{icon:N.X7o}),children:(0,n.jsx)(b.cC,{id:"i88wdJ"})}),(0,n.jsx)(T.L,{}),(0,n.jsx)(a.kH,{label:(0,n.jsx)(b.cC,{id:"INxusr"}),isDisabled:!g,shouldWrapChildren:!0,children:(0,n.jsx)(f.z,{isLoading:l,variant:"solid",onClick:j,rightIcon:(0,n.jsx)(_.G,{icon:N.LEp}),isDisabled:g||c,children:(0,n.jsx)(b.cC,{id:"ul+W4g"})})})]})})]})}),(0,n.jsxs)(P,{children:["reviewStep"===h&&(0,n.jsx)(ty,{onTabChange:p,currentTab:m}),"initialStep"===h?(0,n.jsx)(F.k,{h:"100%",w:"100%"}):"thumbnails"===m&&(null==r?void 0:r.thumbnails)?(0,n.jsx)(z.K,{w:"100%",overflow:"auto",h:"100%",align:"center",children:r.thumbnails.map(e=>(0,n.jsx)(A.xu,{children:(0,n.jsx)(E.E,{src:e.url})},e.index))}):"editor"===m?(0,n.jsx)($,{theme:o}):null]})]})},tv=(0,d.memo)(e=>{let{onTabChange:t,currentTab:i}=e;return(0,n.jsxs)(j.h,{p:2,position:"absolute",top:"3",left:"50%",transform:"translateX(-50%)",zIndex:"sticky",bg:"white",size:"sm",variant:"ghost",borderRadius:"md",shadow:"md",children:[(0,n.jsx)(f.z,{borderRadius:"md",bg:"testerDoc"===i?"trueblue.50":"transparent",color:"testerDoc"===i?"trueblue.500":"gray.600",onClick:()=>{t("testerDoc")},"data-testid":"preview-tab-tester-doc",children:(0,n.jsx)(b.cC,{id:"ypSaiK"})}),(0,n.jsx)(f.z,{borderRadius:"md",bg:"currentDoc"===i?"trueblue.50":"transparent",color:"currentDoc"===i?"trueblue.500":"gray.600",onClick:()=>{t("currentDoc")},"data-testid":"preview-tab-current-doc",children:(0,n.jsx)(b.cC,{id:"VJUm9p"})})]})});tv.displayName="PreviewTabSwitcher";let tk=()=>{let e=(0,x.CG)(v.H_),t=(0,x.CG)(v.NN),i=(0,d.useRef)(),[r,s]=(0,d.useState)("testerDoc"),l=(0,d.useCallback)(e=>{var n,r;s(e),"currentDoc"===e?t&&(null===(n=i.current)||void 0===n||n.commands.setContent(t)):null===(r=i.current)||void 0===r||r.commands.setContent((0,X.y)())},[t]),o=(0,d.useCallback)(e=>{i.current=e},[]);return e?(0,n.jsxs)(n.Fragment,{children:[t&&(0,n.jsx)(tv,{onTabChange:l,currentTab:r}),(0,n.jsx)($,{theme:e,setEditor:o})]}):(0,n.jsx)(n.Fragment,{})};var tS=i(89099),tI=i(16556),tF=i(69251),tT=i(55281),tz=i.n(tT),tA=i(4742),tE=i.n(tA),tN=i(16266),t_=i(13793),tG=i(3543),tD=i(829),tR=i.n(tD),tH=i(84636),tO=i.n(tH),tL=i(98621),tU=i.n(tL);let tB=e=>{let{theme:t,onSelect:i,onShuffle:r,isSelected:s=!1}=e,l=(0,e$.H_)((0,e$.cc)(t)),o=(0,e$.yU)(t).color,a=(0,e$.HO)((0,e$.mi)(t)),c=(0,e$.vS)(t).color,h=(0,e$.HO)((0,e$.xe)(t)),x=(0,e$.X)(t,!1,!0),u=(0,d.useMemo)(()=>tR()(tO()(x,e$.ri),e=>-tU()((0,e$.H_)(e)).getLuminance()),[x]);return(0,n.jsxs)(F.k,{position:"relative",align:"center",justify:"center",role:"group",children:[(0,n.jsx)(f.z,{variant:"ghost",h:"auto",p:2,flex:1,w:"100%",textAlign:"left",whiteSpace:"wrap",fontWeight:"500",onClick:i,borderWidth:"2px",borderColor:s?"trueblue.300":"transparent",bg:s?"trueblue.50":void 0,children:(0,n.jsx)(F.k,{bg:l,borderRadius:"md",boxShadow:"md",overflow:"hidden",flex:1,direction:"column",borderWidth:"1px",position:"relative",children:(0,n.jsxs)(F.k,{p:4,flex:1,children:[(0,n.jsx)(F.k,{p:4,bg:o,borderRadius:"md",boxShadow:"sm",flex:1,children:(0,n.jsxs)(z.K,{flex:1,spacing:1,children:[(0,n.jsx)(D.U,{opacity:.8,children:(0,n.jsx)(F.k,{w:"70%",h:1.5,css:a,borderRadius:"sm"})}),(0,n.jsx)(F.k,{h:1,opacity:.6,bg:c,borderRadius:"sm"}),(0,n.jsx)(F.k,{h:1,opacity:.6,bg:c,borderRadius:"sm"}),(0,n.jsx)(F.k,{h:2.5,opacity:.9,borderRadius:"full",w:"40px",align:"center",justify:"center",css:h,mt:1})]})}),(0,n.jsx)(D.U,{spacing:0,flex:1,w:"100%",position:"absolute",bottom:"-2",left:"0",opacity:0,transitionProperty:"opacity, bottom",transitionDuration:"normal",_groupHover:{opacity:1,bottom:0},children:u.map((e,t)=>(0,n.jsx)(F.k,{css:(0,e$.HO)(e),flex:1,h:2},t))})]})})}),s&&(0,n.jsx)(f.z,{size:"xs",variant:"solid",position:"absolute",bottom:"5",right:"5",leftIcon:(0,n.jsx)(_.G,{icon:N.a_u}),opacity:0,_groupHover:{opacity:1},onClick:r,children:(0,n.jsx)(b.cC,{id:"gH5Gbn"})})]})},tM=()=>({all:{label:(0,n.jsx)(b.cC,{id:"N40H+G"})},light:{label:(0,n.jsx)(b.cC,{id:"1njn7W"})},dark:{label:(0,n.jsx)(b.cC,{id:"pvnfJD"})},red:{label:(0,n.jsx)(b.cC,{id:"wRTiSD"}),colors:["red.400","#DC143C","#B22222","#8B0000"]},orange:{label:(0,n.jsx)(b.cC,{id:"4OE5Sf"}),colors:["orange.400","#FF8C00","#FF7F50","#FF6347"]},yellow:{label:(0,n.jsx)(b.cC,{id:"QyCqHT"}),colors:["yellow.400","#FFD700","#FFA500","#FF8C00"]},green:{label:(0,n.jsx)(b.cC,{id:"VmkjGB"}),colors:["green.400","#32CD32","#00FF00","#ADFF2F"]},blue:{label:(0,n.jsx)(b.cC,{id:"Zn5crm"}),colors:["blue.400","#1E90FF","#00BFFF","#ADD8E6"]},purple:{label:(0,n.jsx)(b.cC,{id:"mF9LxA"}),colors:["purple.400","#8A2BE2","#9370DB","#BA55D3"]},pink:{label:(0,n.jsx)(b.cC,{id:"2FIjLb"}),colors:["pink.400","#FFB6C1","#FF69B4","#FF1493"]},neutral:{label:(0,n.jsx)(b.cC,{id:"proQUv"}),colors:["#D2BEA1","#808080","#C0C0C0","#D3D3D3"]},gray:{label:(0,n.jsx)(b.cC,{id:"qS5//Q"}),colors:["gray.400","#A9A9A9","#C0C0C0","#D3D3D3"]},professional:{label:(0,n.jsx)(b.cC,{id:"Oojfbh"})},colorful:{label:(0,n.jsx)(b.cC,{id:"Op7PhG"})},futuristic:{label:(0,n.jsx)(b.cC,{id:"eWqmK+"})},modern:{label:(0,n.jsx)(b.cC,{id:"IU7sBy"})}}),tW=()=>{var e;let t=(0,x.CG)(v.H_),i=(0,x.TL)(),[r,s]=(0,d.useState)("all"),{data:l}=(0,en.BCl)({variables:{workspaceId:null,archived:!1},fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"}),o=null==l?void 0:l.themes,[a,c]=(0,d.useState)(t&&(null===(e=tz()(o,e=>tP(t,e)))||void 0===e?void 0:e.id)||null),h=(0,d.useMemo)(()=>Object.entries(tM()),[]),u=(0,d.useMemo)(()=>(null==o?void 0:o.filter(e=>{if(e.config.disableReadabilityAdjustment)return!1;if("all"===r)return!0;let{keywords:t}=e.config;return!!t&&(t.color.includes(r)||t.tone.includes(r))}))||[],[r,o]),m=(0,d.useCallback)(e=>{c(e.id);let t=(0,e$.Ld)((0,e$.cc)(e))||{type:t_.E.NONE},n=(0,tN.f)(e),r={primaryColor:(0,e$.y)(e),secondaryColors:(0,e$.h6)(e),cardColor:(0,e$.yU)(e),headingColor:(0,e$.mi)(e),bodyColor:(0,e$.vS)(e),accentBackgrounds:e.config.accentBackgrounds,stylePrompt:e.config.stylePrompt,background:t,shapeColorScheme:"custom"===n.shapeColorScheme?"accent":n.shapeColorScheme};i((0,v.rF)({config:r}))},[i]),g=(0,d.useCallback)(e=>{i((0,v.rF)({config:tK(e)}))},[i]);if(!t)throw Error("Theme is undefined");return(0,n.jsxs)(z.K,{spacing:nb,children:[(0,n.jsx)(tS.E,{children:h.map(e=>{let[t,{label:i,colors:l}]=e;return(0,n.jsx)(tI.Vp,{onClick:()=>{s(t)},colorScheme:r===t?"trueblue":"gray",cursor:"pointer",children:(0,n.jsxs)(D.U,{spacing:2,children:[l?(0,n.jsx)(F.k,{boxSize:3,bg:l[0],borderRadius:"sm"}):null,(0,n.jsx)(p.x,{children:i})]})},t)})}),(0,n.jsx)(z.K,{children:(0,n.jsx)(tF.r,{templateColumns:nC,gap:ny,children:u.map(e=>(0,n.jsx)(tB,{theme:e,onSelect:()=>{m(e)},onShuffle:()=>g(e),isSelected:a===e.id},e.id))})})]})},tP=(e,t)=>JSON.stringify((0,e$.X)(e))===JSON.stringify((0,e$.X)(t)),tK=e=>{let t=(0,e$.X)(e),i=(0,e$.yU)(e),n=t.map(e$.H_).filter(e=>{let t=(0,tG.yv)(e);return t>.8||t<.2}).map(e$.H_),r=tE()(n)||(0,e$.H_)(i),s=(0,tG.DP)(r),l=(0,tG.yv)(r),o={type:"solid",color:r},a=t.filter(e=>(0,e$.ri)(e)!==(0,e$.ri)(o)),d=tE()(a),c=[d,{type:"solid",color:s?q.Qw:q.l0}],h=tE()(c),x={type:"solid",color:s?q.Z_:q.zL},u=[(0,e$.H_)(d),(0,tG.tG)(r,l>.1?-12:12)],m=tE()(u),p=(0,e$.Ld)({type:"solid",color:m}),g=tE()(["default","accent"]);return{headingColor:h,bodyColor:x,cardColor:o,primaryColor:d,background:p,shapeColorScheme:g}};var tV=i(36371),tY=i(73582),tq=i(2969),tX=i(3181),tZ=i(13272);let tQ=e=>{let{defaultTab:t,customTab:i}=e;return(0,n.jsxs)(tV.m,{isFitted:!0,isLazy:!0,variant:"soft-rounded",size:"sm",children:[(0,n.jsxs)(tY.t,{children:[(0,n.jsx)(tq.O,{children:(0,n.jsx)(b.cC,{id:"LVpBQM",components:{0:(0,n.jsx)(D.U,{}),1:(0,n.jsx)(_.G,{icon:N.m6i}),2:(0,n.jsx)(p.x,{})}})}),(0,n.jsx)(tq.O,{children:(0,n.jsxs)(D.U,{children:[(0,n.jsx)(_.G,{icon:N.Xcf}),(0,n.jsx)(p.x,{children:(0,n.jsx)(b.cC,{id:"srRMnJ"})})]})})]}),(0,n.jsxs)(tX.n,{children:[(0,n.jsx)(tZ.x,{px:0,children:t}),(0,n.jsx)(tZ.x,{px:0,children:i})]})]})};var tJ=i(74409),t$=i(82713),t0=i(52929),t1=i(66479),t2=i(29596),t4=i(40520),t3=i(64743);let t5=e=>(0,t3.bH)(e)&&(0,t3.Rr)(e),t7=e=>{let{setBackground:t,background:i,defaultMessage:r,isDark:s,isValidSource:l,contextualTheme:o}=e,[a,c]=(0,d.useState)("default"),h=t2.ah[a],x=(0,d.useCallback)(e=>l?l(e)&&t5(e):t5(e),[l]),u=(0,d.useCallback)(e=>{t({...i,...e})},[i,t]);return(0,n.jsx)(t4.O,{isDark:s,isValidSource:x,defaultMessage:r,currentBackground:i,currentSource:h,updateCurrentBackground:u,setCurrentSourceKey:c,currentSourceKey:a,editType:"themeBackground",contextualTheme:o})},t6=()=>{let e=(0,x.CG)(v.H_),t=(0,x.TL)();if(!e)throw Error("Theme is undefined");let i=(0,e$.vS)(e);return(0,n.jsx)(eJ.bU,{dataTestId:"custom-theme-body-color-picker",theme:e,color:i||void 0,defaultColor:i,updateColor:e=>{t((0,v.E5)({color:e}))},palette:"accent"})},t8=()=>{let e=(0,x.CG)(v.H_),t=(0,x.TL)();if(!e)throw Error("Theme is undefined");let i=(0,e$.mi)(e);return(0,n.jsx)(eJ.Ar,{dataTestId:"custom-theme-heading-color-picker",theme:e,color:i||void 0,defaultColor:i,updateColor:e=>{t((0,v.qi)({color:e}))},palette:"accent"})},t9=(0,d.memo)(()=>{var e;let t=(0,x.TL)(),i=(0,x.CG)(v.H_),r=(0,d.useCallback)(e=>{var i,n;(null==e?void 0:e.type)===t_.E.IMAGE&&(null===(i=e.image)||void 0===i?void 0:i.uploadStatus)===eV.D.Uploading?t((0,v.HJ)({background:e})):(null==e?void 0:e.type)===t_.E.IMAGE&&(null===(n=e.image)||void 0===n?void 0:n.uploadStatus)===eV.D.Error?t((0,v.om)()):t((0,v.SE)({background:e}))},[t]),s={size:"md",fontWeight:"600"};if(!i)throw Error("Theme is undefined");let[l,...o]=(0,e$.i4)(i),c=(0,e$.yU)(i),h=(0,t1.E7)(i),u=(0,t1.wj)(i);return(0,n.jsxs)(z.K,{spacing:7,children:[(0,n.jsxs)(z.K,{spacing:"3",children:[(0,n.jsxs)(tJ.X,{...s,children:[(0,n.jsx)(b.cC,{id:"DNUgpN"})," ",(0,n.jsx)(a.Yq,{label:(0,n.jsx)(b.cC,{id:"+GFtYe"})})]}),(0,n.jsxs)(eC.NI,{children:[(0,n.jsx)(ey.l,{children:(0,n.jsx)(b.cC,{id:"Udsgl4"})}),(0,n.jsx)(eJ.gJ,{dataTestId:"custom-theme-primary-color-picker",theme:i,color:l,updateColor:e=>{t((0,v.zo)({color:e}))},palette:"none"})]}),(0,n.jsxs)(eC.NI,{children:[(0,n.jsx)(ey.l,{children:(0,n.jsx)(b.cC,{id:"k7VWXk"})}),(0,n.jsx)(eJ.SA,{theme:i,colors:o,updateColors:e=>{t((0,v.fZ)({colors:e}))},minColors:0,maxColors:8,palette:"none"})]})]}),(0,n.jsxs)(z.K,{spacing:"3",children:[(0,n.jsx)(tJ.X,{...s,children:(0,n.jsx)(b.cC,{id:"xeiujy"})}),(0,n.jsxs)(eC.NI,{children:[(0,n.jsx)(ey.l,{children:(0,n.jsx)(b.cC,{id:"v9mrgh"})}),(0,n.jsx)(t8,{})]}),(0,n.jsxs)(eC.NI,{children:[(0,n.jsx)(ey.l,{children:(0,n.jsx)(b.cC,{id:"jx8uni"})}),(0,n.jsx)(t6,{})]})]}),(0,n.jsxs)(z.K,{spacing:3,children:[(0,n.jsx)(tJ.X,{...s,children:"Accessibility"}),(0,n.jsx)(eC.NI,{children:(0,n.jsx)(eb.b,{colorScheme:"gray",children:(0,n.jsx)(t$.X,{isChecked:!(null===(e=i.config)||void 0===e?void 0:e.disableReadabilityAdjustment),onChange:()=>t((0,v.Kw)()),children:(0,n.jsxs)(p.x,{fontSize:"sm",children:[(0,n.jsx)(b.cC,{id:"KmUJ3J"})," ",(0,n.jsx)(a.Yq,{label:(0,n.jsx)(b.cC,{id:"QjwqJE"})})]})})})})]}),(0,n.jsxs)(z.K,{spacing:"3",children:[(0,n.jsx)(tJ.X,{...s,children:"Background"}),(0,n.jsxs)(eC.NI,{children:[(0,n.jsx)(ey.l,{children:(0,n.jsx)(b.cC,{id:"ihFuMH"})}),(0,n.jsx)(eJ.bU,{dataTestId:"custom-theme-card-color-picker",theme:i,color:c,updateColor:e=>{t((0,v.KZ)({color:e}))},defaultColor:{type:"solid",color:"#FFFFFF"},palette:"accent"})]}),(0,n.jsxs)(eC.NI,{children:[(0,n.jsx)(ey.l,{children:(0,n.jsx)(b.cC,{id:"8rfGAV"})}),(0,n.jsx)(t7,{setBackground:r,background:h,defaultMessage:(0,n.jsxs)(eb.b,{fontSize:"xs",children:[(0,n.jsx)(t0.z,{}),(0,n.jsx)(p.x,{children:(0,n.jsx)(b.cC,{id:"j+PsQe"})})]}),isDark:u,contextualTheme:i})]})]})]})});t9.displayName="CustomColorSettings";let ie=(0,d.memo)(()=>(0,n.jsx)(z.K,{spacing:nb,children:(0,n.jsx)(tQ,{defaultTab:(0,n.jsx)(tW,{}),customTab:(0,n.jsx)(t9,{})})}));ie.displayName="ColorStep";var it=i(46751);let ii={...q.wr,cardBorderColor:void 0},ir=e=>{let{isSelected:t=!1,onClick:i,theme:r,pack:s}=e,{title:l,description:o,knobs:a}=s,c=(0,e$.H_)((0,e$.cc)(r))||"white",h=(0,d.useMemo)(()=>{let e={...ii,...a(r)};return(0,it.fK)({cardColor:(0,e$.yU)(r),config:e,theme:{...r,config:{...r.config,...e}}})},[r,a]);return(0,n.jsx)(f.z,{variant:"ghost",onClick:i,bg:t?"trueblue.50":"white",borderColor:t?"trueblue.400":"transparent",borderWidth:"2px",minH:"auto",h:"auto",minW:"auto",w:"100%",p:2,flex:1,color:"gray.900",textAlign:"left",whiteSpace:"normal",alignItems:"flex-start",css:h,children:(0,n.jsxs)(z.K,{flex:1,spacing:4,children:[(0,n.jsx)(F.k,{h:24,bg:c,borderRadius:"md",borderWidth:"1px",shadow:"inner",align:"center",justify:"center",p:5,children:(0,n.jsx)(F.k,{w:"100%",h:"100%",sx:{boxShadow:"var(--card-shadow)",backdropFilter:"var(--card-backdrop-filter)",backgroundColor:"var(--card-background-color)",borderRadius:"var(--card-border-radius)"}})}),(0,n.jsxs)(z.K,{spacing:1,children:[(0,n.jsx)(p.x,{fontSize:"md",children:l}),(0,n.jsx)(p.x,{fontWeight:"500",color:"gray.500",fontSize:"xs",children:o})]})]})})};var is=i(19783),il=i(82655);let io=e=>{let{label:t,isSelected:i=!1,type:r="card",onClick:s=()=>{},sx:l={},children:o}=e;return(0,n.jsx)(a.kH,{label:t?t():"",placement:"top",children:(0,n.jsx)(f.z,{h:"auto",p:0,variant:"ghost",onClick:s,children:(0,n.jsxs)(F.k,{h:"14",minH:"14",minW:"88px",position:"relative",overflow:"hidden",alignItems:"center",justifyContent:"center",borderRadius:"md",bg:i?"trueblue.200":"gray.200",border:"2px solid",borderColor:i?"trueblue.400":"gray.200",transitionProperty:"background-color, border-color",transitionDuration:"normal",_hover:{bg:i?void 0:"trueblue.100",borderColor:i?void 0:"trueblue.300"},children:["layout"===r&&(0,n.jsx)(z.K,{bg:"white",h:"100%",w:"100%",p:"2",children:(0,n.jsx)(D.U,{h:"100%",w:"100%",borderRadius:"md",alignItems:"stretch",spacing:"1",filter:"grayscale(1)",children:[void 0,void 0,void 0].map((e,t)=>(0,n.jsx)(F.k,{flex:"1",sx:l},t))})}),"card"===r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(A.xu,{zIndex:"0",position:"relative",fontSize:"2xl",color:i?"trueblue.600":"gray.600",children:(0,n.jsx)(_.G,{icon:il.VmB})}),(0,n.jsx)(A.xu,{zIndex:"10",bg:"white",position:"absolute",left:"-4",borderRadius:"md",bottom:"-4",h:"14",w:"100%",sx:l})]}),"button"===r&&(0,n.jsx)(f.z,{sx:l,p:4,size:"sm",variant:"plain",pointerEvents:"none",boxShadow:"none",border:"none",maxW:"100%",transform:"scale(0.8)",children:(0,n.jsx)(b.cC,{id:"hxBFty"})}),o]})})})},ia=e=>{let{label:t,isSelected:i=!1,type:r="radius",onClick:s=()=>{},sx:l={}}=e;return(0,n.jsx)(a.kH,{label:t?t():"",placement:"top",children:(0,n.jsxs)(f.z,{p:"0",variant:"ghost",bg:i?"trueblue.100":"gray.200",border:"2px solid",borderColor:i?"trueblue.400":"gray.200",w:"12",h:"12",alignItems:"flex-start",overflow:"hidden",textAlign:"left",onClick:s,position:"relative",children:["radius"===r&&(0,n.jsx)(A.xu,{zIndex:"10",bg:"white",h:"16",w:"16",position:"absolute",top:"3",right:"3",sx:l}),"shadow"===r&&(0,n.jsx)(A.xu,{zIndex:"10",bg:"white",h:"16",w:"16",position:"absolute",bottom:"3",left:"3",borderRadius:"sm",sx:l}),"block-shadow"===r&&(0,n.jsx)(A.xu,{w:"100%",h:"100%",bg:"white",children:(0,n.jsx)(A.xu,{zIndex:"10",bg:"gray.100",h:"16",w:"16",position:"absolute",bottom:"3",left:"3",borderRadius:"sm",sx:l})}),"card"===r&&(0,n.jsxs)(F.k,{color:"gray.400",alignItems:"center",h:"100%",w:"100%",justifyContent:"center",position:"relative",children:[(0,n.jsx)(_.G,{icon:il.VmB}),(0,n.jsx)(A.xu,{position:"absolute",bg:"white",zIndex:"10",top:"0",left:"0",bottom:"0",right:"0",sx:l})]})]})})},id=e=>{let{label:t,tooltip:i,isSelected:r,onClick:s}=e;return(0,n.jsx)(is.u,{label:i?i():"",placement:"top",children:(0,n.jsx)(f.z,{h:"auto",p:"3",variant:"ghost",bg:r?"trueblue.50":"gray.100",textAlign:"left",minW:"14",onClick:s,children:t&&(0,n.jsx)(p.x,{maxW:"100%",noOfLines:1,color:r?"trueblue.600":"gray.600",children:t})})})};var ic=i(89207);let ih=()=>{let e=(0,x.TL)(),t=(0,x.CG)(v.H_);if(!t)throw Error("Theme is undefined");let i=(0,tN.f)(t),r="hard"===i.cardShadow,s="none"!==i.cardBorder||r;if(!s)return null;let l=(0,e$.Nq)(t),{config:o}=t;return(0,n.jsxs)(eC.NI,{children:[(0,n.jsx)(ey.l,{children:r?(0,n.jsx)(b.cC,{id:"Nz77Ud"}):(0,n.jsx)(b.cC,{id:"ITgjHB"})}),(0,n.jsx)(eJ.bU,{theme:t,color:o.cardBorderColor,defaultColor:l,updateColor:t=>{e((0,v.we)({color:t}))},palette:"accent"})]})};var ix=i(7344),iu=i(59905);let im=()=>{let e=(0,x.TL)(),t=(0,x.CG)(v.H_);if(!t)throw Error("Theme is undefined");let i=(0,e$.PL)(t),r=(0,tN.f)(t);return(0,n.jsxs)(eC.NI,{children:[(0,n.jsx)(ey.l,{children:(0,n.jsx)(b.cC,{id:"QMdgje"})}),(0,n.jsxs)(eP.g,{spacing:2,align:"start",children:[";",(0,n.jsx)(ix.E,{children:(0,n.jsx)(z.K,{children:Object.entries(q.oi).map(i=>{let[s,l]=i,o=(0,e$.vf)(t,s);return(0,n.jsx)(iu.Y,{isChecked:s===r.shapeColorScheme,onChange:()=>{e((0,v.fb)({shapeColorScheme:s}))},children:(0,n.jsxs)(D.U,{children:["custom"!==s&&(0,n.jsx)(A.Cd,{size:"5",bg:(0,e$.H_)(o)}),(0,n.jsx)(p.x,{fontSize:"sm",children:l.name()})]})},s)})})}),"custom"===r.shapeColorScheme&&(0,n.jsxs)(z.K,{w:"100%",children:[(0,n.jsx)(p.x,{fontSize:"sm",color:"gray.600",children:(0,n.jsx)(b.cC,{id:"U+j5it"})}),(0,n.jsx)(eJ.SA,{theme:t,colors:i,updateColors:t=>{e((0,v.w_)({colors:t}))},minColors:1,maxColors:10,solidOnly:!0,palette:"accent"})]})]})]})},ip=(0,d.memo)(()=>{let e=[{label:()=>eK.ag._({id:"Ccpbzh"}),Component:(0,n.jsx)(ig,{})},{label:()=>eK.ag._({id:"Uw3jqG"}),Component:(0,n.jsx)(ij,{})},{label:()=>eK.ag._({id:"0ZDH3e"}),Component:(0,n.jsx)(ib,{})}];return(0,n.jsxs)(tV.m,{variant:"soft-rounded",isFitted:!0,size:"sm",children:[(0,n.jsx)(tY.t,{children:e.map((e,t)=>(0,n.jsx)(tq.O,{"data-testid":"theme-config-tab-".concat(t),children:e.label()},t))}),(0,n.jsx)(tX.n,{children:e.map((e,t)=>(0,n.jsx)(tZ.x,{px:"0","data-testid":"theme-config-tab-panel-".concat(t),children:(0,n.jsx)(z.K,{spacing:4,children:e.Component})},t))})]})});ip.displayName="DesignSettings";let ig=(0,d.memo)(()=>{let e=(0,x.TL)(),t=(0,x.CG)(v.H_);if(!t)throw Error("Theme is undefined");let i=(0,tN.f)(t);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(eC.NI,{children:[(0,n.jsxs)(ey.l,{children:[(0,n.jsx)(b.cC,{id:"aBxw8F"}),(0,n.jsx)(a.Yq,{ml:1.5,label:(0,n.jsx)(b.cC,{id:"IUHTyS"})})]}),(0,n.jsx)(j.h,{p:.5,children:Object.entries(q.LZ).map(t=>{let[r,s]=t;return(0,n.jsx)(ia,{label:s.name,type:"radius",isSelected:r===i.roundness,sx:s.previewSx,onClick:()=>{e((0,v.eH)({roundness:r}))}},r)})})]}),(0,n.jsxs)(eC.NI,{children:[(0,n.jsxs)(ey.l,{children:[(0,n.jsx)(b.cC,{id:"n0Xbfn"}),(0,n.jsx)(a.Yq,{ml:1.5,label:(0,n.jsx)(b.cC,{id:"bsqZlK"})})]}),(0,n.jsx)(j.h,{p:.5,children:Object.entries(q.mH).map(t=>{let[r,s]=t;return s.deprecated&&r!==i.cardShadow?null:(0,n.jsx)(ia,{label:s.name,type:"shadow",isSelected:r===i.cardShadow||!i.cardShadow&&"default"===r,sx:s.previewSx,onClick:()=>{e((0,v.pj)({cardShadow:r}))}},r)})})]}),(0,n.jsxs)(eC.NI,{children:[(0,n.jsx)(ey.l,{children:(0,n.jsx)(b.cC,{id:"XDmFR6"})}),(0,n.jsx)(j.h,{p:.5,isAttached:!0,children:Object.entries(q.y9).map(t=>{let[r,s]=t;return(0,n.jsx)(id,{tooltip:s.name,isSelected:r===i.cardBorder,label:s.icon,onClick:()=>{e((0,v.y7)({cardBorder:r}))}},r)})})]}),(0,n.jsx)(ih,{}),(0,n.jsxs)(eC.NI,{children:[(0,n.jsx)(ey.l,{children:(0,n.jsx)(b.cC,{id:"yu3Nvs"})}),(0,n.jsx)(j.h,{p:.5,children:Object.entries(q.Wd).map(t=>{let[r,s]=t;return(0,n.jsx)(io,{label:s.name,type:"card",isSelected:r===i.cardTransparency,sx:s.previewSx,onClick:()=>{e((0,v.dN)({cardTransparency:r}))}},r)})})]}),(0,n.jsxs)(eC.NI,{children:[(0,n.jsx)(ey.l,{children:(0,n.jsx)(b.cC,{id:"ae2ouI"})}),(0,n.jsx)(j.h,{p:.5,flexWrap:"wrap",isAttached:!0,gap:2,children:Object.entries(ic.F).map(t=>{let[r,s]=t;return(0,n.jsx)(io,{label:s.name,type:"layout-cut",isSelected:r===i.accentCut,onClick:()=>{e((0,v.mn)({accentCut:r}))},children:(0,n.jsxs)(D.U,{h:"100%",w:"100%",spacing:"0",bg:"white",children:[(0,n.jsx)(F.k,{flex:"2",h:"100%"}),(0,n.jsx)(F.k,{flex:"1",h:"100%",bg:"gray.200",color:"gray.500",alignItems:"center",justifyContent:"end",sx:s.maskStyles.right,p:2,children:(0,n.jsx)(_.G,{icon:eO.VmB})})]})},r)})})]})]})});ig.displayName="CardsTab";let ij=(0,d.memo)(()=>{let e=(0,x.TL)(),t=(0,x.CG)(v.H_);if(!t)throw Error("Theme is undefined");let i=(0,tN.f)(t);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(im,{}),(0,n.jsxs)(eC.NI,{children:[(0,n.jsx)(ey.l,{children:(0,n.jsx)(b.cC,{id:"xQJpEa"})}),(0,n.jsx)(j.h,{p:.5,isAttached:!0,children:Object.entries(q.Nu).map(t=>{let[r,s]=t;return(0,n.jsx)(id,{tooltip:s.name,isSelected:r===i.shapeFill,label:s.icon,onClick:()=>{e((0,v.s5)({shapeFill:r})),"none"===r&&"none"===i.shapeBorder&&e((0,v.uX)({shapeBorder:"md"}))}},r)})})]}),(0,n.jsxs)(eC.NI,{children:[(0,n.jsx)(ey.l,{children:"Block border"}),(0,n.jsx)(j.h,{isAttached:!0,children:Object.entries(q.y9).map(t=>{let[r,s]=t;return(0,n.jsx)(id,{tooltip:s.name,isSelected:r===i.shapeBorder,label:s.icon,onClick:()=>{e((0,v.uX)({shapeBorder:r}))}},r)})})]}),(0,n.jsxs)(eC.NI,{children:[(0,n.jsx)(ey.l,{children:"Block shadow"}),(0,n.jsx)(j.h,{as:tS.E,children:Object.entries(q.X_).map(t=>{let[r,s]=t;return s.deprecated&&r!==i.shapeShadow?null:(0,n.jsx)(ia,{type:"block-shadow",label:s.name,isSelected:r===i.shapeShadow,sx:{border:"1px solid",borderColor:"gray.200",backgroundColor:"gray.100",...s.previewSx},onClick:()=>{e((0,v.Nu)({shapeShadow:r}))}},r)})})]})]})});ij.displayName="BlocksTab";let ib=(0,d.memo)(()=>{let e=(0,x.CG)(v.H_),t=(0,x.TL)();if(!e)throw Error("Theme is undefined");let i=(0,tN.f)(e),{config:r}=e,s=(0,e$.nX)(e),l=(0,e$.xe)(e);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(eC.NI,{children:[(0,n.jsxs)(ey.l,{children:[(0,n.jsx)(b.cC,{id:"Ptp9MF"})," ",(0,n.jsx)(a.Yq,{label:(0,n.jsx)(b.cC,{id:"W3CvLD"})})]}),(0,n.jsx)(eJ.Ar,{theme:e,color:r.buttonColor,defaultColor:l,updateColor:e=>{t((0,v.z2)({color:e}))},palette:"accent"})]}),(0,n.jsxs)(eC.NI,{children:[(0,n.jsx)(ey.l,{children:"Button shape"}),(0,n.jsx)(j.h,{as:tS.E,children:Object.entries(q.q1).map(e=>{let[r,s]=e;return(0,n.jsx)(io,{type:"button",label:s.name,isSelected:r===i.buttonRoundness,sx:s.previewSx,onClick:()=>{t((0,v.bR)({roundness:r}))}},r)})})]}),(0,n.jsxs)(eC.NI,{children:[(0,n.jsxs)(ey.l,{children:[(0,n.jsx)(b.cC,{id:"QfrKvi"})," ",(0,n.jsx)(a.Yq,{label:(0,n.jsx)(b.cC,{id:"W3CvLD"})})]}),(0,n.jsx)(eJ.bU,{theme:e,color:r.linkColor,defaultColor:s,updateColor:e=>{t((0,v.Uo)({color:e}))},palette:"accent"})]})]})});ib.displayName="ButtonsLinksTab";let iC=()=>[{id:"default",title:(0,n.jsx)(b.cC,{id:"TJBHlP"}),description:(0,n.jsx)(b.cC,{id:"1GpX8B"}),knobs:()=>({})},{id:"flat",title:(0,n.jsx)(b.cC,{id:"F7cy8b"}),description:(0,n.jsx)(b.cC,{id:"SkGUtG"}),knobs:()=>({roundness:"sm",buttonRoundness:"sm",cardBorder:"none",cardShadow:"none",shapeFill:"solid",shapeBorder:"none",shapeShadow:"none"})},{id:"outline",title:(0,n.jsx)(b.cC,{id:"dD7NPy"}),description:(0,n.jsx)(b.cC,{id:"GYrLbt"}),knobs:e=>{let t=(0,e$.t2)((0,e$.y)(e));return{shapeFill:"none",shapeBorder:"md",cardBorder:"md",roundness:"sm",buttonRoundness:"sm",cardBorderColor:t}}},{id:"sharp",title:(0,n.jsx)(b.cC,{id:"MnUrtL"}),description:(0,n.jsx)(b.cC,{id:"Zcn2iz"}),knobs:()=>({shapeFill:"solid",shapeBorder:"sm",cardBorder:"sm",cardShadow:"none",roundness:"sm",buttonRoundness:"sm"})},{id:"comic",title:(0,n.jsx)(b.cC,{id:"83V/SJ"}),description:(0,n.jsx)(b.cC,{id:"tW4rXv"}),knobs:e=>{let t=(0,e$.t2)((0,e$.y)(e));return{roundness:"sm",buttonRoundness:"sm",cardBorder:"md",cardShadow:"hard",shapeFill:"solid",shapeBorder:"md",shapeShadow:"none",cardBorderColor:t}}},{id:"glass",title:(0,n.jsx)(b.cC,{id:"f0936e"}),description:(0,n.jsx)(b.cC,{id:"yeVgz2"}),knobs:()=>({cardTransparency:"frosted",cardBorder:"none",cardShadow:"default",roundness:"sm",shapeFill:"solid",shapeShadow:"none",shapeBorder:"sm"})},{id:"rounded",title:(0,n.jsx)(b.cC,{id:"ieQgZ8"}),description:(0,n.jsx)(b.cC,{id:"ulXymN"}),knobs:()=>({roundness:"xl",buttonRoundness:"xl",shapeFill:"none",shapeBorder:"lg",cardBorder:"lg",cardShadow:"none"})},{id:"soft",title:(0,n.jsx)(b.cC,{id:"DT6auk"}),description:(0,n.jsx)(b.cC,{id:"UtUWAG"}),knobs:()=>({cardTransparency:"frosted",cardShadow:"default",roundness:"lg",cardBorder:"none",shapeShadow:"soft",shapeBorder:"none",shapeFill:"none",buttonRoundness:"xl"})},{id:"capsule",title:(0,n.jsx)(b.cC,{id:"Q4Of8O"}),description:(0,n.jsx)(b.cC,{id:"vc8Frf"}),knobs:e=>{let t=(0,e$.t2)((0,e$.y)(e));return{roundness:"xl",buttonRoundness:"xl",cardBorder:"md",cardShadow:"hard",shapeFill:"solid",shapeBorder:"sm",shapeShadow:"hard",cardBorderColor:t}}}],iy=(0,d.memo)(()=>{let e=(0,x.CG)(v.H_),t=(0,x.TL)(),[i,r]=(0,d.useState)(null),s=(0,d.useCallback)(i=>{if(!e)throw Error("theme is undefined");r(i.id);let n=i.knobs(e);t((0,v.rF)({config:{...ii,...n}}))},[t,e]);if(!e)throw Error("Theme is undefined");let l=iC();return(0,n.jsx)(z.K,{spacing:nb,children:(0,n.jsx)(tQ,{defaultTab:(0,n.jsx)(z.K,{children:(0,n.jsx)(tF.r,{templateColumns:nC,gap:ny,children:l.map(t=>(0,n.jsx)(ir,{theme:e,pack:t,isSelected:i===t.id,onClick:()=>s(t)},t.id))})}),customTab:(0,n.jsx)(ip,{})})})});iy.displayName="DesignStep";var iw=i(67109);let iv=e=>{let{isSelected:t=!1,onClick:i,heading:r,headingWeight:s,body:l,bodyWeight:o,theme:a}=e,d=(0,e$.H_)((0,e$.yU)(a)),c=(0,e$.Es)((0,e$.mi)(a)),h=(0,e$.Es)((0,e$.vS)(a));return(0,n.jsx)(f.z,{variant:"ghost",onClick:i,minH:"auto",h:"auto",minW:"auto",w:"100%",p:2,flex:1,color:"gray.900",textAlign:"left",whiteSpace:"normal",bg:t?"trueblue.50":"white",borderColor:t?"trueblue.400":"transparent",borderWidth:"2px",alignItems:"flex-start",children:(0,n.jsxs)(z.K,{flex:1,bg:d,borderRadius:"md",spacing:1,p:3,py:4,shadow:"sm",borderWidth:"1px",children:[(0,n.jsx)(p.x,{fontSize:"xl",fontWeight:s,fontFamily:r.id,css:c,noOfLines:1,children:r.name}),(0,n.jsx)(p.x,{fontWeight:o,fontFamily:l.id,css:h,fontSize:"md",children:l.name})]})})};var ik=i(49259),iS=i(87436),iI=i(95897),iF=i(89511),iT=i(11121),iz=i(74105),iA=i(20816),iE=i(63176),iN=i(32899),i_=i(55233),iG=i(27875),iD=i.n(iG),iR=i(12304),iH=i(93441);let iO=(0,d.memo)(()=>{let e=(0,x.TL)(),t=(0,x.CG)(v.H_),{fontsMap:i,globalFonts:r,workspaceFonts:s}=(0,y.TY)(),l={globalFonts:r,workspaceFonts:s};if(!t)throw Error("Theme is undefined");let o=(0,d.useCallback)(n=>{let r=i[n],s=(0,eR.W9)(r),l=(0,eE.QP)(s,t.headingFontWeight||q.ZT.heading)||q.ZT.heading;e((0,v.oT)({font:n,weight:l,fontsMap:i}))},[e,i,t.headingFontWeight]),a=(0,d.useCallback)(n=>{let r=i[n],s=(0,eR.W9)(r),l=(0,eE.QP)(s,t.bodyFontWeight||q.ZT.body)||q.ZT.body;e((0,v.It)({font:n,weight:l,fontsMap:i}))},[e,i,t.bodyFontWeight]),c=(0,d.useCallback)(t=>e((0,v.T0)({weight:t})),[e]),h=(0,d.useCallback)(t=>e((0,v.Gc)({weight:t})),[e]),u=(0,d.useCallback)(()=>{let e=(0,S.p6)();window.open(e,"_blank")},[]),m=i[t.headingFont||q.ke.headingFont]||i[q.ke.headingFont],g=i[t.bodyFont||q.ke.bodyFont]||i[q.ke.bodyFont],j=t.headingFontWeight||q.ZT.heading,f=t.bodyFontWeight||q.ZT.body;return(0,n.jsxs)(z.K,{children:[(0,n.jsxs)(eC.NI,{children:[(0,n.jsx)(ey.l,{children:(0,n.jsx)(p.x,{children:(0,n.jsx)(b.cC,{id:"PKjGhT"})})}),(0,n.jsxs)(eP.g,{spacing:2,align:"stretch",children:[(0,n.jsx)(eU,{fonts:l,value:t.headingFont,updateValue:o,onFontUploadClick:u,weight:"bold",defaultFont:q.ke.headingFont,"data-testid":"custom-theme-heading-font-picker",my:0}),(0,n.jsx)(eW,{font:m,value:j,defaultWeight:700,updateValue:c,my:0}),(0,n.jsx)(t8,{}),(0,n.jsx)(iU,{children:(0,n.jsx)(iB,{variant:"heading"})})]})]}),(0,n.jsxs)(eC.NI,{children:[(0,n.jsx)(ey.l,{children:(0,n.jsx)(p.x,{children:(0,n.jsx)(b.cC,{id:"bGQplw"})})}),(0,n.jsxs)(eP.g,{spacing:2,align:"stretch",children:[(0,n.jsx)(eU,{fonts:l,value:t.bodyFont,updateValue:a,onFontUploadClick:u,weight:"normal",defaultFont:q.ke.bodyFont,"data-testid":"custom-theme-body-font-picker",my:0}),(0,n.jsx)(eW,{font:g,value:f,defaultWeight:400,updateValue:h,my:0}),(0,n.jsx)(t6,{}),(0,n.jsx)(iU,{children:(0,n.jsx)(iB,{variant:"body"})})]})]}),(0,n.jsx)(eb.b,{mt:"4",colorScheme:"gray",children:(0,n.jsx)(p.x,{fontSize:"sm",children:(0,n.jsx)(b.cC,{id:"gXllrZ"})})})]})});iO.displayName="TypographySettings";let iL=[{name:()=>eK.ag._({id:"EdQY6l"}),icon:N.nUG,key:"none"},{name:()=>eK.ag._({id:"fVR7qN"}),icon:N.qSb,key:"uppercase"}],iU=e=>{let{children:t}=e;return(0,n.jsx)(ik.U,{allowMultiple:!0,mt:0,mb:6,children:(0,n.jsxs)(iS.Q,{border:"none",bg:"gray.50",borderRadius:"md",children:[(0,n.jsxs)(iI.K,{fontWeight:"500",pl:3,borderRadius:"md",children:[(0,n.jsx)(A.xu,{as:"span",flex:"1",textAlign:"left",children:(0,n.jsx)(b.cC,{id:"sxkWRg"})}),(0,n.jsx)(iF.X,{})]}),(0,n.jsx)(iT.H,{px:4,pb:2,children:t})]})})},iB=e=>{let{variant:t}=e,i=(0,x.CG)(v.H_),r=(0,x.TL)();if(!i)throw Error("Theme is undefined");let{letterSpacingHeading:s,letterSpacingBody:l,lineHeightHeading:o,lineHeightBody:c,fontSize:h,headingFontSize:u,headingTransform:m="none"}=i.config,p="heading"===t?s:l,g="heading"===t?o:c,f="heading"===t?iR._l:iR.I0,C="heading"===t?u:h,y=(0,d.useCallback)(e=>{"heading"===t?r((0,v.tA)({letterSpacing:e})):r((0,v.d5)({letterSpacing:e}))},[r,t]),w=(0,d.useCallback)(e=>{"heading"===t?r((0,v.K7)({lineHeight:e})):r((0,v.bC)({lineHeight:e}))},[r,t]),k=(0,d.useCallback)(e=>{"heading"===t?r((0,v.lD)({fontSize:e})):r((0,v.hN)({fontSize:e}))},[r,t]),S=(0,d.useCallback)(e=>{r((0,v.KF)({transform:e}))},[r]);return(0,n.jsxs)(z.K,{py:2,minH:"100px",spacing:4,children:[(0,n.jsxs)(D.U,{children:[(0,n.jsxs)(A.xu,{children:[(0,n.jsxs)(ey.l,{children:[(0,n.jsx)(b.cC,{id:"Wqh8xb"}),(0,n.jsx)(a.Yq,{label:(0,n.jsx)(b.cC,{id:"d4Sact"}),ml:1.5})]}),(0,n.jsxs)(iz.B,{children:[(0,n.jsx)(iA.Z,{pointerEvents:"none",color:"gray.600",children:(0,n.jsx)(_.G,{icon:N.xHc})}),(0,n.jsx)(iE.Y2,{min:1,max:2,step:.05,defaultValue:null!=g?g:"",onChange:(e,t)=>{""===e||isNaN(t)?w(void 0):w(iD()(t,1,2))},children:(0,n.jsx)(iE.zu,{bg:"white",pl:"var(--input-height)",pr:"var(--input-padding)",placeholder:f.toString(),textAlign:"right"})})]})]}),(0,n.jsxs)(A.xu,{children:[(0,n.jsxs)(ey.l,{children:[(0,n.jsx)(b.cC,{id:"vhRvfF"}),(0,n.jsx)(a.Yq,{label:(0,n.jsx)(b.cC,{id:"ov2xUH"}),ml:1.5})]}),(0,n.jsxs)(iz.B,{children:[(0,n.jsx)(iA.Z,{pointerEvents:"none",color:"gray.600",children:(0,n.jsx)(_.G,{icon:N.Ho0})}),(0,n.jsx)(iE.Y2,{min:-10,max:10,step:1,defaultValue:p?100*p:"",onChange:(e,t)=>{""===e||isNaN(t)?y(void 0):y(iD()(t/100,-.1,.1))},children:(0,n.jsx)(iE.zu,{bg:"white",pl:"var(--input-height)",placeholder:"0",textAlign:"right"})}),(0,n.jsx)(iA.x,{pointerEvents:"none",color:"gray.600",children:"%"})]})]})]}),"body"!==t&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(A.xu,{children:[(0,n.jsx)(ey.l,{children:(0,n.jsx)(b.cC,{id:"A/6zEn"})}),(0,n.jsx)(j.h,{isAttached:!0,children:iL.map(e=>(0,n.jsx)(a.kH,{label:e.name(),children:(0,n.jsx)(iN.h,{"aria-label":e.name(),icon:(0,n.jsx)(_.G,{icon:e.icon,fixedWidth:!0}),variant:m===e.key?"plainSelected":"plain",boxShadow:"none",onClick:()=>S(e.key)})},e.key))})]})}),(0,n.jsx)(iM,{value:C,setValue:k})]})},iM=e=>{let{value:t,setValue:i}=e,[r,s]=(0,d.useState)(!1),[l,o]=(0,d.useState)(t||1),c=(0,iH.Kt)(i,300);return(0,n.jsxs)(A.xu,{pb:"2",children:[(0,n.jsxs)(ey.l,{mb:"3",children:[(0,n.jsx)(b.cC,{id:"jIL7bk"})," ",(0,n.jsx)(a.Yq,{label:(0,n.jsx)(b.cC,{id:"/qH3CQ"})})]}),(0,n.jsxs)(i_.iR,{defaultValue:t,min:.75,max:1.25,step:.05,colorScheme:"trueblue",onChange:e=>{o(e),c(e)},onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[(0,n.jsx)(i_.Uj,{children:(0,n.jsx)(i_.Ms,{})}),(0,n.jsx)(i_.jz,{value:1,h:"20px",w:"2px",bg:"gray.300",transform:"translateY(-50%) translateX(-50%)"}),(0,n.jsx)(a.kH,{placement:"top",isOpen:r,label:"".concat(l.toFixed(2),"x"),shortcut:1===l?eK.ag._({id:"ovBPCi"}):void 0,children:(0,n.jsx)(i_.gs,{})})]})]})},iW=[{heading:{font:"Inter",weight:700,keywords:["sans-serif","bold"]},body:{font:"Inter",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"DM Sans",weight:600,keywords:["semi-bold","sans-serif"]},body:{font:"DM Sans",weight:400,keywords:["normal","sans-serif"]}},{heading:{font:"Overpass",weight:700,keywords:["sans-serif","bold"]},body:{font:"Overpass",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Barlow",weight:600,keywords:["narrow","semi-bold","sans-serif"]},body:{font:"Barlow",weight:400,keywords:["sans-serif","normal","narrow"]}},{heading:{font:"Nunito",weight:600,keywords:["semi-bold","fun","sans-serif","rounded"]},body:{font:"PT Sans",weight:400,keywords:["normal","sans-serif"]}},{heading:{font:"Lora",weight:400,keywords:["normal","serif"]},body:{font:"Source Sans Pro",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Instrument Sans",weight:600,keywords:["semi-bold","sans-serif"]},body:{font:"Instrument Sans",weight:400,keywords:["normal","sans-serif"]}},{heading:{font:"Roboto Slab",weight:400,keywords:["serif","slab-serif","normal"]},body:{font:"Roboto",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Barlow",weight:700,keywords:["narrow","bold","sans-serif"]},body:{font:"Montserrat",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Libre Baskerville",weight:400,keywords:["serif","normal"]},body:{font:"DM Sans",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Montserrat",weight:400,keywords:["normal","sans-serif"]},body:{font:"Heebo",weight:300,keywords:["light","sans-serif"]}},{heading:{font:"Prompt",weight:500,keywords:["sans-serif","bold"]},body:{font:"Mukta",weight:300,keywords:["sans-serif","light"]}},{heading:{font:"Inconsolata",weight:700,keywords:["monospace","serif","bold"]},body:{font:"Fira Sans",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Fraunces",weight:500,keywords:["serif","fun","bold"]},body:{font:"Epilogue",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Gelasio",weight:400,keywords:["serif","normal"]},body:{font:"Lato",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Raleway",weight:400,keywords:["sans-serif","thin","normal"]},body:{font:"Roboto",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Kanit",weight:300,keywords:["sans-serif","thin","normal"]},body:{font:"Martel Sans",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Corben",weight:400,keywords:["normal","serif","wide","fun"]},body:{font:"Nobile",weight:400,keywords:["sans-serif","normal","narrow"]}},{heading:{font:"Crimson Pro",weight:700,keywords:["serif","bold"]},body:{font:"Open Sans",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Poppins",weight:300,keywords:["sans-serif","thin","normal"]},body:{font:"Roboto",weight:300,keywords:["thin","sans-serif","normal"]}},{heading:{font:"Red Hat Text",weight:400,keywords:["normal","sans-serif"]},body:{font:"Roboto",weight:300,keywords:["thin","sans-serif"]}},{heading:{font:"Gelasio",weight:400,keywords:["serif","normal"]},body:{font:"Gelasio",weight:400,keywords:["normal","serif"]}},{heading:{font:"Bitter",weight:500,keywords:["slab-serif","serif","normal"]},body:{font:"Open Sans",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Syne",weight:700,keywords:["wide","sans-serif","fun","bold"]},body:{font:"Arimo",weight:400,keywords:["normal","sans-serif"]}},{heading:{font:"Roboto",weight:500,keywords:["sans-serif","narrow","semi-bold"]},body:{font:"Roboto",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Playfair Display",weight:700,keywords:["serif","bold"]},body:{font:"Open Sans",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Quattrocento",weight:400,keywords:["thin","serif","normal"]},body:{font:"Quattrocento",weight:400,keywords:["serif","normal"]}},{heading:{font:"Montserrat",weight:700,keywords:["wide","bold","sans-serif"]},body:{font:"Source Sans Pro",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Kanit",weight:400,keywords:["sans-serif","semi-bold","normal"]},body:{font:"Martel Sans",weight:300,keywords:["sans-serif","normal"]}},{heading:{font:"Lato",weight:700,keywords:["sans-serif","semi-bold","normal"]},body:{font:"Lato",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Fira Mono",weight:500,keywords:["narrow","monospace","semi-bold","normal"]},body:{font:"Fira Sans",weight:400,keywords:["sans-serif","narrow","normal"]}},{heading:{font:"Alexandria",weight:400,keywords:["wide","sans-serif","normal"]},body:{font:"Nobile",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Dela Gothic One",weight:400,keywords:["wide","bold","extrabold","sans-serif","fun"]},body:{font:"DM Sans",weight:400,keywords:["sans-serif","wide","normal"]}},{heading:{font:"Unbounded",weight:400,keywords:["normal","wide","sans-serif","fun"]},body:{font:"Cabin",weight:400,keywords:["wide","sans-serif"]}},{heading:{font:"Tomorrow",weight:600,keywords:["fun","bold","sans-serif"]},body:{font:"Tomorrow",weight:400,keywords:["fun","normal","sans-serif"]}},{heading:{font:"Roboto Mono",weight:500,keywords:["monospace","sans-serif","semi-bold"]},body:{font:"Roboto",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Syne",weight:700,keywords:["fun","semi-bold","bold","wide","fun"]},body:{font:"Overpass",weight:300,keywords:["normal","thin","sans-serif"]}},{heading:{font:"Syne",weight:800,keywords:["fun","wide","extrabold","bold","sans-serif"]},body:{font:"Syne",weight:400,keywords:["sans-serif","normal","wide"]}},{heading:{font:"Spline Sans",weight:700,keywords:["narrow","sans-serif","semi-bold"]},body:{font:"Barlow",weight:400,keywords:["narrow","sans-serif","normal"]}},{heading:{font:"Anton",weight:400,keywords:["narrow","sans-serif","bold","fun"]},body:{font:"Fira Sans",weight:400,keywords:["narrow","sans-serif","normal"]}},{heading:{font:"Unbounded",weight:700,keywords:["fun","bold","extrabold","wide","sans-serif"]},body:{font:"Open Sans",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Sora",weight:500,keywords:["serif","semi-bold"]},body:{font:"Noto Sans TC",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Libre Baskerville",weight:400,keywords:["serif","thin","normal"]},body:{font:"Open Sans",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"MuseoModerno",weight:500,keywords:["fun","sans-serif","semi-bold","bold"]},body:{font:"Source Sans Pro",weight:400,keywords:["normal","sans-serif"]}},{heading:{font:"Merriweather",weight:700,keywords:["bold","serif"]},body:{font:"Open Sans",weight:400,keywords:["sans-serif","normal"]}},{heading:{font:"Alexandria",weight:600,keywords:["bold","wide","sans-serif"]},body:{font:"Sora",weight:300,keywords:["sans-serif","normal"]}},{heading:{font:"Patrick Hand",weight:400,keywords:["fun","handwriting","normal"]},body:{font:"Patrick Hand",weight:400,keywords:["fun","handwriting","normal"]}},{heading:{font:"Prata",weight:400,keywords:["serif","normal"]},body:{font:"Raleway",weight:400,keywords:["sans-serif","normal","fun"]}}],iP=()=>[{key:"all",label:(0,n.jsx)(b.cC,{id:"N40H+G"})},{key:"sans-serif",label:(0,n.jsx)(b.cC,{id:"cW+T4V"})},{key:"serif",label:(0,n.jsx)(b.cC,{id:"e5bnvv"})},{key:"monospace",label:(0,n.jsx)(b.cC,{id:"qJC2VT"})},{key:"fun",label:(0,n.jsx)(b.cC,{id:"rmN315"})},{key:"bold",label:(0,n.jsx)(b.cC,{id:"KmydK6"})},{key:"thin",label:(0,n.jsx)(b.cC,{id:"RGjFMI"})},{key:"wide",label:(0,n.jsx)(b.cC,{id:"I5S9ZE"})}],iK=(0,d.memo)(()=>{let{globalFonts:e}=(0,y.TY)();return e.length?(0,n.jsx)(tQ,{defaultTab:(0,n.jsx)(iY,{}),customTab:(0,n.jsx)(iO,{})}):(0,n.jsx)(iV,{})});iK.displayName="FontsStep";let iV=(0,d.memo)(()=>(0,n.jsxs)(z.K,{spacing:4,children:[(0,n.jsxs)(D.U,{children:[(0,n.jsx)(iw.O,{height:7,flex:1}),(0,n.jsx)(iw.O,{height:7,flex:1})]}),(0,n.jsxs)(D.U,{children:[(0,n.jsx)(iw.O,{height:6,w:12}),(0,n.jsx)(iw.O,{height:6,w:12}),(0,n.jsx)(iw.O,{height:6,w:12})]}),(0,n.jsx)(tF.r,{mt:2,templateColumns:nC,gap:ny,children:Array.from({length:4}).map((e,t)=>(0,n.jsx)(F.k,{px:2,children:(0,n.jsx)(iw.O,{mt:3,flex:1,height:20})},t))})]}));iV.displayName="FontsConfigSkeleton";let iY=(0,d.memo)(()=>{let{themeFontsMap:e,fontsMap:t}=(0,y.TY)(),i=(0,x.TL)(),r=(0,x.CG)(v.H_),[s,l]=(0,d.useState)("all"),o=(0,d.useMemo)(()=>iW.filter(e=>"all"===s||null===s||e.heading.keywords.includes(s)),[s]),a=(0,d.useMemo)(()=>o.flatMap(t=>[e[t.heading.font],e[t.body.font]]).filter(Boolean),[o,e]),c=(0,d.useCallback)(e=>{i((0,v.iq)({fontPair:e,fontsMap:t}))},[i,t]),h=(0,d.useMemo)(()=>iP(),[]);if(!r)throw Error("Theme is undefined");return(0,n.jsxs)(z.K,{spacing:nb,children:[(0,n.jsx)(tS.E,{children:h.map(e=>{let{key:t,label:i}=e;return(0,n.jsx)(tI.Vp,{onClick:()=>{l(t)},colorScheme:s===t?"trueblue":"gray",cursor:"pointer",children:(0,n.jsx)(p.x,{children:i})},t)})}),(0,n.jsx)(tF.r,{templateColumns:nC,gap:ny,children:o.map((t,i)=>{let s=r.headingFont===t.heading.font&&r.headingFontWeight===t.heading.weight&&r.bodyFont===t.body.font&&r.bodyFontWeight===t.body.weight,l=e[t.heading.font],o=e[t.body.font];return l&&o?(0,n.jsx)(iv,{isSelected:s,onClick:()=>c(t),heading:l,headingWeight:t.heading.weight,body:o,bodyWeight:t.body.weight,theme:r},i):null})}),(0,n.jsx)(eH.J,{fonts:a})]})});iY.displayName="FontsBuilderPicker";let iq=(0,d.memo)(()=>{let e=(0,x.TL)(),t=(0,x.CG)(v.X$);return(0,n.jsxs)(eC.NI,{children:[(0,n.jsx)(ey.l,{children:(0,n.jsx)(b.cC,{id:"qy77B2"})}),(0,n.jsx)(A.xu,{maxW:"min(100%, 300px)",children:(0,n.jsx)(eQ,{value:t,onLogoUploadStart:()=>{e((0,v.Vp)())},updateValue:t=>{if(!t){e((0,v.Ls)());return}e((0,v.GS)({logoImage:(0,e0.gM)({result:t,isError:!1})}))},onLogoUploadFail:()=>{e((0,v.r)())}})})]})});iq.displayName="LogoSettings";let iX=(0,d.memo)(()=>(0,n.jsx)(z.K,{spacing:nb,alignItems:"center",children:(0,n.jsx)(A.xu,{mx:"auto",maxW:"300px",children:(0,n.jsx)(iq,{})})}));iX.displayName="LogoStep";let iZ=({root:e,particles:t,decay:i,lifetime:n,updateParticle:r,onFinish:s})=>{let l=0,o=()=>{t.forEach(e=>r(e,l/n,i)),(l+=1)<n?window.requestAnimationFrame(o):(t.forEach(t=>{if(t.element.parentNode===e)return e.removeChild(t.element)}),s())};window.requestAnimationFrame(o)},{PI:iQ}=Math,iJ=e=>e*(iQ/180),i$=(e,t)=>{let i=Math.ceil(e);return Math.floor(Math.random()*(Math.floor(t)-i))+i},i0=(e,t,i,n)=>{let r=iJ(e),s=iJ(t),{random:l}=Math;return{x:0,y:0,z:0,height:0,wobble:10*l(),velocity:.5*i+l()*i,angle2D:-r+(.5*s-l()*s),angle3D:-(iQ/4)+l()*(iQ/2),tiltAngle:l()*iQ,differentiator:n}},i1=e=>{let t=document.getElementById(e);return t||console.error(`Element with an ID of ${e} could not be found. Please provide a valid ID.`),t},i2=["#A45BF1","#25C6F6","#72F753","#F76C88","#F5F770"],i4=[-.6,-.3,0,.3,.6],i3=(e,t,i,n,r,s)=>Array.from({length:t}).map((t,l)=>{let o=document.createElement("span");return o.style["background-color"]=s[l%s.length],o.style.width=`${i}px`,o.style.height=`${i}px`,o.style.position=r,o.style.zIndex=`${n}`,e.appendChild(o),{element:o,differentiator:i$(0,i4.length)}}),i5=(e,t,i)=>{let{x:n,y:r,tiltAngle:s,wobble:l,angle2D:o,angle3D:a,velocity:d,differentiator:c}=e.physics;e.physics.x+=Math.cos(o)*d,e.physics.y+=Math.sin(o)*d,e.physics.z+=Math.sin(a)*d,e.physics.wobble+=.05,e.physics.velocity*=i,e.physics.y+=3.5,e.physics.tiltAngle+=.15;let h=n+(i4[c]*t*l*l+20*(c%2?Math.sin(l/4):Math.cos(l/4)));e.element.style.transform=`translate3d(${h}px, ${r+5*Math.sin(l)}px, 0) rotate3d(1, 1, 1, ${c%2?s:-1*s}rad)`,e.element.style.scale=`${1-.2*t}`,t>.5&&(e.element.style.opacity=`${2-2*t}`)},i7=(e,t,i)=>{let{elementCount:n=50,elementSize:r=8,colors:s=i2,angle:l=90,spread:o=45,decay:a=.94,lifetime:d=200,startVelocity:c=35,zIndex:h=0,position:x="fixed",onAnimationComplete:u}=i||{},m=i3(e,n,r,h,x,s).map(({element:e,differentiator:t})=>({element:e,physics:i0(l,o,c,t)}));iZ({root:e,particles:m,decay:a,lifetime:d,updateParticle:i5,onFinish:()=>{"function"==typeof u&&u(),t()}})},i6=["\uD83E\uDD13","\uD83D\uDE0A","\uD83E\uDD73"],i8=[-.6,-.3,0,.3,.6],i9=(e,t,i,n,r,s)=>Array.from({length:t}).map((t,l)=>{let o=document.createElement("span");return o.innerHTML=s[l%s.length],o.style.fontSize=`${i+i$(0,4)}px`,o.style.position=r,o.style.zIndex=`${n}`,e.appendChild(o),{element:o,differentiator:i$(0,i8.length)}}),ne=(e,t,i)=>{let{x:n,y:r,tiltAngle:s,angle2D:l,velocity:o,differentiator:a,wobble:d}=e.physics;e.physics.x+=Math.cos(l)*o,e.physics.y+=Math.sin(l)*o,e.physics.wobble+=0,e.physics.velocity*=i,e.physics.y+=5,e.physics.tiltAngle+=.05;let c=n+(i8[a]*t*d*d+20*Math.sin(d/4));e.element.style.transform=`translate3d(${c}px, ${r}px, 0) rotate3d(0, 0, 1, ${a%2?s:-1*s}rad)`,t>.5&&(e.element.style.opacity=`${2-2*t}`)},nt=(e,t,i)=>{let{elementCount:n=20,elementSize:r=25,emoji:s=i6,angle:l=90,spread:o=45,decay:a=.94,lifetime:d=200,startVelocity:c=35,zIndex:h=0,position:x="fixed",onAnimationComplete:u}=i||{},m=i9(e,n,r,h,x,s).map(({element:e,differentiator:t})=>({element:e,physics:i0(l,o,c,t)}));iZ({root:e,particles:m,decay:a,lifetime:d,updateParticle:ne,onFinish:()=>{"function"==typeof u&&u(),t()}})};var ni=`<svg width="100%" viewBox="0 0 976 3040" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M489.693 1269.49C489.773 1378.79 410.493 1466.8 389.107 1571.11C384.147 1595.33 382.893 1620.12 386.187 1644.64C389.44 1668.83 399.28 1691.16 409.04 1713.29C419.253 1736.44 429.28 1760.11 429.453 1785.83C429.64 1812.27 416.307 1836.8 408.933 1861.59C396 1905.15 409.613 1948.88 425.213 1989.73C442.04 2033.83 461.387 2077.87 456.6 2126.17C453.92 2153.15 444.147 2179.13 434.2 2204.13C424.173 2229.35 413.72 2254.28 405.507 2280.17C389.213 2331.51 379.493 2385.83 378.267 2439.72C377.693 2464.89 380.333 2490.25 388.667 2514.11C397.053 2538.09 412.6 2558.75 424.733 2580.84C449.907 2626.64 458.453 2681 451.053 2732.52C443.853 2782.56 414.227 2825.99 408.893 2876.35C404.44 2918.39 416.733 2961.63 440.08 2996.53C450.373 3011.91 463.267 3025.44 477.867 3036.75C480.773 3039 484.88 3034.95 481.947 3032.68C446.147 3004.96 423.24 2964.2 415.907 2919.71C412.107 2896.61 413.627 2872.95 419.427 2850.35C426.053 2824.51 438.067 2800.36 446.667 2775.17C462.44 2729 463.147 2678.51 450.92 2631.45C444.733 2607.64 434.453 2585.4 421.893 2564.32C407.933 2540.91 394.307 2518.68 388.32 2491.71C382.493 2465.45 383.413 2438 385.56 2411.37C387.853 2382.85 392.467 2354.56 398.827 2326.67C405 2299.61 413.253 2273.05 423.107 2247.12C432.533 2222.27 443.533 2198.05 451.867 2172.8C459.707 2149.04 464.387 2124.29 463 2099.23C461.773 2077.19 455.64 2055.65 448.467 2034.89C433.587 1991.8 411.307 1949.77 409.413 1903.37C408.36 1877.76 417.12 1854.67 425.587 1830.97C433.68 1808.33 437.44 1786.41 432.787 1762.6C428.307 1739.63 417.333 1718.23 408.12 1696.91C397.267 1671.77 390.413 1646.41 390.013 1618.89C388.387 1509.52 469.707 1420.85 490.813 1316.72C493.973 1301.19 495.467 1285.33 495.453 1269.49C495.453 1265.77 489.693 1265.77 489.693 1269.49" stroke="#7A7E82" stroke-width="4"/>
<path d="M555.653 1298.41H423.52C415.173 1298.41 408.413 1305.17 408.413 1313.52C408.413 1321.85 415.173 1328.63 423.52 1328.63H555.653C564 1328.63 570.76 1321.85 570.76 1313.52C570.76 1305.17 564 1298.41 555.653 1298.41Z" fill="currentColor"/>
<path d="M555.653 1298.41H423.52C415.173 1298.41 408.413 1305.17 408.413 1313.52C408.413 1321.85 415.173 1328.63 423.52 1328.63H555.653C564 1328.63 570.76 1321.85 570.76 1313.52C570.76 1305.17 564 1298.41 555.653 1298.41Z" fill="black" fill-opacity="0.1"/>
<path d="M975.133 528.947C975.133 820.667 756.973 1255.43 487.853 1255.43C218.733 1255.43 0.559814 820.667 0.559814 528.947C0.559814 237.227 218.733 0.733359 487.853 0.733359C756.973 0.733359 975.133 237.227 975.133 528.947Z" fill="currentColor"/>
<path d="M549.04 1298.41C531.293 1285.91 519.893 1269.95 512.587 1254.2C504.387 1255.01 496.147 1255.43 487.853 1255.43C481.04 1255.43 474.28 1255.15 467.546 1254.6C460.226 1270.21 448.867 1286.01 431.253 1298.41H549.04Z" fill="currentColor"/>
<path d="M211.413 569.213C193.787 569.213 175.947 564.4 160.92 555.24C128.133 535.293 108.133 498.56 101.147 460.827C97.0133 438.533 96.9468 415.827 99.1068 393.214C120.627 308.28 168.453 234.48 233.467 183.733C246.947 173.213 261.16 163.693 276.027 155.267C280.347 152.813 284.72 150.467 289.147 148.2C291.707 147.373 294.347 146.92 297.12 146.92C301.347 146.92 305.907 147.974 311.067 150.414C332.773 160.64 334.36 192.213 323.693 213.72C313.04 235.226 294.187 251.8 283.413 273.253C262 315.88 276.48 366.707 287.347 413.147C298.213 459.6 302.427 515.373 267.8 548.187C252.707 562.48 232.227 569.213 211.413 569.213" fill="white" fill-opacity="0.2"/>
<path d="M785.133 110.4C863.72 204.187 911.613 328.747 911.613 465.414C911.613 757.147 693.44 1191.89 424.32 1191.89C350.973 1191.89 281.413 1159.6 219.013 1106.71C296.067 1196.16 388.48 1255.43 487.853 1255.43C756.973 1255.43 975.133 820.667 975.133 528.947C975.133 358.547 900.693 206.987 785.133 110.4Z" fill="black" fill-opacity="0.1"/>
</svg>`;let nn=["#A45BF1","#25C6F6","#72F753","#F76C88","#F5F770"],nr=[-.6,-.3,0,.3,.6],ns=(e,t,i)=>{t.parentNode===i&&i.removeChild(t)},nl=(e,t,i,n,r,s)=>Array.from({length:t}).map((t,l)=>{let o=document.createElement("span");return o.innerHTML=ni,o.style.width=`${i}px`,o.style.position=r,o.style.color=s[l%s.length],o.style.zIndex=`${n}`,o.addEventListener("click",t=>{ns(t,o,e)},{once:!0}),e.appendChild(o),{element:o,differentiator:i$(0,nr.length)}}),no=(e,t,i)=>{let{x:n,y:r,tiltAngle:s,angle2D:l,velocity:o,differentiator:a,wobble:d}=e.physics;e.physics.x+=.5*Math.cos(l)*o,e.physics.y+=.5*Math.sin(l)*o,e.physics.wobble+=0,e.physics.velocity*=i,e.physics.tiltAngle+=.1;let c=n+(nr[a]*t*d*d+20*Math.sin(d));e.element.style.transform=`translate3d(${c}px, ${r}px, 0) rotate3d(0, 0, 1, ${a%2?Math.sin(s/4)/3:Math.cos(s/4)/3}rad)`,e.element.style.scale=`${1-.2*t}`,t>.5&&(e.element.style.opacity=`${2-2*t}`)},na=(e,t,i)=>{let{angle:n=90,decay:r=.999,spread:s=50,startVelocity:l=3,elementCount:o=10,elementSize:a=20,lifetime:d=600,zIndex:c=0,position:h="fixed",colors:x=nn,onAnimationComplete:u}=i||{},m=nl(e,o,a,c,h,x).map(({element:e,differentiator:t})=>({element:e,physics:i0(n,s,l,t)}));iZ({root:e,particles:m,decay:r,lifetime:d,updateParticle:no,onFinish:()=>{"function"==typeof u&&u(),t()}})},nd=(e,t,i)=>{let[n,r]=(0,d.useState)(!1),s=()=>{r(!1)};return{reward:(0,d.useCallback)(()=>{let n=i1(e);if(n)switch(r(!0),t){case"confetti":i7(n,s,i);break;case"emoji":nt(n,s,i);break;case"balloons":na(n,s,i);break;default:console.error(`${t} is not a valid react-rewards type.`)}},[i,e,t]),isAnimating:n}};var nc=i(90763),nh=i(53596),nx=i(2574);let nu={position:"absolute",width:"104%",height:"104%",top:"-2%",left:"-2%",backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundColor:"transparent",backgroundSize:"cover",transition:"all 0.1s ease-out"};var nm=e=>{let{children:t}=e,i=(0,d.useRef)(null),r=(0,d.useRef)(null),s=(0,d.useRef)(null);return(0,d.useEffect)(()=>{let e=i.current,t=r.current,n=s.current;if(!e||!t||!n)return;let l=Array.from(n.children),o=l.length,a=i=>{let n=i.pageX,r=i.pageY,s=e.getBoundingClientRect(),a=e.clientWidth||e.offsetWidth||e.scrollWidth,d=e.clientHeight||e.offsetHeight||e.scrollHeight,c=.52-(n-s.left)/a,h=.52-(r-s.top)/d,x=r-s.top-d/2,u=n-s.left-a/2,m=(x-h)*.1,p="rotateX(".concat(m,"deg) rotateY(").concat((c-u)*.07,"deg)"),g=180*Math.atan2(x,u)/Math.PI-90;g<0&&(g+=360),e.className.includes("over")&&(p+=" scale3d(1.07,1.07,1.07)"),e.style.transform=p,t.style.background="linear-gradient(".concat(g,"deg, rgba(255,255,255,").concat((r-s.top)/d*.4,") 0%,rgba(255,255,255,0) 80%)"),t.style.transform="translateX(".concat(c*o-.1,"px) translateY(").concat(h*o-.1,"px)"),l.forEach((e,t)=>{let i=o-t,n=-(h*i*15);e.style.transform="translateX(".concat(-(c*i*15),"px) translateY(").concat(n,"px)")})},d=()=>{e.className+=" over"},c=()=>{e.className=e.className.replace(" over",""),e.style.transform="",t.style.cssText="",l.forEach(e=>e.style.transform="")};return e.addEventListener("mousemove",a),e.addEventListener("mouseenter",d),e.addEventListener("mouseleave",c),()=>{e.removeEventListener("mousemove",a),e.removeEventListener("mouseenter",d),e.removeEventListener("mouseleave",c)}}),(0,n.jsx)(nx.Z,{children:e=>{let{width:l,height:o}=e;return(0,n.jsxs)(F.k,{ref:i,style:{perspective:"1600px",height:o,width:l,margin:"0 auto"},borderRadius:"md",transitionProperty:"all",transitionDuration:"normal",transitionTimingFunction:"ease-out",sx:{"&:hover .threeDImage-shadow":{shadow:"0 45px 100px rgba(14, 21, 47, 0.4), 0 16px 40px rgba(14, 21, 47, 0.4)"}},children:[(0,n.jsx)(F.k,{ref:s,bg:"white",sx:{position:"relative",width:"100%",height:"100%",borderRadius:"5px",overflow:"hidden",transformStyle:"preserve-3d"},children:Array.isArray(t)?t.map((e,t)=>(0,n.jsx)(A.xu,{sx:nu,"data-layer":t,pointerEvents:"none",children:e},t)):(0,n.jsx)(A.xu,{sx:nu,"data-layer":0,pointerEvents:"none",children:t})}),(0,n.jsx)(A.xu,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:"5px",background:"linear-gradient(135deg, rgba(255, 255, 255, 0.25) 0%, rgba(255, 255, 255, 0) 60%)",pointerEvents:"none"},ref:r}),(0,n.jsx)(A.xu,{sx:{position:"absolute",top:"5%",left:"5%",width:"90%",height:"90%",transition:"all 0.2s ease-out",boxShadow:"0 8px 30px rgba(14, 21, 47, 0.6)",zIndex:-1},className:"threeDImage-shadow"})]})}})},np=i(42);let ng=e=>{let{title:t,description:i,children:r}=e;return(0,n.jsxs)(z.K,{w:"100%",alignItems:"flex-start",children:[(0,n.jsxs)(z.K,{spacing:1,w:"100%",children:[(0,n.jsx)(p.x,{fontSize:"lg",fontWeight:"semibold",children:t}),(0,n.jsx)(p.x,{fontSize:"xs",color:"gray.700",children:i})]}),r]})},nj=(0,d.memo)(()=>{let{user:e}=(0,G.SE)(),t=(0,x.CG)(v.H_)||np.t,i=(0,e$.H_)((0,e$.cc)(t)),r=(0,x.CG)(v.Yj),s=(0,x.TL)(),l=(0,d.useRef)(null),o=(0,d.useCallback)(e=>{s((0,v.YI)({name:e.target.value}))},[s]);(0,d.useEffect)(()=>{l.current&&(l.current.focus(),l.current.select())},[]);let[a,c]=(0,d.useState)(!1),{reward:h}=nd("rewardId","confetti",{lifetime:200,angle:90,decay:.91,spread:90,startVelocity:45,elementCount:50,elementSize:10,colors:(0,e$.X)(t).map(e$.H_)});(0,d.useEffect)(()=>{let e=setTimeout(()=>{c(!0)},400),t=setTimeout(()=>{h()},550);return()=>{clearTimeout(t),clearTimeout(e)}},[]);let u="260px";return(0,n.jsxs)(z.K,{spacing:nb,alignItems:"center",children:[(0,n.jsxs)(F.k,{pos:"relative",flex:1,direction:"column",w:"100%",children:[(0,n.jsx)(F.k,{h:u,align:"center",justify:"center",pos:"absolute",zIndex:0,w:"100%",children:(0,n.jsx)(F.k,{w:2,h:2,id:"rewardId"})}),(0,n.jsx)(A.xu,{w:u,h:u,mx:"auto",bg:i,borderRadius:"md",borderWidth:"1px",opacity:a?1:0,transform:"scale(".concat(a?1:.9,")"),transitionProperty:"common",transitionDuration:"slow",transitionTimingFunction:"cubic-bezier(0.68,-0.55,0.27,1.55)",children:(0,n.jsx)(nm,{children:(0,n.jsxs)(A.xu,{bg:i,w:"100%",pos:"relative",p:12,pb:24,h:"100%",children:[(0,n.jsx)(nh.n,{theme:t,transform:"scale(1.2)",position:"relative",bottom:"7",left:"-3.5",w:"200px",boxShadow:"none"}),(0,n.jsxs)(z.K,{pos:"absolute",bottom:0,left:5,bg:"white",w:"108%",mx:"-8%",p:"8%",borderTopWidth:"1px",color:"gray.900",children:[(0,n.jsx)(p.x,{noOfLines:1,children:r||(0,n.jsx)(b.cC,{id:"rzKWuu"})}),(0,n.jsx)(nc.l,{createdByYou:!0,createdByName:null==e?void 0:e.displayName,createdByProfileImageUrl:null==e?void 0:e.profileImageUrl,timestampDescription:"Just now"})]})]})})})]}),(0,n.jsx)(A.xu,{maxW:"100%",mx:"0 auto",w:"500px",children:(0,n.jsx)(ng,{title:(0,n.jsx)(b.cC,{id:"HZ7fEu"}),children:(0,n.jsx)(ev.I,{mx:"auto",size:"lg",ref:l,value:r,onChange:o,placeholder:eK.ag._({id:"HZ7fEu"})})})})]})});nj.displayName="ThemeNameStep";let nf={colors:{name:(0,n.jsx)(b.cC,{id:"1HfW/F"}),description:(0,n.jsx)(b.cC,{id:"lsknHp"}),icon:N.q2v},fonts:{name:(0,n.jsx)(b.cC,{id:"I0oBSl"}),description:(0,n.jsx)(b.cC,{id:"0kBA53"}),icon:N.nUG},design:{name:(0,n.jsx)(b.cC,{id:"f8fH8W"}),description:(0,n.jsx)(b.cC,{id:"7dxcBr"}),icon:N.D0h},logo:{name:(0,n.jsx)(b.cC,{id:"iG7KNr"}),description:(0,n.jsx)(b.cC,{id:"pSG+r5"}),icon:N.VmB},themeName:{name:(0,n.jsx)(b.cC,{id:"HZ7fEu"}),description:(0,n.jsx)(b.cC,{id:"JMXrv3"}),icon:N.f8k}},nb=6,nC={base:"repeat(1, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(2, 1fr)",xl:"repeat(3, 1fr)"},ny=3,nw={colors:ie,fonts:iK,design:iy,logo:iX,themeName:nj},nv=e=>{let{onContinueClick:t}=e;return(0,n.jsxs)(z.K,{spacing:"6",children:[(0,n.jsx)(E.E,{src:"https://cdn.gamma.app/zc87vhr30n8uf3n/39bd9e9e4ae347a39de0f1d27da20a52/original/Frame-1-32.png"}),(0,n.jsx)(p.x,{fontSize:"lg",children:(0,n.jsx)(b.cC,{id:"oXq4Vi"})}),(0,n.jsx)(j.h,{justifyContent:"center",children:(0,n.jsx)(f.z,{minW:"250px",variant:"solid",onClick:t,rightIcon:(0,n.jsx)(_.G,{icon:N.eFW}),children:(0,n.jsx)(b.cC,{id:"EsKTam"})})})]})},nk=e=>{let{step:t,setStep:i}=e,r=(0,ei.p)();if("intro"===t)return(0,n.jsx)(nv,{onContinueClick:()=>{i("colors"),r({title:(0,n.jsx)(b.cC,{id:"okvzsv"}),position:"top",status:"success",duration:2e3,isClosable:!0})}});let s=nf[t],l=nw[t];return(0,n.jsxs)(z.K,{spacing:5,children:[(0,n.jsx)(p.x,{textAlign:"center",size:"md",color:"gray.700",children:s.description}),(0,n.jsx)(A.xu,{children:(0,n.jsx)(l,{})})]})};var nS=i(78071);let nI=e=>{let{step:t,setStep:i}=e,r=Object.keys(nf).indexOf(t);return(0,n.jsx)(td,{index:r,w:"260px",minW:"0",gap:"0",size:"md",children:Object.entries(nf).map((e,t)=>{let[r,{name:s,icon:l}]=e;return(0,n.jsx)(a.kH,{label:s,children:(0,n.jsxs)(tc,{gap:"0",children:[(0,n.jsx)(th,{as:f.z,variant:"ghost",shadow:"none",size:"sm",onClick:()=>i(r),cursor:"pointer",borderWidth:"0px",bg:"white",sx:{"[data-status=incomplete] &":{color:"gray.700"}},children:(0,n.jsx)(tx,{complete:(0,n.jsx)(_.G,{icon:l}),incomplete:(0,n.jsx)(_.G,{icon:l}),active:(0,n.jsx)(_.G,{icon:l})})}),(0,n.jsx)(tf,{mx:"0 !important"})]},t)},t)})})},nF=e=>{let{step:t,setStep:i,onFinishClick:r,errorMessage:s,isThemeSaving:l}=e,o=(0,d.useCallback)(()=>{let e=Object.keys(nf).indexOf(t)-1;i(Object.keys(nf)[e])},[t,i]),c=(0,d.useCallback)(()=>{let e=Object.keys(nf).indexOf(t)+1;i(Object.keys(nf)[e])},[t,i]),h="colors"===t,x="themeName"===t,u="colors"!==t,m={base:void 0,lg:"130px"};return(0,n.jsxs)(z.K,{direction:"row",justifyContent:h?"flex-end":"space-between",alignItems:"center",position:"relative",w:"100%",children:[(0,n.jsx)(nS.p,{in:u,children:(0,n.jsx)(iN.h,{variant:"outline","aria-label":eK.ag._({id:"CKyk7Q"}),icon:(0,n.jsx)(_.G,{icon:N.A35}),onClick:o,pointerEvents:u?"auto":"none"})}),(0,n.jsx)(T.L,{}),(0,n.jsx)(nI,{step:t,setStep:i}),(0,n.jsx)(T.L,{}),x?(0,n.jsx)(a.kH,{isDisabled:!s,label:s,shouldWrapChildren:!0,children:(0,n.jsx)(f.z,{onClick:r,variant:"solid",isLoading:l,isDisabled:!!s,rightIcon:(0,n.jsx)(_.G,{icon:N.LEp}),minW:m,children:(0,n.jsx)(b.cC,{id:"JmZ/+d"})})}):(0,n.jsx)(f.z,{onClick:c,variant:"solid",rightIcon:(0,n.jsx)(_.G,{icon:N._tD}),minW:m,children:(0,n.jsx)(b.cC,{id:"xGVfLh"})})]})},nT=e=>{let{onComplete:t,onExitClick:i}=e,[r,s]=(0,d.useState)("colors"),l=(0,x.CG)(v.Yj),o=(0,x.CG)(v.e2),{persistTheme:a,isThemeSaving:c}=es({onComplete:t,flow:"builder"}),h=(0,d.useMemo)(()=>l?o?(0,n.jsx)(b.cC,{id:"0y5u1g"}):void 0:(0,n.jsx)(b.cC,{id:"OL7UgX"}),[l,o]),u=(0,d.useCallback)(()=>{l&&a()},[l,a]),m=nf[r];return(0,n.jsxs)(et,{children:[(0,n.jsx)(O,{children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(B,{children:[(0,n.jsx)(L,{children:"intro"===r?(0,n.jsx)(b.cC,{id:"pxh+PI"}):(0,n.jsxs)(D.U,{justifyContent:"center",children:[(0,n.jsx)(_.G,{icon:m.icon}),(0,n.jsx)(n.Fragment,{children:m.name})]})}),"colors"===r&&(0,n.jsx)(U,{onClick:()=>{i&&i()},leftIcon:N.acZ,children:(0,n.jsx)(b.cC,{id:"ydzS9x"})})]}),(0,n.jsx)(W,{children:(0,n.jsx)(nk,{step:r,setStep:s})}),"intro"!==r&&(0,n.jsx)(M,{children:(0,n.jsx)(nF,{step:r,setStep:s,errorMessage:h,isThemeSaving:c,onFinishClick:u})})]})}),(0,n.jsx)(P,{children:(0,n.jsx)(tk,{})})]})};var nz=i(16983),nA=i(42111);let nE=e=>({build:{label:(0,n.jsx)(b.cC,{id:"abydST"}),description:(0,n.jsx)(b.cC,{id:"n1Ux1f"}),imageComponent:(0,n.jsx)(F.k,{h:"100%",bg:"purple.200",w:"100%",align:"center",justify:"center",color:"purple.600",transitionProperty:"filter",transitionDuration:"normal",_groupHover:{filter:"brightness(1.1)"},children:(0,n.jsx)(_.G,{icon:eO.AVo,size:"5x"})})},import:{label:(0,n.jsx)(b.cC,{id:"F6aY4g"}),description:(0,n.jsx)(b.cC,{id:"G++9tI"}),imageComponent:(0,n.jsx)(F.k,{h:"100%",bg:e?"teal.200":"gray.200",w:"100%",align:"center",justify:"center",color:e?"teal.600":"gray.600",transitionProperty:"filter",transitionDuration:"normal",_groupHover:{filter:"brightness(1.1)"},children:(0,n.jsx)(_.G,{icon:eO.Vmj,size:"5x"})}),isComingSoon:!e,isBeta:!0}}),nN=()=>{let e=(0,nA.ye)("themeImportAi"),t=nE(e);return(0,n.jsx)(A.xu,{pt:"5vh",minH:"100vh",bg:"linen.100",children:(0,n.jsx)(R.W,{maxW:"3xl",children:(0,n.jsxs)(z.K,{spacing:"8",children:[(0,n.jsx)(tJ.X,{as:"h1",fontWeight:"600",size:"2xl",textAlign:"center",fontFamily:"p22-mackinac-pro",letterSpacing:"tight",children:(0,n.jsx)(b.cC,{id:"FiwgR9"})}),(0,n.jsx)(z.K,{direction:"row",justify:"center",align:"center",alignItems:"stretch",spacing:"4",children:Object.entries(t).map(e=>{let[t,i]=e;return(0,n.jsx)(nz.X,{"data-testid":"splash-go-to-".concat(t),label:i.label,description:i.description,imageUrl:i.thumbnail,imageComponent:i.imageComponent,isComingSoon:i.isComingSoon,isBeta:i.isBeta,onClick:()=>{i.isComingSoon||w.T.emit("setThemeConfigurationView",{view:t})},ctaIcon:(0,n.jsx)(_.G,{icon:N.eFW}),ctaLabel:(0,n.jsx)(b.cC,{id:"xGVfLh"})},t)})}),(0,n.jsx)(p.x,{textAlign:"center",color:"gray.600",children:(0,n.jsx)(b.cC,{id:"ekvthG",components:{0:(0,n.jsx)(f.z,{"data-testid":"splash-go-to-editor",fontSize:"sm",fontWeight:"600",variant:"link",color:"black",textDecoration:"underline",onClick:()=>{w.T.emit("setThemeConfigurationView",{view:"editor"})}})}})})]})})})};var n_=i(29494),nG=i(18149),nD=i.n(nG),nR=i(37164),nH=i(49354),nO=i(20437),nL=i(91710),nU=i(97253);i(65331),i(41779);let nB=e=>{let{uploadedImages:t,setUploadedImages:i,setIsLoading:r}=e,s=(0,x.CG)(eq.KV),{currentWorkspace:l}=(0,G.SE)(),{orgId:o,templateId:c}=(0,y.Ds)(s||(null==l?void 0:l.id),"themeBackground"),h=(0,ei.p)(),[u,m]=(0,d.useState)(0),[g,j]=(0,d.useState)(!1),f=(0,d.useCallback)(e=>{let{file:t,tempUrl:n}=e;r(!0);let s=n;if(t.type&&(0,eZ.Ns)(t.type)){let e="HEIC_tempId_".concat((0,nR.x0)());s=e}i(e=>[...e,{tempUrl:s,name:t.name,src:null,showPlaceholder:!0,uploadStatus:eV.D.Uploading}])},[r,i]),C=(0,d.useCallback)(e=>{i(t=>{let i=t.map(t=>t.name===e.name?{...t,tempUrl:null,...(0,nU.gM)({result:e,isError:!1})}:t);return i}),m(e=>e+1)},[i]);(0,d.useEffect)(()=>{r(!t.every(e=>"optimized"===e.uploadResultStep))},[r,t]);let w=(0,d.useCallback)(()=>{h({title:"Error uploading images, please try again",status:"error",duration:3e3,isClosable:!0}),m(e=>e+1)},[h]),v=(0,d.useMemo)(()=>{if(!o)throw Error("Tried uploading an image with no orgId");return eh.ND.createUppyInstance(o,{onUploadStart:f,onUploadComplete:C,onUploadFailed:w},"themeBackground",50,"image",c)},[u,o,f,C,w,c]),k=()=>(0,n.jsxs)(A.xu,{pos:"relative",w:"100%",h:"100%",children:[(0,n.jsx)(F.k,{pos:"absolute",inset:0,justify:"center",align:"center",zIndex:1,pointerEvents:"none",mt:-14,color:"gray.600",children:(0,n.jsx)(_.G,{icon:il.PLj,size:"3x"})}),o&&(0,n.jsx)(nL.v0,{width:"100%",note:eK.ag._({id:"7TtsoC"}),uppy:v,locale:{strings:{browse:eK.ag._({id:"wZ9s+A"})}}})]});return t.length>0?(0,n.jsxs)(eP.g,{align:"flex-start",spacing:4,onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),j(!0)},children:[g&&(0,n.jsx)(k,{}),(0,n.jsx)(nO.M,{gap:2,columns:{base:2,"2xl":3},children:t.map(e=>{let{src:t,meta:r,name:s,tempUrl:l}=e||{},o=t?(0,eZ.aN)(t,{width:500}):void 0;return(0,n.jsxs)(z.K,{spacing:1,position:"relative",role:"group",children:[(0,n.jsx)(E.E,{src:o||l||"",alt:"",ignoreFallback:!0,borderRadius:"md"}),(0,n.jsx)(a.kH,{label:(0,n.jsx)(b.cC,{id:"ZTnXof"}),placement:"top",children:(0,n.jsx)(iN.h,{"aria-label":eK.ag._({id:"Rz0Yis"}),icon:(0,n.jsx)(_.G,{icon:N.XAH}),onClick:()=>{i(t=>{let i=t.filter(t=>t.name!==e.name);return i})},isRound:!0,position:"absolute",top:1,right:1,size:"sm",color:"red.600",opacity:0,_hover:{color:"red.600"},_groupHover:{opacity:1}})}),r&&r.width&&r.height&&(0,n.jsxs)(p.x,{fontSize:"xs",children:[r.width,"\xd7",r.height,"px"]}),s&&(0,n.jsx)(p.x,{fontSize:"xs",lineHeight:4,children:s})]},e.tempUrl)})})]}):(0,n.jsx)(k,{})};var nM=i(53701);let nW=e=>e.backgroundType===t_.E.IMAGE,nP={...nH.Gx,accentId:void 0},nK=e=>{let{theme:t,accentImages:i,updateAccentImages:r}=e,[s,l]=(0,d.useState)(!1),[o,a]=(0,d.useState)(null),[c,h]=(0,d.useState)(null),x=o&&!!o.accentId,u=(0,nA.ye)("bulkUploadAccentImages"),m=(0,d.useCallback)(()=>{h(nP),a(nP)},[]),p=(0,d.useCallback)(()=>{a(null),h(null)},[]),g=(0,d.useCallback)(e=>{let t=e||o;if(!t)return;let n={...t,source:q.cx,originalSource:t.source,accentId:(0,nR.x0)()},s=i||[];if(x){let e=s.findIndex(e=>e.accentId===o.accentId);if(-1===e){console.warn("[AccentImagePicker] Could not find accent image to edit");return}r({accentBackgrounds:[...s.slice(0,e),n,...s.slice(e+1)]})}else r({accentBackgrounds:[...s,n]});p()},[i,o,x,p,r]),C=(0,d.useCallback)(e=>{let t=(i||[]).filter(t=>t.accentId!==e.accentId);r({accentBackgrounds:t})},[i,r]),y=(0,d.useCallback)(e=>{let t={...e,source:e.originalSource};h(t),a({...e,source:e.originalSource})},[]),w=(0,d.useCallback)(e=>{if(e.source===eh.hq.key||e.source===eh.$5.key){g(e);return}if(e.source===eh.in.key){var t,i,n,r;(null===(t=e.image)||void 0===t?void 0:t.uploadStatus)===eV.D.Uploading?l(!0):(null===(i=e.image)||void 0===i?void 0:i.uploadStatus)===eV.D.Done&&(null===(n=e.image)||void 0===n?void 0:n.uploadResultStep)==="optimized"?l(!1):(null===(r=e.image)||void 0===r?void 0:r.uploadStatus)===eV.D.Error&&l(!1)}a(e)},[g]),v=(0,d.useMemo)(()=>!nD()(o,c),[o,c]),k=(0,t1.wj)(t),[S,I]=(0,d.useState)([]),[F,T]=(0,d.useState)(!1),A=(0,d.useCallback)(()=>{I([]),T(!1)},[]),E=(0,d.useCallback)(()=>{let e=S.map(e=>({type:t_.E.IMAGE,source:q.cx,originalSource:"image.custom",image:e,accentId:(0,nR.x0)()})),t=i||[];r({accentBackgrounds:[...e,...t]}),A()},[S,i,r,A]);return o?(0,n.jsxs)(z.K,{p:6,children:[(0,n.jsx)(t7,{setBackground:w,background:o,isValidSource:nW,defaultMessage:(0,n.jsxs)(eb.b,{children:[(0,n.jsx)(t0.z,{}),(0,n.jsx)(b.cC,{id:"VPwqDS"})]}),isDark:k}),(0,n.jsxs)(j.h,{pt:6,display:"flex",children:[(0,n.jsx)(f.z,{variant:"ghost",onClick:p,children:(0,n.jsx)(b.cC,{id:"dEgA5A"})}),(0,n.jsx)(f.z,{variant:"solid",onClick:()=>g(),isLoading:s,isDisabled:!v,flex:1,children:x?(0,n.jsx)(b.cC,{id:"tfDRzk"}):(0,n.jsx)(b.cC,{id:"B6vyEa"})})]})]}):(0,n.jsxs)(z.K,{spacing:6,children:[(0,n.jsxs)(z.K,{spacing:3,children:[(0,n.jsx)(f.z,{leftIcon:(0,n.jsx)(_.G,{icon:N.r8p}),alignSelf:"flex-start",onClick:m,children:(0,n.jsx)(b.cC,{id:"5phU36"})}),u&&(0,n.jsx)(nB,{uploadedImages:S,setUploadedImages:I,setIsLoading:T}),i&&0!=i.length&&(0,n.jsx)(nM.U,{accentImages:i,isDark:k,handleDelete:C,handleItemClick:y,editType:"themeBackground"})]}),S.length>0&&(0,n.jsxs)(j.h,{display:"flex",w:"100%",bottom:0,left:0,bg:"white",py:3,px:6,borderTop:"1px",borderColor:"gray.300",children:[(0,n.jsx)(f.z,{variant:"ghost",onClick:A,children:(0,n.jsx)(b.cC,{id:"dEgA5A"})}),(0,n.jsx)(f.z,{variant:"solid",onClick:E,isLoading:F,flex:1,children:(0,n.jsx)(b.cC,{id:"1rLekk",values:{0:S.length,1:eK.ag._({id:"BZPFHo",values:{0:S.length}})}})})]})]})},nV=(0,d.memo)(()=>{let e=(0,x.TL)(),t=(0,x.CG)(v.H_);if(!t)throw Error("Theme is undefined");return(0,n.jsxs)(tV.m,{variant:"soft-rounded",isFitted:!0,size:"sm",children:[(0,n.jsxs)(tY.t,{children:[(0,n.jsx)(tq.O,{children:(0,n.jsx)(b.cC,{id:"O+LXs1"})}),(0,n.jsx)(tq.O,{children:(0,n.jsx)(b.cC,{id:"COXEr5"})})]}),(0,n.jsxs)(tX.n,{children:[(0,n.jsx)(tZ.x,{px:"0",children:(0,n.jsxs)(z.K,{children:[(0,n.jsxs)(eC.NI,{children:[(0,n.jsx)(ey.l,{children:(0,n.jsx)(b.cC,{id:"Jvf2ff"})}),(0,n.jsx)(eC.Q6,{mb:"4",children:(0,n.jsx)(b.cC,{id:"nM7mjF"})}),(0,n.jsx)(n_.g,{defaultValue:t.config.stylePrompt,onChange:t=>{e((0,v.C)({stylePrompt:t.target.value}))}})]}),(0,n.jsxs)(z.K,{children:[(0,n.jsx)(p.x,{children:(0,n.jsx)(b.cC,{id:"voRH7M"})}),(0,n.jsx)(D.U,{alignItems:"flex-start",spacing:4,children:nY.map((e,t)=>(0,n.jsxs)(z.K,{flex:"1",children:[(0,n.jsx)(E.E,{src:e.url,borderRadius:"md"}),(0,n.jsxs)(p.x,{fontSize:"xs",fontFamily:"monospace",children:[(0,n.jsxs)(ta.m.span,{color:"gray.500",children:[e.prompt(),","]})," ",(0,n.jsx)(ta.m.span,{fontWeight:"600",children:e.stylePrompt()})]})]},t))})]})]})}),(0,n.jsxs)(tZ.x,{px:"0",children:[(0,n.jsx)(eC.NI,{children:(0,n.jsx)(eC.Q6,{mb:"4",children:(0,n.jsx)(b.cC,{id:"0imEek"})})}),(0,n.jsx)(nK,{accentImages:t.config.accentBackgrounds,updateAccentImages:t=>{let{accentBackgrounds:i}=t;return e((0,v.dh)({accentBackgrounds:i}))},theme:t})]})]})]})});nV.displayName="AccentImagesSettings";let nY=[{url:"/_next/static/media/golden-gate-bridge-photography.86a71fac.png",prompt:()=>eK.ag._({id:"0dIaoJ"}),stylePrompt:()=>eK.ag._({id:"A6PocU"})},{url:"/_next/static/media/golden-gate-bridge-illustration.c25343ad.png",prompt:()=>eK.ag._({id:"0dIaoJ"}),stylePrompt:()=>eK.ag._({id:"dannsm"})},{url:"/_next/static/media/golden-gate-bridge-claymation.0c82160a.png",prompt:()=>eK.ag._({id:"0dIaoJ"}),stylePrompt:()=>eK.ag._({id:"E72rOz"})}];var nq=i(99793),nX=i(12985);let nZ=async(e,t,n)=>{try{let n=(await Promise.all([i.e(5489),i.e(4751)]).then(i.bind(i,89089))).default,r=(await Promise.all([i.e(5489),i.e(9224)]).then(i.bind(i,30058))).default,s=n.parse(e),l=r.objectify(s);t(l)}catch(e){n(e.message)}},nQ=async(e,t,n)=>{try{let n=(await Promise.all([i.e(5489),i.e(4751)]).then(i.bind(i,89089))).default,r=(await Promise.all([i.e(5489),i.e(9224)]).then(i.bind(i,30058))).default;n().process(e,{parser:r}).then(e=>{let{css:i}=e;t(i)})}catch(e){n(e.message)}},nJ=e=>{let{label:t,initialValue:r,updateValue:s,helperText:l}=e,[o,a]=(0,d.useState)(""),[c,h]=(0,d.useState)(null),[x,u]=(0,d.useState)(),m=(0,iH.Kt)(nZ,100);return((0,d.useEffect)(()=>{Promise.all([i.e(8917),i.e(7120),i.e(6214)]).then(i.bind(i,65284)).then(e=>{u(e.css())})},[]),(0,iH.vm)(()=>{h(null),r&&nQ(r,a,h)},[r],[]),(0,iH.vm)(()=>{h(null),m(o,s,h)},[o,s,m],[o]),x)?(0,n.jsxs)(eC.NI,{isInvalid:!!c,children:[(0,n.jsx)(ey.l,{children:t}),c&&(0,n.jsx)(nq.J1,{children:c}),l&&(0,n.jsx)(eC.Q6,{children:l}),(0,n.jsx)(A.xu,{border:"1px solid",borderColor:"gray.200",fontSize:"md",children:(0,n.jsx)(d.Suspense,{fallback:(0,n.jsx)("span",{}),children:(0,n.jsx)(nX.B,{value:o,height:"300px",extensions:[x],onChange:a})})})]}):null},n$=(0,d.memo)(()=>{var e,t,i,r,s;let l=(0,x.TL)(),o=(0,x.CG)(v.H_);if(!o)throw Error("Theme is undefined");return(0,n.jsxs)(z.K,{spacing:4,children:[(0,n.jsxs)(eC.NI,{children:[(0,n.jsx)(ey.l,{children:(0,n.jsx)(b.cC,{id:"S0kLOH"})}),(0,n.jsx)(ev.I,{defaultValue:o.id,readOnly:!0})]}),(0,n.jsxs)(eC.NI,{children:[(0,n.jsx)(ey.l,{children:(0,n.jsx)(b.cC,{id:"PPYsiY"})}),(0,n.jsx)(n_.g,{defaultValue:null===(t=o.config.keywords)||void 0===t?void 0:null===(e=t.color)||void 0===e?void 0:e.join(", "),onChange:e=>{l((0,v.x7)({colorKeywords:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}))}}),(0,n.jsx)(eC.Q6,{children:(0,n.jsx)(b.cC,{id:"j3OJ2O"})})]}),(0,n.jsxs)(eC.NI,{children:[(0,n.jsx)(ey.l,{children:(0,n.jsx)(b.cC,{id:"valYIJ"})}),(0,n.jsx)(n_.g,{defaultValue:null===(r=o.config.keywords)||void 0===r?void 0:null===(i=r.tone)||void 0===i?void 0:i.join(", "),onChange:e=>{l((0,v.qJ)({toneKeywords:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}))}}),(0,n.jsx)(eC.Q6,{children:(0,n.jsx)(b.cC,{id:"j3OJ2O"})})]}),(0,n.jsxs)(eC.NI,{children:[(0,n.jsx)(ey.l,{children:(0,n.jsx)(b.cC,{id:"1hKEom"})}),(0,n.jsx)(iE.Y2,{defaultValue:o.priority,onChange:(e,t)=>{l((0,v.db)({priority:Number.isNaN(t)?void 0:t}))},children:(0,n.jsx)(iE.zu,{})}),(0,n.jsx)(eC.Q6,{children:(0,n.jsx)(b.cC,{id:"RyAyyY"})})]}),(0,n.jsx)(nJ,{label:(0,n.jsx)(b.cC,{id:"3loch2"}),initialValue:null===(s=o.config)||void 0===s?void 0:s.contentStyles,updateValue:e=>l((0,v.dt)({contentStyles:e}))})]})});n$.displayName="AdvancedConfig";let n0={colors:t9,fonts:iO,logo:iq,design:ip,images:nV,advanced:n$},n1=[{id:"colors",testId:"colors",label:()=>eK.ag._({id:"1HfW/F"}),icon:il.AVo},{id:"fonts",testId:"fonts",label:()=>eK.ag._({id:"I0oBSl"}),icon:il.nUG},{id:"logo",testId:"logo",label:()=>eK.ag._({id:"iG7KNr"}),icon:il.yoz,description:()=>eK.ag._({id:"lm6ARH"})},{id:"design",testId:"design",label:()=>eK.ag._({id:"f8fH8W"}),description:()=>eK.ag._({id:"7FMNYC"}),icon:il.D0h},{id:"images",testId:"images",label:()=>eK.ag._({id:"an5hVd"}),icon:il.l9f},{id:"advanced",testId:"advanced",label:()=>eK.ag._({id:"sxkWRg"}),description:()=>"Advanced settings that currently only ".concat(eN.N6," employees can see."),icon:il.gr5,isForGammaOnly:!0}],n2=(e,t)=>!!e.isForGammaOnly&&!t,n4={outline:"1px dashed var(--chakra-colors-sunglow-500)",outlineOffset:"0"},n3=()=>{let{isGammaOrgUser:e}=(0,G.SE)(),[t,i]=(0,d.useState)(0),r=(0,H.i)({base:!0,lg:!1,default:!1}),s=(0,d.useMemo)(()=>n1.filter(t=>!n2(t,e)),[e]),l=(0,d.useCallback)(e=>{i(e)},[]),o=n0[s[t].id];return(0,n.jsxs)(tV.m,{display:"flex",alignItems:"flex-start",flexDirection:r?"column":"row",variant:"soft-rounded",defaultIndex:0,w:"100%",flex:"1",isLazy:!0,index:t,onChange:l,children:[(0,n.jsx)(tY.t,{display:"flex",flexDirection:r?"row":"column",overflowX:"auto",position:"sticky",top:"0",p:"2",bg:"white",zIndex:"1",minW:r?"100%":"190px",alignItems:r?"flex-start":"stretch",gap:r?void 0:"1",w:r?"100%":void 0,children:s.map((e,t)=>(0,n.jsx)(tq.O,{"data-testid":"theme-config-tab-".concat(e.testId),justifyContent:"flex-start",whiteSpace:r?"nowrap":void 0,...e.isForGammaOnly&&n4,borderRadius:"md",_hover:{bg:"trueblue.50"},children:(0,n.jsxs)(D.U,{spacing:"2.5",fontSize:"sm",children:[(0,n.jsx)(A.xu,{color:"trueblue.400",children:(0,n.jsx)(_.G,{icon:e.icon,fixedWidth:!0})}),(0,n.jsx)(p.x,{textAlign:"left",noOfLines:{base:void 0,md:1},whiteSpace:"no-wrap",children:e.label()})]})},t))}),(0,n.jsx)(el.i,{orientation:r?"horizontal":"vertical"}),(0,n.jsx)(tX.n,{flex:1,minH:0,h:"100%",children:s.map((e,t)=>(0,n.jsxs)(tZ.x,{bg:"white",p:{base:3,md:5},pb:{base:5,md:12},overflowY:"auto",h:"100%",maxH:"100%",as:z.K,w:"100%",spacing:{base:"4",md:"6"},children:[(0,n.jsxs)(z.K,{spacing:"1",children:[(0,n.jsx)(tJ.X,{fontSize:"2xl",color:"gray.800",fontWeight:"500",children:e.label()}),e.description&&(0,n.jsx)(p.x,{fontSize:"sm",color:"gray.600",children:e.description()})]}),(0,n.jsx)(o,{})]},t))})]})};var n5=i(58905),n7=i(75230),n6=i(64951),n8=i(95083),n9=i(84010),re=i(20678);let rt=e=>{let{value:t,onSave:i}=e;return(0,n.jsxs)(eC.NI,{isInvalid:0===t.length,children:[(0,n.jsx)(n5.C,{defaultValue:t,placeholder:(0,k.F)(),onSubmit:i,submitOnBlur:!0,color:"gray.800",isPreviewFocusable:!0,fontSize:"2xl",fontWeight:"500",children:(0,n.jsxs)(D.U,{spacing:"2",minHeight:10,minW:"10",children:[(0,n.jsx)(n7.w,{px:"1",bg:"gray.50",w:"100%","data-testid":"custom-theme-name-preview",_hover:{bg:"gray.200"}}),(0,n.jsx)(n6.V,{px:"1","data-testid":"custom-theme-name-input"}),(0,n.jsx)(ri,{})]})}),(0,n.jsx)(nq.J1,{fontWeight:"500",pb:2,children:(0,n.jsx)(b.cC,{id:"iwj88Q"})})]})},ri=()=>{let{isEditing:e,getSubmitButtonProps:t,getCancelButtonProps:i,getEditButtonProps:r}=function(){let{isEditing:e,getEditButtonProps:t,getCancelButtonProps:i,getSubmitButtonProps:n}=(0,n8.V)();return{isEditing:e,getEditButtonProps:t,getCancelButtonProps:i,getSubmitButtonProps:n}}();return e?(0,n.jsxs)(j.h,{justifyContent:"center",size:"sm",spacing:0,children:[(0,n.jsx)(a.kH,{label:(0,n.jsx)(b.cC,{id:"dEgA5A"}),placement:"top",children:(0,n.jsx)(iN.h,{size:"md",colorScheme:"red",variant:"ghost","aria-label":eK.ag._({id:"dEgA5A"}),icon:(0,n.jsx)(_.G,{icon:eO.YIN}),...i()})}),(0,n.jsx)(a.kH,{label:(0,n.jsx)(b.cC,{id:"fNzdjk"}),placement:"top",children:(0,n.jsx)(iN.h,{size:"md",colorScheme:"green",variant:"ghost","aria-label":eK.ag._({id:"fNzdjk"}),icon:(0,n.jsx)(_.G,{icon:eO.LEp}),...t(),"data-testid":"save-theme-name-button"})})]}):(0,n.jsx)(F.k,{justifyContent:"center",children:(0,n.jsx)(a.kH,{label:(0,n.jsx)(b.cC,{id:"+MxT3Q"}),placement:"top",children:(0,n.jsx)(A.xu,{children:(0,n.jsx)(iN.h,{size:"md",variant:"ghost",colorScheme:"gray",color:"gray.400","aria-label":eK.ag._({id:"+MxT3Q"}),icon:(0,n.jsx)(_.G,{icon:eO.IwR}),...r(),ref:null})})})})},rn=()=>{var e;let t=(0,x.CG)(v.OE),[i,r]=(0,d.useState)(),s=(0,x.TL)(),l=(0,x.CG)(v.Yj),o=(0,x.CG)(eq.yx),{data:a,loading:c}=(0,en.gec)({variables:{id:t},skip:!t||"new"===t}),h=(0,re.$)(null==o?void 0:o.title);(0,d.useEffect)(()=>{!c&&a&&a.theme&&r(a.theme)},[c,a,r]);let u=(0,d.useCallback)(e=>{let t=e||(0,k.F)();s((0,v.YI)({name:t}))},[s]);return(0,n.jsxs)(z.K,{spacing:"1.5",children:[(0,n.jsx)(rt,{value:l||(0,k.F)(),onSave:u}),c?(0,n.jsx)(n9.N,{noOfLines:1,fontSize:"sm",maxW:"300px"}):(0,n.jsxs)(p.x,{color:"gray.700",fontSize:"sm",fontWeight:"normal",letterSpacing:"normal",children:[(null==i?void 0:i.createdBy)&&(0,n.jsx)(b.cC,{id:"qeNU2j",values:{0:i.createdBy.displayName}})," ",(null==i?void 0:i.docCount)&&(null==i?void 0:i.docCount)===1&&(null==i?void 0:i.id)===(null==o?void 0:null===(e=o.theme)||void 0===e?void 0:e.id)?(0,n.jsx)(b.cC,{id:"On+kRG",values:{docTitle:h,GAMMA_ARTIFACT_PROPER_NOUN:eN.Yc},components:{0:(0,n.jsx)("strong",{})}}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(b.cC,{id:"eVRfvp",values:{GAMMA_ARTIFACT_PROPER_NOUN:eN.Yc,GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:eN.aq,0:(null==i?void 0:i.docCount)||0},components:{0:(0,n.jsx)("strong",{}),1:(0,n.jsx)("strong",{})}})})]})]})},rr=()=>(0,n.jsx)(F.k,{direction:"row",h:"100%",maxH:"100%",overflow:"auto",w:"100%",children:(0,n.jsx)(F.k,{direction:"column",w:"100%",borderLeft:"1px solid",borderColor:"gray.200",position:"relative",children:(0,n.jsxs)(F.k,{flex:"1",position:"relative",h:"100%",flexDirection:"column",children:[(0,n.jsx)(F.k,{p:{base:3,md:5},alignItems:"stretch",flexDirection:"column",children:(0,n.jsx)(rn,{})}),(0,n.jsx)(el.i,{}),(0,n.jsx)(F.k,{w:"100%",overflowY:"hidden",children:(0,n.jsx)(n3,{})})]})})}),rs=(0,d.memo)(e=>{let{onTabChange:t,currentTab:i}=e;return(0,n.jsxs)(j.h,{p:2,position:"absolute",top:"3",left:"50%",transform:"translateX(-50%)",zIndex:"sticky",bg:"white",size:"sm",variant:"ghost",borderRadius:"md",boxShadow:"md",children:[(0,n.jsx)(f.z,{borderRadius:"md",bg:"testerDoc"===i?"trueblue.50":"transparent",color:"testerDoc"===i?"trueblue.500":"gray.600",onClick:()=>{t("testerDoc")},"data-testid":"preview-tab-tester-doc",children:(0,n.jsx)(b.cC,{id:"ypSaiK"})}),(0,n.jsx)(f.z,{borderRadius:"md",bg:"currentDoc"===i?"trueblue.50":"transparent",color:"currentDoc"===i?"trueblue.500":"gray.600",onClick:()=>{t("currentDoc")},"data-testid":"preview-tab-current-doc",children:(0,n.jsx)(b.cC,{id:"VJUm9p"})})]})});rs.displayName="PreviewTabSwitcher";let rl=e=>{let{onCancelClick:t,onComplete:i}=e,r=(0,x.CG)(v.H_),s=(0,x.CG)(v.e2),{persistTheme:l,isThemeSaving:o}=es({onComplete:i,flow:"editor"}),c=(0,x.CG)(v.Il),h=(0,d.useCallback)(()=>{l()},[l]),u=(0,H.i)({base:"md","2xl":"lg"});return r?(0,n.jsxs)(et,{children:[(0,n.jsx)(O,{children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(rr,{}),(0,n.jsx)(M,{children:(0,n.jsx)(F.k,{justifyContent:"flex-end",w:"100%","data-theme-editor-footer":!0,children:(0,n.jsxs)(j.h,{size:u,children:[(0,n.jsx)(f.z,{variant:"plain",onClick:t,children:(0,n.jsx)(b.cC,{id:"dEgA5A"})}),(0,n.jsx)(a.kH,{isDisabled:!s,label:(0,n.jsx)(b.cC,{id:"yz1qqg"}),children:(0,n.jsx)(A.xu,{display:"inline-flex",children:(0,n.jsx)(f.z,{variant:"solid",isLoading:o,isDisabled:!c,onClick:h,"data-testid":"custom-theme-save",children:(0,n.jsx)(b.cC,{id:"EsJdRp"})})})})]})})})]})}),(0,n.jsx)(P,{children:(0,n.jsx)(tk,{})})]}):(0,n.jsx)(n.Fragment,{})},ro=e=>{let{onThemeCreated:t,getCollaborativeEditorInstance:i}=e,u=(0,x.TL)(),{isOpen:m,onOpen:p,onClose:g}=(0,h.M)({id:"unsaved-changes"}),j=(0,d.useRef)(null);(0,y.TY)();let[f,b]=(0,d.useState)(!1),[F,T]=(0,d.useState)("splash"),z=(0,d.useCallback)(()=>{T("splash"),u((0,v.CW)()),b(!1)},[u]),A=(0,d.useCallback)(()=>{g(),"themeBuilderExit"===j.current?(u((0,v.CW)()),w.T.emit("setThemeConfigurationView",{view:"splash"})):z()},[z,g,u]),E=(0,d.useCallback)(e=>{let{exitType:t}=e;j.current=t;let i=(0,v.Il)((0,x.bh)().getState()),n=(0,I.EY)((0,x.bh)().getState());"splash"!==F&&(i||n)?p():z()},[z,p,F]),N=(0,d.useCallback)(e=>{if(b(!0),u((0,v.Cg)()),e.baseTheme){let t=e.baseTheme;e.isNewFork&&(t={...e.baseTheme,id:"new",name:(0,k.F)()}),u((0,v.sW)({baseTheme:t})),u((0,v.y3)({originalTheme:t}))}if(null==i?void 0:i()){var t;u((0,v.V_)({json:null===(t=i())||void 0===t?void 0:t.getJSON()}))}T(e.view||"splash")},[u,i]);return((0,d.useEffect)(()=>{w.T.on("openThemeConfiguration",e=>{N(e)}),w.T.on("closeThemeConfiguration",()=>{b(!1),u((0,v.CW)())}),w.T.on("setThemeConfigurationView",e=>{let{view:t}=e;if(null==i?void 0:i()){var n;u((0,v.V_)({json:null===(n=i())||void 0===n?void 0:n.getJSON()}))}"splash"===t&&u((0,v.Cg)()),T(t)})},[u,N,i]),(0,d.useEffect)(()=>{let e=(0,S.SJ)();"true"===e.openThemeEditor&&(N({view:"editor"}),(0,c.lO)({query:{...(0,S.SJ)(),openThemeEditor:void 0},emitChange:!1}))},[N]),f)?(0,n.jsxs)(a.Wk,{isDark:!1,children:[(0,n.jsxs)(r.u_,{returnFocusOnClose:!1,isOpen:f,trapFocus:!1,size:"full",onClose:()=>E({exitType:"genericExit"}),motionPreset:"slideInBottom",children:[(0,n.jsx)(s.Z,{}),(0,n.jsxs)(l.h,{h:"calc(100% - 24px)",minH:"calc(100% - 24px)",flex:1,overflow:"hidden",mt:"24px",children:[(0,n.jsx)(o.o,{bg:"white",boxShadow:"sm",top:"3",right:"3",position:"absolute",zIndex:"100"}),"splash"===F&&(0,n.jsx)(nN,{}),"import"===F&&(0,n.jsx)(tw,{}),"build"===F&&(0,n.jsx)(nT,{onComplete:t,onExitClick:()=>E({exitType:"themeBuilderExit"})}),"editor"===F&&(0,n.jsx)(rl,{onCancelClick:z,onComplete:t})]})]}),(0,n.jsx)(C,{isOpen:m,onClose:g,onConfirm:A})]}):(0,n.jsx)(n.Fragment,{})}},2517:function(){},89364:function(e,t,i){"use strict";i.d(t,{R:function(){return n}});var n=(0,i(67012).I)({d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z",displayName:"ArrowBackIcon"})}}]);
//# sourceMappingURL=1888-8fd8952b5c6dd465.js.map