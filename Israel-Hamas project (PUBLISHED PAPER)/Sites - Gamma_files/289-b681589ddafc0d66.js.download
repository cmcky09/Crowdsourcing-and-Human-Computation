"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[289],{60510:function(e,n,t){t.d(n,{r:function(){return j},h:function(){return O}});var i=t(52322),a=t(38035),r=t(17993),o=t(77533),d=t(62614),l=t(81672),c=t(42946),s=t(49929),u=t(2784),g=t(90221),p=t(90439),v=t(93441),m=t(89458),f=t(90383),_=t(38960),y=t(5879),C=t(42111),b=t(78462),h=t(94199),E=t(11082),w=t(64173),x=t(31807),I=t(6912),A=t(48832),P=t(11050),N=t(39278),k=t(81640),T=t(12265),U=t(11942),S=t(88640);let M=[{Component:()=>{let e=(0,C.ye)("outageButterbar");if(!e.enabled)return null;let{header:n,text:t,buttonLink:a,buttonText:r,key:o,pathnameRegexp:d}=e;return(0,i.jsx)(O,{definition:{key:o,header:n,text:t,buttonText:r,buttonLink:a,conditions:()=>!d||null!==window.location.pathname.match(new RegExp(d))}})},key:"outage-butterbar"},{Component:()=>{let e=(0,C.ye)("openAiStatus");return"NORMAL"===e?null:(0,i.jsx)(O,{definition:{key:"ai-service-status",header:(0,i.jsx)(y.cC,{id:"1Agl06"}),text:(0,i.jsx)(y.cC,{id:"cCl6WD"}),ttl:86400,conditions:()=>(0,b._r)(window.location.pathname)}})},key:"ai-service-status-butterbar"},{Component:()=>{var e,n,t;let{user:a,currentWorkspace:r}=(0,N.SE)(),{subscription:o,product:d}=(0,k.z)(),{launchFailedPaymentFlow:l,failedPaymentFlowEnabled:c}=(0,I.ET)({subscription:o,workspace:r,autoLaunch:!1});if(!o||!d)return null;let s=(0,T.KL)(),{name:u,dontChurnMessage:g}=s[d],{status:p,expirationTime:v,id:m}=o,f=(0,A.p6)(v,"MMMM do, yyyy"),_=(null==o?void 0:null===(e=o.createdByUser)||void 0===e?void 0:e.id)===(null==a?void 0:a.id),C=(0,U._8)(),b=v>Date.now();if(!("unpaid"===p||"past_due"===p)&&!b)return null;let w=C&&(_||!(null==o?void 0:o.createdByUser))?(0,i.jsx)(y.cC,{id:"velw1T",values:{expirationFormatted:f,GAMMA_PROPER_NOUN:h.N6,productName:u},components:{0:(0,i.jsx)(E.r,{href:C,isExternal:!0,textDecoration:"underline"})}}):(0,i.jsx)(y.cC,{id:"9aBOfk",values:{expirationFormatted:f,GAMMA_PROPER_NOUN:h.N6,productName:u,0:null===(n=o.createdByUser)||void 0===n?void 0:n.displayName,1:null===(t=o.createdByUser)||void 0===t?void 0:t.email},components:{0:(0,i.jsx)("b",{}),1:(0,i.jsx)("b",{})}});return(0,i.jsx)(O,{definition:{key:"payment-overdue-".concat(m),header:(0,i.jsx)(y.cC,{id:"gosJne",values:{productName:u}}),text:(0,i.jsxs)(i.Fragment,{children:[g," ",w]}),buttonText:(0,i.jsx)(y.cC,{id:"WLvqZR"}),buttonLink:c?void 0:C,buttonOnClick:c?l:void 0}})},key:"payment-overdue-butterbar"},{Component:()=>{let{subscription:e,openUpsellModal:n}=(0,k.z)();if(!e)return null;let{status:t,expirationTime:a,id:r}=e,o=new Date>(0,x.Z)(a)&&new Date<(0,w.Z)((0,x.Z)(a),{days:10});if(!o)return null;let d=()=>n({segmentEvent:P.AA.GAMMA_PRO_UPSELL_SUBSCRIPTION_EXPIRED_BUTTERBAR}),l=(0,i.jsx)(E.r,{onClick:d,isExternal:!0,textDecoration:"underline",children:(0,i.jsx)(y.cC,{id:"mj68q/"})});return(0,i.jsx)(O,{definition:{key:"subscription-expired-".concat(r),header:(0,i.jsx)(y.cC,{id:"5nhH6A"}),text:(0,i.jsxs)(i.Fragment,{children:["unpaid"===t||"past_due"===t?(0,i.jsx)(y.cC,{id:"QdgXJv"}):""," ",l]}),buttonText:(0,i.jsx)(y.cC,{id:"kwkhPe"}),buttonOnClick:d}})},key:"subscription-expired-butterbar"},{Component:()=>{var e,n,t;let{user:a}=(0,N.SE)(),{subscription:r,product:o}=(0,k.z)();if(!r||!o)return null;let{status:d,expirationTime:l,id:c,cancellationRequestedTime:s}=r,u="canceled"!=d&&s&&new Date<(0,x.Z)(l)&&new Date>(0,w.Z)((0,x.Z)(l),{days:-7});if(!u)return null;let g=(null==r?void 0:null===(e=r.createdByUser)||void 0===e?void 0:e.id)===(null==a?void 0:a.id),p=(0,U._8)(),v=(0,A.p6)(l,"MMMM do, yyyy"),m=(0,T.KL)(),{name:f,dontChurnMessage:_}=m[o],C=!g&&(null==r?void 0:r.createdByUser)?(0,i.jsx)(y.cC,{id:"z4DeyC",values:{expirationFormatted:v,GAMMA_PROPER_NOUN:h.N6,productName:f,0:null===(n=r.createdByUser)||void 0===n?void 0:n.displayName,1:null===(t=r.createdByUser)||void 0===t?void 0:t.email},components:{0:(0,i.jsx)("b",{}),1:(0,i.jsx)("b",{})}}):(0,i.jsx)(y.cC,{id:"qP91+f",values:{expirationFormatted:v,GAMMA_PROPER_NOUN:h.N6,productName:f},components:{0:(0,i.jsx)(E.r,{href:p,isExternal:!0,textDecoration:"underline"})}});return(0,i.jsx)(O,{definition:{key:"subscription-ending-soon-".concat(c),header:(0,i.jsx)(y.cC,{id:"THJAvC",values:{productName:f}}),text:(0,i.jsxs)(i.Fragment,{children:[_," ",C]}),buttonText:(0,i.jsx)(y.cC,{id:"3jHA5d"}),buttonLink:p}})},key:"upcoming-cancellation-butterbar"},{key:"tablet-browser-warning",header:(0,i.jsx)(y.cC,{id:"JAtlMu",values:{GAMMA_PROPER_NOUN:h.N6}}),text:(0,i.jsx)(y.cC,{id:"9JlCFS",values:{GAMMA_PROPER_NOUN:h.N6}}),conditions:()=>(0,g.dA)(),dismissKey:S.H.lastDismissedPreferredBrowserMessage},{key:"desktop-browser-warning",header:(0,i.jsx)(y.cC,{id:"3S0+Wy",values:{GAMMA_PROPER_NOUN:h.N6}}),text:(0,i.jsx)(y.cC,{id:"Tf7VpJ"}),conditions:()=>R()&&(0,g.ds)(),dismissKey:S.H.lastDismissedPreferredBrowserMessage}],R=()=>(0,g.jP)()||!(0,g.i7)()&&!(0,g.G6)()&&!(0,g.NA)(),j=e=>{let{isViewOnly:n}=e,t=(0,v.gF)();if(n||!t||(0,g.l6)()||p.cx||(0,f.wg)())return null;let r=M.map(e=>"Component"in e?(0,i.jsx)(e.Component,{},e.key):(0,i.jsx)(O,{definition:e},e.key));return(0,i.jsx)(a.k,{"data-testid":"butterbar",direction:"column",top:0,pos:"relative",zIndex:"banner",sx:{"> *:not(:first-child)":{display:"none"}},children:r})},O=e=>{let{definition:n}=e,{key:t,dismissKey:g="butterbar-dismiss-".concat(t),header:p,text:v,buttonText:f,buttonLink:y,buttonOnClick:C=y?()=>window.open(y,"_blank"):void 0,conditions:b,ttl:h}=n,[E,w]=(0,m.I)(g,!1);return((0,u.useEffect)(()=>{if(!(h&&E))return;let e=new Date().getTime(),n=new Date(E).getTime(),t=e-n>1e3*h;t&&_.W.removeItem(g)},[g,E,h]),b&&!b()||E)?null:(0,i.jsxs)(a.k,{direction:"row",bg:"indigo.500",color:"white",py:3,px:4,align:"center",fontSize:"sm",children:[(0,i.jsxs)(r.g,{flex:"1",align:"start",spacing:0,children:[(0,i.jsx)(o.x,{fontWeight:"bold",children:p}),(0,i.jsx)(o.x,{opacity:"0.7",fontSize:"xs",children:v})]}),f&&C&&(0,i.jsx)(d.z,{variant:"plain",size:"sm",mr:4,rightIcon:y?(0,i.jsx)(s.G,{icon:c.wlW}):void 0,onClick:C,children:f}),(0,i.jsx)(l.P,{onClick:()=>{w(String(new Date))}})]})}},98518:function(e,n,t){t.d(n,{U:function(){return d}});var i=t(2784),a=t(14274),r=t(11050),o=t(42005);let d=()=>{let e=(0,i.useRef)(!1),n=(0,i.useRef)(new Map);(0,i.useEffect)(()=>{if("production"!==a.v.APPLICATION_ENVIRONMENT)return;let t=()=>{if(e.current)return;let t=n.current.get("total"),i=n.current.get("notTrusted"),a=i/t>.5;a&&t>5&&(e.current=!0,o.c.track(r.xW.NOT_TRUSTED_EVENTS_DETECTED,{totalEvents:t,notTrustedEvents:i}))},i=e=>{e.isTrusted||n.current.set("notTrusted",(n.current.get("notTrusted")||0)+1),n.current.set("total",(n.current.get("total")||0)+1),t()};return document.addEventListener("paste",i,{capture:!0}),document.addEventListener("mousedown",i,{capture:!0}),document.addEventListener("keydown",i,{capture:!0}),()=>{document.removeEventListener("paste",i,{capture:!0}),document.removeEventListener("mousedown",i,{capture:!0}),document.removeEventListener("keydown",i,{capture:!0})}},[])}},2765:function(e,n,t){t.d(n,{S:function(){return o}});var i=t(90221),a=t(93441),r=t(90383);let o=()=>{let e=!(0,i.l6)()&&!(0,r.wg)();return(0,a.GE)(e,'\n!function(w,d,i,s){function l(){if(!d.getElementById(i)){var f=d.getElementsByTagName(s)[0],e=d.createElement(s);e.type="text/javascript",e.async=!0,e.src="https://canny.io/sdk.js",f.parentNode.insertBefore(e,f)}}if("function"!=typeof w.Canny){var c=function(){c.q.push(arguments)};c.q=[],w.Canny=c,"complete"===d.readyState?l():w.attachEvent?w.attachEvent("onload",l):w.addEventListener("load",l,!1)}}(window,document,"canny-jssdk","script");\n'),null}},6912:function(e,n,t){t.d(n,{S1:function(){return h},B_:function(){return x},ET:function(){return E}});var i=t(2784),a=t(14274),r=t(88232),o=t(42111),d=t(49152),l=t(44663),c=t(1163),s=t(11050),u=t(39278),g=t(90221),p=t(23284),v=t(90383),m=t(87254),f=t(82108),_=t.n(f),y=t(94199);let C=(e,n)=>{let t=_()(n);return{[e]:{next:m.ag._({id:"hXzOVo"}),back:m.ag._({id:"iH8pgl"}),nevermind:m.ag._({id:"CKyk7Q"}),goToAccount:m.ag._({id:"C9yTHG",values:{GAMMA_PROPER_NOUN:y.N6}}),getHelp:m.ag._({id:"pWsyuL"}),declineOffer:m.ag._({id:"aIFikE"}),confirmAndCancel:m.ag._({id:"G9nPRC"}),pauseSubscription:m.ag._({id:"2RgEmU"}),cancelSubscription:m.ag._({id:"dEgA5A"}),discountSubscription:m.ag._({id:"qG4Wa/"}),claimOffer:m.ag._({id:"/Gl/RK"}),discountOff:m.ag._({id:"Bdtwnw"}),discountFor:m.ag._({id:"sQv06Y"}),discountForever:m.ag._({id:"FsOOWf"}),discountOneTime:m.ag._({id:"HpXCa4"}),day:m.ag._({id:"5YWExy"}),month:m.ag._({id:"obrMay"}),year:m.ag._({id:"/Tw548"}),error:m.ag._({id:"wTrpxV"}),genericErrorDescription:m.ag._({id:"PUjJ3A"}),cancelNow:m.ag._({id:"EiakwV"}),applyingDiscount:m.ag._({id:"8kSYjw"}),applyingCancel:m.ag._({id:"VpuvNv"}),applyingResume:m.ag._({id:"eIoGiX"}),applyingPause:m.ag._({id:"UD7gOq"}),discountApplied:m.ag._({id:"jdYyiz"}),discountAppliedMessage:m.ag._({id:"DhHX6G"}),pauseApplied:m.ag._({id:"eeITvj"}),pauseAppliedMessage:m.ag._({id:"nm0VaE"}),pauseAppliedResumeMessage:m.ag._({id:"qOe0SS"}),pauseScheduledMessage:m.ag._({id:"mqRc6d"}),until:m.ag._({id:"C51N+0"}),cancelApplied:m.ag._({id:"Wcg6zu"}),cancelAppliedMessage:m.ag._({id:"8vN97Y"}),cancelAppliedDateMessage:m.ag._({id:"BS/SGu"}),howLongToPausePrompt:m.ag._({id:"HLyJ9n"}),whatCouldWeHaveDone:m.ag._({id:"fcbm8H"}),weReadEveryAnswer:m.ag._({id:"nkuKRd"}),applyingCustomerAction:m.ag._({id:"PXwF+s"}),loading:m.ag._({id:"Z3FXyt"}),pauseWallCardPunch:m.ag._({id:"iL2TQ6"}),pauseWallCta:m.ag._({id:"TvXj47"}),pauseWallCardHeading:m.ag._({id:"kHm8Fg"}),scheduledToReactivate:m.ag._({id:"aH7vi8"}),resumeApplied:m.ag._({id:"diOgYK"}),resumeAppliedMessage:m.ag._({id:"YqFvUY"}),resumeNextChargeMessage:m.ag._({id:"VDqPUf"}),resumeNextChargeMessageWithoutAmount:m.ag._({id:"RrvVAn"}),resumeAccountDataInfo:m.ag._({id:"dJCJXA"}),subscriptionPauseNotice:m.ag._({id:"fpxliT"}),failedPaymentNotice:m.ag._({id:"Vxg5vO"}),chargedMultipleTimeNotice:m.ag._({id:"lAlv46"}),failedPaymentCardPunch:m.ag._({id:"KEZrHg",values:{GAMMA_PROPER_NOUN:y.N6,productName:t}}),resumeHey:m.ag._({id:"hdOctW"}),invoicePaidTitle:m.ag._({id:"aJGfDL"}),logout:m.ag._({id:"W+3RJN"}),note:m.ag._({id:"ycCSuD"}),discount:m.ag._({id:"HmpVeZ"}),discountNoticeHeadline:m.ag._({id:"5P1dmt"}),discountNoticePrepend:m.ag._({id:"yjadEY"}),discountOverride:m.ag._({id:"JfBDWL"}),discountValidUntil:m.ag._({id:"uXxNua"}),updateBilling:m.ag._({id:"tQilrI"}),extendTrialCTA:m.ag._({id:"m3l7VI"}),extendTrialPunch:m.ag._({id:"s5pINo"}),extendTrialOfferTitle:m.ag._({id:"SyzXYh"}),trialExtended:m.ag._({id:"fezME2"}),trialExtendedMessage:m.ag._({id:"QE4mUs"}),applyingTrialExtension:m.ag._({id:"vI2q9R"}),switchPlanCTA:m.ag._({id:"P2mx2L"}),changePlanHighlights:m.ag._({id:"qbgW+C"}),changePlanOfferPunch:m.ag._({id:"MRkiFP"}),planChanged:m.ag._({id:"ByFtyh"}),planChangedMessage:m.ag._({id:"Pf5z1G"}),applyingPlanChange:m.ag._({id:"9vKKLI"}),surveyStepTag:m.ag._({id:"cSUBI1"}),freeFormStepTag:m.ag._({id:"cSUBI1"}),finalConfirmation:m.ag._({id:"1/oP/N"}),offerDiscountTag:m.ag._({id:"LTgtxG"}),offerChangePlanTag:m.ag._({id:"ENMJv2"}),offerExtendTrialTag:m.ag._({id:"MWKntz"}),offerRedirectTag:m.ag._({id:"cvpAvL"}),offerContactTag:m.ag._({id:"cvpAvL"}),offerPauseTag:m.ag._({id:"+T6DGl"}),completeTag:m.ag._({id:"K5c1e7"}),errorTag:m.ag._({id:"EuvbIW"}),offerAccepted:m.ag._({id:"ZU0opP"})}}},b="\n!function(){  \n    if (!window.churnkey || !window.churnkey.created) {\n      window.churnkey = { created: true };\n      const a = document.createElement('script');\n      a.src = 'https://assets.churnkey.co/js/app.js?appId=".concat(a.v.CHURNKEY_APP_ID,"';\n      a.async = true;\n      const b = document.getElementsByTagName('script')[0];\n      b.parentNode.insertBefore(a, b);\n    }\n  }();\n"),h=()=>{let e=!(0,g.l6)()&&!(0,v.wg)();return(0,p.G)(e,b),null},E=e=>{var n;let{subscription:t,workspace:s,autoLaunch:g=!0}=e,{user:p}=(0,u.SE)(),v=(0,o.ye)("churnkeyFailedPaymentWallEnabled"),m=(0,d.l)(),f=(0,c.K9)(s),_=(0,l.G)(),y=v&&(null==p?void 0:p.id)===(null==t?void 0:null===(n=t.createdByUser)||void 0===n?void 0:n.id),C=(0,i.useCallback)(async()=>{if(t&&f&&y)return(0,r.d6)("churnkey").then(e=>{var n,i;if(!e||!t.billingSubscriptionId||!(null===(n=t.createdByUser)||void 0===n?void 0:n.billingCustomerId)){console.error("[Churnkey] launchFailedPayment Missing hmac or subscription data",{hmac:e,subscription:t});return}console.debug("[Churnkey] launchFailedPayment - launching churnkey with:",{hmac:e,appId:a.v.CHURNKEY_APP_ID,subscriptionId:t.billingSubscriptionId,customerId:null===(i=t.createdByUser)||void 0===i?void 0:i.billingCustomerId}),w({authHash:e,subscription:t,localeKey:m,productKey:f,launchIntercomUI:_})})},[t,f,y,m,_]);return(0,i.useEffect)(()=>{g&&C()},[C,g]),{launchFailedPaymentFlow:C,failedPaymentFlowEnabled:y}},w=async e=>{var n,t;let{authHash:i,subscription:r,localeKey:o,productKey:d,launchIntercomUI:l}=e;null===(t=window.churnkey)||void 0===t||t.check("failed-payment",{subscriptionId:r.billingSubscriptionId,customerId:null===(n=r.createdByUser)||void 0===n?void 0:n.billingCustomerId,authHash:i,customerAttributes:{language:o},i18n:{lang:o,messages:C(o,d)},appId:a.v.CHURNKEY_APP_ID,mode:a.v.CHURNKEY_MODE,provider:"stripe",softWall:!0,forceCheck:!1,gracePeriodDays:3,ignoreInvoicesWithoutAttempt:!1,handleSupportRequest(){var e;l(),s.co.track(s.AA.CHURNKEY_HANDLE_SUPPORT_CLICK,{source:"failed-payment-wall",subscriptionId:r.billingSubscriptionId,customerId:null===(e=r.createdByUser)||void 0===e?void 0:e.billingCustomerId})},async handleCancel(e){var n,t;return s.co.track(s.AA.CANCEL_SUBSCRIPTION_CLICK,{source:"failed-payment-wall",subscriptionId:r.billingSubscriptionId,customerId:null===(n=r.createdByUser)||void 0===n?void 0:n.billingCustomerId}),console.debug("[launchChurnkeyFailedPayment.handleCancel]",{subscriptionId:r.billingSubscriptionId,customerId:null===(t=r.createdByUser)||void 0===t?void 0:t.billingCustomerId,customer:e}),I({authHash:i,subscription:r,localeKey:o,productKey:d,launchIntercomUI:l,customerAttributes:{viaFailedPayment:!0}}).catch(e=>w({authHash:i,subscription:r,localeKey:o,productKey:d,launchIntercomUI:l}))},onFailedPaymentWallActivated(){var e;s.co.track(s.AA.CHURNKEY_FAILED_PAYMENT_WALL_SHOWN,{subscriptionId:r.billingSubscriptionId,customerId:null===(e=r.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onUpdatePaymentInformation(){var e;s.co.track(s.AA.CHURNKEY_PAYMENT_METHOD_UPDATED,{source:"failed-payment-wall",subscriptionId:r.billingSubscriptionId,customerId:null===(e=r.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onFailedPaymentWallClose(){var e;s.co.track(s.AA.CHURNKEY_FAILED_PAYMENT_WALL_CLOSED,{subscriptionId:r.billingSubscriptionId,customerId:null===(e=r.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onCancel(){var e;s.co.track(s.AA.CHURNKEY_CANCEL_SUBSCRIPTION_COMPLETE,{source:"failed-payment-wall",subscriptionId:r.billingSubscriptionId,customerId:null===(e=r.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onError(e,n){console.warn('Churnkey check("failed-payment", ...) error',e,n)}})},x=(e,n)=>{let t=(0,o.ye)("churnkeyCancelFlowEnabled"),a=(0,d.l)(),s=(0,c.K9)(n),u=(0,l.G)(),g=(0,i.useCallback)(()=>{if(e&&s&&t)return(0,r.d6)("churnkey").then(n=>{var t;if(!n||!e.billingSubscriptionId||!(null===(t=e.createdByUser)||void 0===t?void 0:t.billingCustomerId)){console.debug("[Churnkey] handleCancel - Missing hmac or subscription data",{hmac:n,subscription:e});return}return I({authHash:n,subscription:e,localeKey:a,productKey:s,launchIntercomUI:u})})},[t,a,s,e,u]);return{launchCancelFlow:g,cancelFlowEnabled:t}},I=async e=>{let{authHash:n,subscription:t,localeKey:i,productKey:r,customerAttributes:o={},launchIntercomUI:d}=e;return new Promise((e,l)=>{var u,g,p;null===(p=window.churnkey)||void 0===p||p.init("show",{subscriptionId:t.billingSubscriptionId,customerId:null===(u=t.createdByUser)||void 0===u?void 0:u.billingCustomerId,authHash:n,customerAttributes:{language:i,frequency:null===(g=(0,c.OJ)(t))||void 0===g?void 0:g.frequencyUnit,productKey:r,...o},i18n:{lang:i,messages:C(i,r)},appId:a.v.CHURNKEY_APP_ID,mode:a.v.CHURNKEY_MODE,provider:"stripe",record:!0,handleSupportRequest(){var e;d(),s.co.track(s.AA.CHURNKEY_HANDLE_SUPPORT_CLICK,{source:"cancel-flow",subscriptionId:t.billingSubscriptionId,customerId:null===(e=t.createdByUser)||void 0===e?void 0:e.billingCustomerId})},onCancel(e,n,i){var a;s.co.track(s.AA.CHURNKEY_CANCEL_SUBSCRIPTION_COMPLETE,{source:"cancel-flow",subscriptionId:t.billingSubscriptionId,customerId:null===(a=t.createdByUser)||void 0===a?void 0:a.billingCustomerId,surveyResponse:n,freeformFeedback:i}),console.debug("[launchChurnkeyCancelFlow.onCancel]",{surveyResponse:n,freeformFeedback:i})},onGoToAccount(n){console.debug("[launchChurnkeyCancelFlow.onGoToAccount]",{sessionResults:n}),e({sessionResults:n})},onClose(n){if(console.debug("[launchChurnkeyCancelFlow.onClose]",{sessionResults:n}),!n||n.aborted){l("Churnkey cancel flow aborted");return}e({sessionResults:n})},onError(e){console.warn("[launchChurnkeyCancelFlow.onError]",{message:e}),l({message:e})}})})}},48832:function(e,n,t){t.d(n,{BK:function(){return E},Dw:function(){return h},Km:function(){return b},dN:function(){return y},p6:function(){return C}});var i=t(87254),a=t(82282),r=t(32361),o=t(96740),d=t(31807),l=t(73871),c=t(57907),s=t(21346),u=t(48053),g=t(1363),p=t(49738),v=t(90535),m=t(9283),f=t(75528);let _={en:c.Z,"pt-br":s.Z,ja:u.Z,"zh-cn":g.Z,"zh-tw":p.Z,es:v.Z,fr:m.Z,ko:f.Z},y=()=>_[i.ag.locale]||void 0,C=(e,n)=>e?(0,a.Z)((0,d.Z)(e),n,{locale:y()}):"",b=(e,n)=>e?(0,o.Z)((0,d.Z)(e),n?(0,d.Z)(n):new Date,{locale:y()}):"",h=e=>e?(0,r.Z)((0,d.Z)(e),{locale:y()}):"",E=e=>e?(0,l.Z)((0,d.Z)(e),new Date,{locale:y(),addSuffix:!0,roundingMethod:"floor"}):""},82167:function(e,n,t){t.d(n,{GQ:function(){return g},S1:function(){return i.S}});var i=t(97636),a=t(52322),r=t(14274),o=t(91994),d=t(90221),l=t(93441),c=t(90383),s=t(94220);let u="\n(function(){var w=window;var ic=w.Intercom;if(typeof ic===\"function\"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/".concat(r.v.INTERCOM_APP_ID,"';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(document.readyState==='complete'){l();}else if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();\n"),g=()=>{let e=!(0,d.l6)()&&!(0,c.wg)();(0,l.GE)(e,u);let n=(0,o.CG)(s.Dm);return(0,l.gF)()&&e?(0,a.jsx)("style",{children:"\n       #intercom-container > div {\n         display: ".concat(n?"block":"none"," !important;\n       }\n       div.intercom-app .intercom-borderless-frame,\n       div.intercom-app .intercom-messenger-frame  {\n         transform: translateY(calc(").concat(n?"0px":"100% + 20px",")) !important;\n       }\n     ")}):null}},58786:function(e,n,t){t.d(n,{S:function(){return y}});var i=t(52322),a=t(55478),r=t(2784),o=t(76332),d=t(6912),l=t(42111),c=t(34881),s=t(27902),u=t(50267),g=t(78462),p=t(41052),v=t(97550),m=t(1163),f=t(2953);let _="get-gamma-pro",y=e=>{var n,t;let{children:y}=e,{currentWorkspace:C,isUserLoading:b}=(0,u.SE)(),[h,E]=(0,r.useState)(!1),w=(0,s.z$)(),x=(0,l.ye)("upsellUXEnabled_Pro"),{data:I,refetch:A}=(0,o.FaU)({variables:{workspaceId:null==C?void 0:C.id,includeExpired:!0},skip:!(null==C?void 0:C.id)}),P=null==I?void 0:I.subscription;(0,d.ET)({subscription:P,workspace:C,autoLaunch:!0});let{data:N}=(0,o.kNl)({variables:{workspaceId:null==C?void 0:C.id},skip:!C}),k=null==N?void 0:null===(n=N.products)||void 0===n?void 0:n.find(e=>"pro"===e.key),T=null==k?void 0:null===(t=k.prices)||void 0===t?void 0:t.find(e=>e.frequencyUnit===o.C_B.Year),U=(0,m.K9)(C),{isOpen:S,onOpen:M,onClose:R}=(0,a.q)({id:"upsell-modal"}),j=(0,r.useRef)(null),O=(0,r.useCallback)(e=>{let{onOpenCallback:n,onCloseCallback:t,insufficientCreditsWarning:i,segmentEvent:a,changePlanModalOpen:r}=e;x&&(E(!!i),null==n||n(),M(),r&&setTimeout(()=>{v.T.emit("openUpgradeToProModal",{})},200),null==w||w.track(a),j.current=t||null)},[w,M,x]),D=(0,r.useCallback)(()=>{var e;null==j||null===(e=j.current)||void 0===e||e.call(j),R(),j.current=null,E(!1)},[R]),[B,L]=(0,r.useState)({openUpsellModal:O,product:U,subscription:P,proYearlyProductPrice:T});return(0,r.useEffect)(()=>{let e="true"===(0,g.SJ)()[_];e&&!b&&C&&(M(),(0,c.lO)({query:{...(0,g.SJ)(),[_]:void 0},emitChange:!1}))},[M,C,b]),(0,r.useEffect)(()=>{L({openUpsellModal:O,refetchSubscription:A,product:U,subscription:P,proYearlyProductPrice:T})},[O,U,P,T,A]),(0,i.jsxs)(f.P.Provider,{value:B,children:[y,(0,i.jsx)(p.b,{insufficientCreditsWarning:h,isUpsellModalOpen:S,closeUpsellModal:D}),(0,i.jsx)(d.S1,{})]})}},93206:function(e,n,t){t.d(n,{s:function(){return a}});var i=t(54839);let a=(e,n)=>{if(e.globalToast)return;let t=(0,i.I)({theme:n});e.globalToast=t}}}]);
//# sourceMappingURL=289-b681589ddafc0d66.js.map