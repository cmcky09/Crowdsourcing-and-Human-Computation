"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8258],{46028:function(e,r,t){t.d(r,{Gb:function(){return Q},Jm:function(){return rU},Qc:function(){return J},Vp:function(){return el}});var i=t(2784),n=t(81821),o=t(55478),l=t(55224),a=t(65610),s=t(68023),c=t(43679),d=t(76801),u=t(27988),p=t(38035),h=t(28535),x=t(74008),m=t(74105),g=t(85573),f=t(20816),v=t(81540),j=t(91982),b=t(89099),C=t(11284),y=t(39429),k=t(42822),_=t(93429),w=t(82115),S=t(79729),A=t(59701),I=t(63637),R=t.n(I),E=t(57044),P=t(94281),O="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof t.g?t.g:"u">typeof self?self:{};function T(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var N={exports:{}},M={};N.exports=function(){if(rS)return M;rS=1;var e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,n=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(r,i,l){var a,s={},c=null,d=null;for(a in void 0!==l&&(c=""+l),void 0!==i.key&&(c=""+i.key),void 0!==i.ref&&(d=i.ref),i)t.call(i,a)&&!o.hasOwnProperty(a)&&(s[a]=i[a]);if(r&&r.defaultProps)for(a in i=r.defaultProps)void 0===s[a]&&(s[a]=i[a]);return{$$typeof:e,type:r,key:c,ref:d,props:s,_owner:n.current}}return M.Fragment=r,M.jsx=l,M.jsxs=l,M}();var z=N.exports;let[D,L]=(0,n.k)({name:"AutoCompleteContext",errorMessage:"useAutoCompleteContext: `context` is undefined. Seems you forgot to wrap all autoomplete components within `<AutoComplete />`"});var W=function(e,r){for(var t,n=i.Children.toArray(e),o=0;o<n.length;o++){var l=n[o];if(r(l))return l;if(!(null===(t=l.props)||void 0===t)&&t.children){var a=W(l.props.children,r);if(a)return a}}},B=globalThis&&globalThis.__spreadArray||function(e,r){for(var t=0,i=r.length,n=e.length;t<i;t++,n++)e[n]=r[t];return e},F=function(e,r){for(var t,n=i.Children.toArray(e),o=[],l=0;l<n.length;l++){var a=n[l];r(a)&&(o=B(B([],o),[a])),!(null===(t=a.props)||void 0===t)&&t.children&&(o=B(B([],o),F(a.props.children,r)))}return o};function G(e,r,t=2){function i(e,r){let t=Array((e=" ".repeat(r-1)+e.toLowerCase()+" ".repeat(r-1)).length-r+1);for(let i=0;i<t.length;i++)t[i]=e.slice(i,i+r);return t}if(!(null!=e&&e.length)||!(null!=r&&r.length))return 0;let n=e.length<r.length?e:r,o=e.length<r.length?r:e,l=i(n,t),a=i(o,t),s=new Set(l),c=a.length,d=0;for(let e of a)s.delete(e)&&d++;return d/c}let U=e=>{var r;return null==(r="string"==typeof e||"number"==typeof e?e:e[Object.keys(e)[0]])?void 0:r.toString()},$=(e,r)=>"string"!=typeof e||(0,_.xb)(r)?e:e.toString().replace(RegExp(r.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"gi"),e=>`<mark>${e}</mark>`),V=e=>F(e,e=>{var r;return(null==(r=null==e?void 0:e.type)?void 0:r.displayName)==="AutoCompleteItem"}).map(e=>{let r=(0,w.ei)(e.props,["value","label","fixed","disabled"]),{getValue:t=U}=e.props,i=t(r.value);return{...(0,_.$K)(r.label)?r:{...r,label:i},value:i,originalValue:r.value}}),K=()=>({bg:"whiteAlpha.100",_light:{bg:"gray.200"}}),Y=(e,r,t)=>(null==r?void 0:r.toLowerCase().indexOf(null==e?void 0:e.toLowerCase()))>=0||(null==t?void 0:t.toLowerCase().indexOf(null==e?void 0:e.toLowerCase()))>=0||G(e,r)>=.5||G(e,t)>=.5,H=(e,r)=>{let t={},i={},{field:n}=e;return n&&Object.keys(n).forEach(e=>{if(!1===e.startsWith("--input"))t[e]=n[e];else{let r=n[e],t=e.replace("--input-","").replace(/-([a-z])/g,function(e){return e[1].toUpperCase()});-1!==r.indexOf(".")&&(r=r.substring(r.indexOf(".")+1)),i[t]=r}}),{...r&&{...t,...i,_focusWithin:e.field._focus,pos:"relative",minH:9,py:1.5,spacing:3},cursor:"text",h:"fit-content"}},q=(e,r)=>W(e,e=>{var t;return(null==(t=null==e?void 0:e.type)?void 0:t.displayName)==="AutoCompleteItem"&&e.props.value===(null==r?void 0:r.value)}),Z=(e,r)=>W(e,e=>{var t;return(null==(t=null==e?void 0:e.type)?void 0:t.displayName)==="AutoCompleteItem"&&e.props.value===(null==r?void 0:r.value)}),X=(e,r)=>(0,_.$K)(W(e,e=>{var t,i;let n=(0,S.Pu)((null==(t=e.props)?void 0:t.getValue)||U,(null==(i=e.props)?void 0:i.value)||{});return r.some(e=>e.value===n)})),J=(0,s.G)((e,r)=>{let t=function(e){var r;let{closeOnBlur:t=!0,creatable:n,emphasize:s,emptyState:c=!0,freeSolo:d,isReadOnly:u,listAllValuesOnFocus:p,maxSuggestions:h,multiple:x,closeOnSelect:m=!x,defaultValue:g,defaultValues:f=g?[g]:[],onReady:v,defaultIsOpen:j,disableFilter:b,isLoading:C=!1,placement:y="bottom",restoreOnBlurIfEmpty:k=!d,shouldRenderSuggestions:I=()=>!0,submitKeys:R=[],suggestWhenEmpty:E,value:P,values:O=P?"string"==typeof P?[P]:[...P]:void 0}=e;d=d||!!x||e.freeSolo;let{isOpen:T,onClose:N,onOpen:M}=(0,o.q)({defaultIsOpen:j}),z=(0,S.Pu)(e.children,{isOpen:T,onClose:N,onOpen:M}),D=V(z),L=(0,i.useRef)(null),W=(0,i.useRef)(null),B=(0,i.useRef)(null),F=(0,i.useRef)(null),[G,J]=(0,i.useState)(!1),Q="";x?Q="":(0,_.o8)(f)?(0,_.o8)(O)||(Q=O[0]):Q=f[0];let[ee,er]=(0,i.useState)(Q??""),et=b?D:D.filter(r=>r.fixed||(0,S.Pu)(e.filter||Y,ee,r.value,r.label)||G).filter((e,r)=>!h||e.fixed||r<h),ei=n?[{value:ee,noFilter:!0,creatable:!0}]:[],en=[...et,...ei],[eo,el]=(0,l.T)({defaultValue:f.map(e=>null==e?void 0:e.toString()),value:O,onChange:r=>{let t=en.find(e=>e.value===r[0]),i=r.map(e=>en.find(r=>r.value===e));(0,S.Pu)(e.onChange,x?r:r[0],x?i:t)}}),[ea,es]=(0,i.useState)(null==(r=D[0])?void 0:r.value),ec=e.maxSelections||eo.length+1,ed=en.findIndex(e=>e.value===ea),eu=(0,A.vi)(ed,en,!!e.rollNavigation),ep=(0,A.J4)(ed,en,!!e.rollNavigation),eh=(0,A.l8)(en),ex=(0,A.s)(en);(0,a.r)(()=>{es(null==eh?void 0:eh.value)},[ee]),(0,i.useEffect)(()=>{var e;T||es(null==(e=D[0])?void 0:e.value)},[T]),(0,i.useEffect)(()=>{let r=D.find(e=>e.value===ea);(0,S.Pu)(e.onOptionFocus,{item:r,focusMethod:F.current,isNewInput:null==r?void 0:r.creatable})},[ea,e.onOptionFocus]);let em=r=>{var t,i;!eo.includes(r)&&eo.length<ec&&el(e=>x?[...e,r]:[r]);let n=en.find(e=>e.value===r);x&&(null==(t=L.current)||t.focus()),e.focusInputOnSelect&&(null==(i=L.current)||i.focus()),(0,S.Pu)(e.onSelectOption,{item:n,selectMethod:F.current,isNewInput:null==n?void 0:n.creatable}),null!=n&&n.creatable&&(0,S.Pu)(e.onCreateOption,{item:(0,w.CE)(n,["noFilter"]),selectMethod:F.current});let o=(null==n?void 0:n.label)||(null==n?void 0:n.value);er(()=>x?"":o??""),m&&N()},eg=(r,t)=>{var i;el(t=>{let i=D.find(e=>e.value===r);return(0,S.Pu)(e.onTagRemoved,r,i,t),t.filter(e=>e!==r)}),ee===r&&er(""),t&&(null==(i=L.current)||i.focus())},ef=x?eo.map(e=>{var r;return{label:(null==(r=D.find(r=>r.value===(null==e?void 0:e.toString())))?void 0:r.label)||e,onRemove:()=>eg(e)}}):[];return(0,i.useEffect)(()=>{(0,S.Pu)(v,{tags:ef})},[eo]),{autoCompleteProps:e,children:z,filteredList:en,filteredResults:et,focusedValue:ea,getEmptyStateProps:e=>{if(en.every(e=>e.noFilter)&&c&&!n)return"boolean"==typeof c?e:(0,S.Pu)(c,{query:ee})},getGroupProps:e=>{let r=X(e.children,en);return{divider:{hasFirstChild:q(e.children,eh),hasLastChild:Z(e.children,(0,A.s)(en.filter(e=>(0,_.o8)(null==e?void 0:e.noFilter))))},group:{display:r?"initial":"none"}}},getInputProps:(r,i)=>{let{onBlur:n,onChange:o,onFocus:l,onKeyDown:a,variant:s,...c}=r;return{wrapper:{ref:W,onClick:()=>{var e;null==(e=null==L?void 0:L.current)||e.focus()},...H(i,x),...c},input:{isReadOnly:u,onFocus:r=>{(0,S.Pu)(l,r),e.openOnFocus&&!u&&M(),e.selectOnFocus&&r.target.select(),p&&J(!0)},onBlur:e=>{var r,i;(0,S.Pu)(n,e);let o=e.relatedTarget===(null==B?void 0:B.current)||(null==(r=B.current)?void 0:r.contains(e.relatedTarget)),l=null==(i=W.current)?void 0:i.contains(e.relatedTarget);if(!o&&!l&&(t&&N(),!eo.includes(e.target.value)&&k)){let e=(0,A.s)(eo),r=D.find(r=>r.value===e),t=(null==r?void 0:r.label)||(null==r?void 0:r.value)||"";er(t)}},onChange:e=>{let r=e.target.value;(0,S.Pu)(o,e),er(r);let t=(0,_.xb)(r);(0,S.Pu)(I,r)&&(!t||E)?M():N(),J(!1)},onKeyDown:e=>{var r;(0,S.Pu)(a,e),F.current="keyboard";let{key:t}=e,i=en[ed];if(["Enter",...R].includes(t)){i&&!(null!=i&&i.disabled)?em(null==i?void 0:i.value):null==(r=L.current)||r.focus(),e.preventDefault();return}if("ArrowDown"===t){T?es(null==eu?void 0:eu.value):M(),e.preventDefault();return}if("ArrowUp"===t){T?es(null==ep?void 0:ep.value):M(),e.preventDefault();return}if("Tab"===t){T&&i&&!(null!=i&&i.disabled)?em(null==i?void 0:i.value):N();return}if("Home"===t){es(null==eh?void 0:eh.value),e.preventDefault();return}if("End"===t){es(null==ex?void 0:ex.value),e.preventDefault();return}"Escape"===t&&(N(),e.preventDefault())},value:ee,variant:x?"unstyled":s,...c}}},getItemProps:(e,r)=>{var t;let{_fixed:i,_focus:n,children:o,disabled:l,label:a,value:c,fixed:d,getValue:u=U,onClick:p,onMouseOver:h,sx:x,...m}=e,g=r?c:null==(t=u(c))?void 0:t.toString(),f=g===ea,v=en.findIndex(e=>e.value===g)>=0,j=o||a||g;return{item:{..."string"==typeof j&&s?{dangerouslySetInnerHTML:{__html:$(j,ee)}}:{children:j},"aria-selected":eo.includes(g),"aria-disabled":l,_disabled:{opacity:.4,cursor:"not-allowed",userSelect:"none"},onClick:e=>{var r;(0,S.Pu)(p,e),l?null==(r=L.current)||r.focus():em(g)},onMouseOver:e=>{(0,S.Pu)(h,e),es(g),F.current="mouse"},sx:{...x,mark:{color:"inherit",bg:"transparent",...(0,_.Kn)(s)?s:{fontWeight:s?"extrabold":"inherit"}}},...f&&(n||K()),...d&&i,...m},root:{isValidSuggestion:v,value:g}}},inputRef:L,interactionRef:F,isLoading:C,isOpen:T,itemList:D,listRef:B,onClose:N,onOpen:M,placement:y,query:ee,removeItem:eg,resetItems:e=>{var r;el([]),e&&(null==(r=L.current)||r.focus())},setQuery:er,tags:ef,values:eo}}(e),{children:n,isOpen:s,onClose:u,onOpen:p,placement:h,resetItems:x,removeItem:m}=t;return(0,i.useImperativeHandle)(r,()=>({resetItems:x,removeItem:m})),z.jsx(D,{value:t,children:z.jsx(c.J,{isLazy:!0,isOpen:s,onClose:u,onOpen:p,autoFocus:!1,placement:h,closeOnBlur:!0,matchWidth:!0,children:z.jsx(d.m.div,{w:"full",ref:r,children:n})})})});J.displayName="AutoComplete";let Q=(0,s.G)((e,r)=>{let{focusedValue:t,getItemProps:n,interactionRef:o}=L(),l=(0,i.useRef)(),a=(0,u.q)(r,l),s=n(e),{isValidSuggestion:c,value:d}=s.root,h=t===d;(0,i.useEffect)(()=>{var e;h&&"keyboard"===o.current&&(null==(e=null==l?void 0:l.current)||e.scrollIntoView({behavior:"smooth",block:"center"}))},[h,o]),(0,i.useEffect)(()=>{"string"!=typeof d&&console.warn("wow"),"string"!=typeof d&&(0,_.o8)(e.getValue)&&console.error("You must define the `getValue` prop, when an Item's value is not a string")},[]);let{children:x,dangerouslySetInnerHTML:m,...g}=s.item,f=(0,w.CE)(g,["groupId"]);return c?z.jsx(p.k,{ref:a,...ee,...f,children:x||z.jsx("span",{dangerouslySetInnerHTML:m})}):null});Q.displayName="AutoCompleteItem";let ee={mx:"2",px:"2",py:"2",rounded:"md",cursor:"pointer"},er=(0,s.G)((e,r)=>{let{children:t,showDivider:i,...n}=e,o=(0,w.CE)(n,["groupSibling"]),{getGroupProps:l}=L(),{group:a}=l(e),s=en(e);return z.jsxs(h.xu,{ref:r,...a,...o,children:[z.jsx(x.i,{...s.top}),t,z.jsx(x.i,{...s.bottom})]})}),et=(0,s.G)((e,r)=>z.jsx(p.k,{...ei,...e,ref:r}));er.displayName="AutoCompleteGroup",et.displayName="AutoCompleteGroupTitle";let ei={ml:5,my:1,fontSize:"xs",letterSpacing:"wider",fontWeight:"extrabold",textTransform:"uppercase"},en=e=>{let{getGroupProps:r}=L(),t=e.groupSibling,{divider:{hasFirstChild:i,hasLastChild:n}}=r(e),o={my:2,borderColor:e.dividerColor},l={...o,mb:4,display:!e.showDivider||i?"none":""},a={...o,display:!e.showDivider||n||t?"none":""};return{top:l,bottom:a}},eo=(0,s.G)((e,r)=>{let{isLoading:t}=L(),{loadingIcon:i,...n}=e;return z.jsxs(m.B,{children:[z.jsx(g.I,{...n,ref:r}),t&&z.jsx(f.x,{children:i||z.jsx(v.$,{})})]})}),el=(0,s.G)((e,r)=>{let{autoCompleteProps:t,inputRef:n,getInputProps:o,tags:l,setQuery:a}=L(),{children:s,isInvalid:c,hidePlaceholder:d,...p}=e,{value:h}=p;(0,i.useEffect)(()=>{void 0!==h&&("string"==typeof h||h instanceof String)&&a(h)},[h]);let x=(0,j.jC)("Input",e),{wrapper:m,input:g}=o(p,x),{ref:f,...v}=m,y=(0,u.q)(r,n),k=(0,S.Pu)(s,{tags:l});d&&(g={...g,placeholder:Array.isArray(k)&&k.length?void 0:g.placeholder});let _=z.jsx(eo,{isInvalid:c,...g,ref:y}),w=z.jsxs(b.E,{...v,ref:f,children:[k,z.jsx(b.U,{as:eo,...g,ref:y})]});return z.jsx(C.t,{children:t.multiple?w:_})});el.displayName="Input",el.id="Input";var ea=(0,i.createContext)({});function es(){let e=(0,i.useContext)(ea);if(void 0===e)throw Error("useColorMode must be used within a ColorModeProvider");return e}ea.displayName="ColorModeContext";var ec=(...e)=>e.filter(Boolean).join(" ");function ed(e){let r=typeof e;return null!=e&&("object"===r||"function"===r)&&!Array.isArray(e)}function eu(e,...r){return ep(e)?e(...r):e}var ep=e=>"function"==typeof e,eh={exports:{}};eh.exports,function(e,r){var t,i,n,o,l,a,s,c,d,u,p="__lodash_hash_undefined__",h="[object Arguments]",x="[object Function]",m="[object Object]",g=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[h]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v[x]=v["[object Map]"]=v["[object Number]"]=v[m]=v["[object RegExp]"]=v["[object Set]"]=v["[object String]"]=v["[object WeakMap]"]=!1;var j="object"==typeof O&&O&&O.Object===Object&&O,b="object"==typeof self&&self&&self.Object===Object&&self,C=j||b||Function("return this")(),y=r&&!r.nodeType&&r,k=y&&e&&!e.nodeType&&e,_=k&&k.exports===y,w=_&&j.process,S=function(){try{return k&&k.require&&k.require("util").types||w&&w.binding&&w.binding("util")}catch{}}(),A=S&&S.isTypedArray,I=Array.prototype,R=Function.prototype,E=Object.prototype,P=C["__core-js_shared__"],T=R.toString,N=E.hasOwnProperty,M=(a=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"",z=E.toString,D=T.call(Object),L=RegExp("^"+T.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=_?C.Buffer:void 0,B=C.Symbol,F=C.Uint8Array,G=W?W.allocUnsafe:void 0,U=(s=Object.getPrototypeOf,c=Object,function(e){return s(c(e))}),$=Object.create,V=E.propertyIsEnumerable,K=I.splice,Y=B?B.toStringTag:void 0,H=function(){try{var e=ep(Object,"defineProperty");return e({},"",{}),e}catch{}}(),q=W?W.isBuffer:void 0,Z=Math.max,X=Date.now,J=ep(C,"Map"),Q=ep(Object,"create"),ee=function(){function e(){}return function(r){if(!e_(r))return{};if($)return $(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}();function er(e){var r=-1,t=null==e?0:e.length;for(this.clear();++r<t;){var i=e[r];this.set(i[0],i[1])}}function et(e){var r=-1,t=null==e?0:e.length;for(this.clear();++r<t;){var i=e[r];this.set(i[0],i[1])}}function ei(e){var r=-1,t=null==e?0:e.length;for(this.clear();++r<t;){var i=e[r];this.set(i[0],i[1])}}function en(e){var r=this.__data__=new et(e);this.size=r.size}function eo(e,r,t){(void 0===t||ef(e[r],t))&&(void 0!==t||r in e)||ea(e,r,t)}function el(e,r){for(var t=e.length;t--;)if(ef(e[t][0],r))return t;return -1}function ea(e,r,t){"__proto__"==r&&H?H(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}er.prototype.clear=function(){this.__data__=Q?Q(null):{},this.size=0},er.prototype.delete=function(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r},er.prototype.get=function(e){var r=this.__data__;if(Q){var t=r[e];return t===p?void 0:t}return N.call(r,e)?r[e]:void 0},er.prototype.has=function(e){var r=this.__data__;return Q?void 0!==r[e]:N.call(r,e)},er.prototype.set=function(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Q&&void 0===r?p:r,this},et.prototype.clear=function(){this.__data__=[],this.size=0},et.prototype.delete=function(e){var r=this.__data__,t=el(r,e);return!(t<0)&&(t==r.length-1?r.pop():K.call(r,t,1),--this.size,!0)},et.prototype.get=function(e){var r=this.__data__,t=el(r,e);return t<0?void 0:r[t][1]},et.prototype.has=function(e){return el(this.__data__,e)>-1},et.prototype.set=function(e,r){var t=this.__data__,i=el(t,e);return i<0?(++this.size,t.push([e,r])):t[i][1]=r,this},ei.prototype.clear=function(){this.size=0,this.__data__={hash:new er,map:new(J||et),string:new er}},ei.prototype.delete=function(e){var r=eu(this,e).delete(e);return this.size-=r?1:0,r},ei.prototype.get=function(e){return eu(this,e).get(e)},ei.prototype.has=function(e){return eu(this,e).has(e)},ei.prototype.set=function(e,r){var t=eu(this,e),i=t.size;return t.set(e,r),this.size+=t.size==i?0:1,this},en.prototype.clear=function(){this.__data__=new et,this.size=0},en.prototype.delete=function(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t},en.prototype.get=function(e){return this.__data__.get(e)},en.prototype.has=function(e){return this.__data__.has(e)},en.prototype.set=function(e,r){var t=this.__data__;if(t instanceof et){var i=t.__data__;if(!J||i.length<199)return i.push([e,r]),this.size=++t.size,this;t=this.__data__=new ei(i)}return t.set(e,r),this.size=t.size,this};var es=function(e,r,t){for(var i=-1,n=Object(e),o=t(e),l=o.length;l--;){var a=o[++i];if(!1===r(n[a],a,n))break}return e};function ec(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Y&&Y in Object(e)?function(e){var r=N.call(e,Y),t=e[Y];try{e[Y]=void 0;var i=!0}catch{}var n=z.call(e);return i&&(r?e[Y]=t:delete e[Y]),n}(e):z.call(e)}function ed(e){return ew(e)&&ec(e)==h}function eu(e,r){var t,i=e.__data__;return("string"==(t=typeof r)||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==r:null===r)?i["string"==typeof r?"string":"hash"]:i.map}function ep(e,r){var t=null==e?void 0:e[r];return!(!e_(t)||M&&M in t)&&(ey(t)?L:g).test(function(e){if(null!=e){try{return T.call(e)}catch{}try{return e+""}catch{}}return""}(t))?t:void 0}function eh(e,r){var t=typeof e;return!!(r=r??9007199254740991)&&("number"==t||"symbol"!=t&&f.test(e))&&e>-1&&e%1==0&&e<r}function ex(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||E)}function em(e,r){if(!("constructor"===r&&"function"==typeof e[r])&&"__proto__"!=r)return e[r]}var eg=(t=H?function(e,r){return H(e,"toString",{configurable:!0,enumerable:!1,value:function(){return r},writable:!0})}:eR,i=0,n=0,function(){var e=X(),r=16-(e-n);if(n=e,r>0){if(++i>=800)return arguments[0]}else i=0;return t.apply(void 0,arguments)});function ef(e,r){return e===r||e!=e&&r!=r}var ev=ed(function(){return arguments}())?ed:function(e){return ew(e)&&N.call(e,"callee")&&!V.call(e,"callee")},ej=Array.isArray;function eb(e){return null!=e&&ek(e.length)&&!ey(e)}var eC=q||function(){return!1};function ey(e){if(!e_(e))return!1;var r=ec(e);return r==x||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r}function ek(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function e_(e){var r=typeof e;return null!=e&&("object"==r||"function"==r)}function ew(e){return null!=e&&"object"==typeof e}var eS=A?function(e){return A(e)}:function(e){return ew(e)&&ek(e.length)&&!!v[ec(e)]};function eA(e){return eb(e)?function(e,r){var t=ej(e),i=!t&&ev(e),n=!t&&!i&&eC(e),o=!t&&!i&&!n&&eS(e),l=t||i||n||o,a=l?function(e,r){for(var t=-1,i=Array(e);++t<e;)i[t]=r(t);return i}(e.length,String):[],s=a.length;for(var c in e)(r||N.call(e,c))&&!(l&&("length"==c||n&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||eh(c,s)))&&a.push(c);return a}(e,!0):function(e){if(!e_(e))return function(e){var r=[];if(null!=e)for(var t in Object(e))r.push(t);return r}(e);var r=ex(e),t=[];for(var i in e)"constructor"==i&&(r||!N.call(e,i))||t.push(i);return t}(e)}var eI=(d=function(e,r,t,i){!function e(r,t,i,n,o){r!==t&&es(t,function(l,a){if(o||(o=new en),e_(l))(function(e,r,t,i,n,o,l){var a=em(e,t),s=em(r,t),c=l.get(s);if(c){eo(e,t,c);return}var d=o?o(a,s,t+"",e,r,l):void 0,u=void 0===d;if(u){var p,h,x=ej(s),g=!x&&eC(s),f=!x&&!g&&eS(s);d=s,x||g||f?ej(a)?d=a:ew(a)&&eb(a)?d=function(e,r){var t=-1,i=e.length;for(r||(r=Array(i));++t<i;)r[t]=e[t];return r}(a):g?(u=!1,d=function(e,r){if(r)return e.slice();var t=e.length,i=G?G(t):new e.constructor(t);return e.copy(i),i}(s,!0)):f?(u=!1,h=new(p=s.buffer).constructor(p.byteLength),new F(h).set(new F(p)),d=new s.constructor(h,s.byteOffset,s.length)):d=[]:function(e){if(!ew(e)||ec(e)!=m)return!1;var r=U(e);if(null===r)return!0;var t=N.call(r,"constructor")&&r.constructor;return"function"==typeof t&&t instanceof t&&T.call(t)==D}(s)||ev(s)?(d=a,ev(a)?d=function(e,r,t,i){var n=!t;t||(t={});for(var o=-1,l=r.length;++o<l;){var a=r[o],s=i?i(t[a],e[a],a,t,e):void 0;void 0===s&&(s=e[a]),n?ea(t,a,s):function(e,r,t){var i=e[r];N.call(e,r)&&ef(i,t)&&(void 0!==t||r in e)||ea(e,r,t)}(t,a,s)}return t}(a,eA(a)):(!e_(a)||ey(a))&&(d="function"!=typeof s.constructor||ex(s)?{}:ee(U(s)))):u=!1}u&&(l.set(s,d),n(d,s,i,o,l),l.delete(s)),eo(e,t,d)})(r,t,a,i,e,n,o);else{var s=n?n(em(r,a),l,a+"",r,t,o):void 0;void 0===s&&(s=l),eo(r,a,s)}},eA)}(e,r,t,i)},eg((o=u=function(e,r){var t=-1,i=r.length,n=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(n=d.length>3&&"function"==typeof n?(i--,n):void 0,o&&function(e,r,t){if(!e_(t))return!1;var i=typeof r;return("number"==i?!!(eb(t)&&eh(r,t.length)):"string"==i&&(r in t))&&ef(t[r],e)}(r[0],r[1],o)&&(n=i<3?void 0:n,i=1),e=Object(e);++t<i;){var l=r[t];l&&d(e,l,t,n)}return e},l=Z((l=void 0,o.length-1),0),function(){for(var e=arguments,r=-1,t=Z(e.length-l,0),i=Array(t);++r<t;)i[r]=e[l+r];r=-1;for(var n=Array(l+1);++r<l;)n[r]=e[r];return n[l]=eR(i),function(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}(o,this,n)}),u+""));function eR(e){return e}e.exports=eI}(eh,eh.exports);var ex=eh.exports;let em=T(ex);var eg=e=>/!(important)?$/.test(e),ef=e=>"string"==typeof e?e.replace(/!(important)?$/,"").trim():e,ev=(e,r)=>t=>{let i=String(r),n=eg(i),o=ef(i),l=e?`${e}.${o}`:o,a=ed(t.__cssMap)&&l in t.__cssMap?t.__cssMap[l].varRef:r;return a=ef(a),n?`${a} !important`:a};function ej(e){let{scale:r,transform:t,compose:i}=e;return(e,n)=>{var o;let l=ev(r,e)(n),a=null!=(o=null==t?void 0:t(l,n))?o:l;return i&&(a=i(a,n)),a}}var eb=(...e)=>r=>e.reduce((e,r)=>r(e),r);function eC(e,r){return t=>{let i={property:t,scale:e};return i.transform=ej({scale:e,transform:r}),i}}var ey=({rtl:e,ltr:r})=>t=>"rtl"===t.direction?e:r,ek=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"],e_={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:"var(--chakra-blur) var(--chakra-brightness) var(--chakra-contrast) var(--chakra-grayscale) var(--chakra-hue-rotate) var(--chakra-invert) var(--chakra-saturate) var(--chakra-sepia) var(--chakra-drop-shadow)"},ew={backdropFilter:"var(--chakra-backdrop-blur) var(--chakra-backdrop-brightness) var(--chakra-backdrop-contrast) var(--chakra-backdrop-grayscale) var(--chakra-backdrop-hue-rotate) var(--chakra-backdrop-invert) var(--chakra-backdrop-opacity) var(--chakra-backdrop-saturate) var(--chakra-backdrop-sepia)","--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"},eS={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},eA={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},eI=new Set(Object.values(eA)),eR=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),eE=e=>e.trim(),eP=e=>"string"==typeof e&&e.includes("(")&&e.includes(")"),eO=e=>{let r=parseFloat(e.toString()),t=e.toString().replace(String(r),"");return{unitless:!t,value:r,unit:t}},eT=e=>r=>`${e}(${r})`,eN={filter:e=>"auto"!==e?e:e_,backdropFilter:e=>"auto"!==e?e:ew,ring:e=>({"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":eN.px(e),boxShadow:"var(--chakra-ring-offset-shadow), var(--chakra-ring-shadow), var(--chakra-shadow, 0 0 #0000)"}),bgClip:e=>"text"===e?{color:"transparent",backgroundClip:"text"}:{backgroundClip:e},transform:e=>"auto"===e?["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...ek].join(" "):"auto-gpu"===e?["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...ek].join(" "):e,vh:e=>"$100vh"===e?"var(--chakra-vh)":e,px(e){if(null==e)return e;let{unitless:r}=eO(e);return r||"number"==typeof e?`${e}px`:e},fraction:e=>"number"!=typeof e||e>1?e:`${100*e}%`,float:(e,r)=>"rtl"===r.direction?({left:"right",right:"left"})[e]:e,degree(e){if(/^var\(--.+\)$/.test(e)||null==e)return e;let r="string"==typeof e&&!e.endsWith("deg");return"number"==typeof e||r?`${e}deg`:e},gradient:(e,r)=>(function(e,r){if(null==e||eR.has(e))return e;if(!(eP(e)||eR.has(e)))return`url('${e}')`;let t=/(^[a-z-A-Z]+)\((.*)\)/g.exec(e),i=null==t?void 0:t[1],n=null==t?void 0:t[2];if(!i||!n)return e;let o=i.includes("-gradient")?i:`${i}-gradient`,[l,...a]=n.split(",").map(eE).filter(Boolean);if((null==a?void 0:a.length)===0)return e;let s=l in eA?eA[l]:l;a.unshift(s);let c=a.map(e=>{if(eI.has(e))return e;let t=e.indexOf(" "),[i,n]=-1!==t?[e.substr(0,t),e.substr(t+1)]:[e],o=eP(n)?n:n&&n.split(" "),l=`colors.${i}`,a=l in r.__cssMap?r.__cssMap[l].varRef:i;return o?[a,...Array.isArray(o)?o:[o]].join(" "):a});return`${o}(${c.join(", ")})`})(e,r??{}),blur:eT("blur"),opacity:eT("opacity"),brightness:eT("brightness"),contrast:eT("contrast"),dropShadow:eT("drop-shadow"),grayscale:eT("grayscale"),hueRotate:eT("hue-rotate"),invert:eT("invert"),saturate:eT("saturate"),sepia:eT("sepia"),bgImage:e=>null==e||eP(e)||eR.has(e)?e:`url(${e})`,outline(e){let r="0"===String(e)||"none"===String(e);return null!==e&&r?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:e}},flexDirection(e){var r;let{space:t,divide:i}=null!=(r=eS[e])?r:{},n={flexDirection:e};return t&&(n[t]=1),i&&(n[i]=1),n}},eM={borderWidths:eC("borderWidths"),borderStyles:eC("borderStyles"),colors:eC("colors"),borders:eC("borders"),gradients:eC("gradients",eN.gradient),radii:eC("radii",eN.px),space:eC("space",eb(eN.vh,eN.px)),spaceT:eC("space",eb(eN.vh,eN.px)),degreeT:e=>({property:e,transform:eN.degree}),prop:(e,r,t)=>({property:e,scale:r,...r&&{transform:ej({scale:r,transform:t})}}),propT:(e,r)=>({property:e,transform:r}),sizes:eC("sizes",eb(eN.vh,eN.px)),sizesT:eC("sizes",eb(eN.vh,eN.fraction)),shadows:eC("shadows"),logical:function(e){let{property:r,scale:t,transform:i}=e;return{scale:t,property:ey(r),transform:t?ej({scale:t,compose:i}):i}},blur:eC("blur",eN.blur)},ez={background:eM.colors("background"),backgroundColor:eM.colors("backgroundColor"),backgroundImage:eM.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:eN.bgClip},bgSize:eM.prop("backgroundSize"),bgPosition:eM.prop("backgroundPosition"),bg:eM.colors("background"),bgColor:eM.colors("backgroundColor"),bgPos:eM.prop("backgroundPosition"),bgRepeat:eM.prop("backgroundRepeat"),bgAttachment:eM.prop("backgroundAttachment"),bgGradient:eM.gradients("backgroundImage"),bgClip:{transform:eN.bgClip}};Object.assign(ez,{bgImage:ez.backgroundImage,bgImg:ez.backgroundImage});var eD={border:eM.borders("border"),borderWidth:eM.borderWidths("borderWidth"),borderStyle:eM.borderStyles("borderStyle"),borderColor:eM.colors("borderColor"),borderRadius:eM.radii("borderRadius"),borderTop:eM.borders("borderTop"),borderBlockStart:eM.borders("borderBlockStart"),borderTopLeftRadius:eM.radii("borderTopLeftRadius"),borderStartStartRadius:eM.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:eM.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:eM.radii("borderTopRightRadius"),borderStartEndRadius:eM.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:eM.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:eM.borders("borderRight"),borderInlineEnd:eM.borders("borderInlineEnd"),borderBottom:eM.borders("borderBottom"),borderBlockEnd:eM.borders("borderBlockEnd"),borderBottomLeftRadius:eM.radii("borderBottomLeftRadius"),borderBottomRightRadius:eM.radii("borderBottomRightRadius"),borderLeft:eM.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:eM.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:eM.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:eM.borders(["borderLeft","borderRight"]),borderInline:eM.borders("borderInline"),borderY:eM.borders(["borderTop","borderBottom"]),borderBlock:eM.borders("borderBlock"),borderTopWidth:eM.borderWidths("borderTopWidth"),borderBlockStartWidth:eM.borderWidths("borderBlockStartWidth"),borderTopColor:eM.colors("borderTopColor"),borderBlockStartColor:eM.colors("borderBlockStartColor"),borderTopStyle:eM.borderStyles("borderTopStyle"),borderBlockStartStyle:eM.borderStyles("borderBlockStartStyle"),borderBottomWidth:eM.borderWidths("borderBottomWidth"),borderBlockEndWidth:eM.borderWidths("borderBlockEndWidth"),borderBottomColor:eM.colors("borderBottomColor"),borderBlockEndColor:eM.colors("borderBlockEndColor"),borderBottomStyle:eM.borderStyles("borderBottomStyle"),borderBlockEndStyle:eM.borderStyles("borderBlockEndStyle"),borderLeftWidth:eM.borderWidths("borderLeftWidth"),borderInlineStartWidth:eM.borderWidths("borderInlineStartWidth"),borderLeftColor:eM.colors("borderLeftColor"),borderInlineStartColor:eM.colors("borderInlineStartColor"),borderLeftStyle:eM.borderStyles("borderLeftStyle"),borderInlineStartStyle:eM.borderStyles("borderInlineStartStyle"),borderRightWidth:eM.borderWidths("borderRightWidth"),borderInlineEndWidth:eM.borderWidths("borderInlineEndWidth"),borderRightColor:eM.colors("borderRightColor"),borderInlineEndColor:eM.colors("borderInlineEndColor"),borderRightStyle:eM.borderStyles("borderRightStyle"),borderInlineEndStyle:eM.borderStyles("borderInlineEndStyle"),borderTopRadius:eM.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:eM.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:eM.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:eM.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(eD,{rounded:eD.borderRadius,roundedTop:eD.borderTopRadius,roundedTopLeft:eD.borderTopLeftRadius,roundedTopRight:eD.borderTopRightRadius,roundedTopStart:eD.borderStartStartRadius,roundedTopEnd:eD.borderStartEndRadius,roundedBottom:eD.borderBottomRadius,roundedBottomLeft:eD.borderBottomLeftRadius,roundedBottomRight:eD.borderBottomRightRadius,roundedBottomStart:eD.borderEndStartRadius,roundedBottomEnd:eD.borderEndEndRadius,roundedLeft:eD.borderLeftRadius,roundedRight:eD.borderRightRadius,roundedStart:eD.borderInlineStartRadius,roundedEnd:eD.borderInlineEndRadius,borderStart:eD.borderInlineStart,borderEnd:eD.borderInlineEnd,borderTopStartRadius:eD.borderStartStartRadius,borderTopEndRadius:eD.borderStartEndRadius,borderBottomStartRadius:eD.borderEndStartRadius,borderBottomEndRadius:eD.borderEndEndRadius,borderStartRadius:eD.borderInlineStartRadius,borderEndRadius:eD.borderInlineEndRadius,borderStartWidth:eD.borderInlineStartWidth,borderEndWidth:eD.borderInlineEndWidth,borderStartColor:eD.borderInlineStartColor,borderEndColor:eD.borderInlineEndColor,borderStartStyle:eD.borderInlineStartStyle,borderEndStyle:eD.borderInlineEndStyle});var eL={color:eM.colors("color"),textColor:eM.colors("color"),fill:eM.colors("fill"),stroke:eM.colors("stroke")},eW={boxShadow:eM.shadows("boxShadow"),mixBlendMode:!0,blendMode:eM.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:eM.prop("backgroundBlendMode"),opacity:!0};Object.assign(eW,{shadow:eW.boxShadow});var eB={filter:{transform:eN.filter},blur:eM.blur("--chakra-blur"),brightness:eM.propT("--chakra-brightness",eN.brightness),contrast:eM.propT("--chakra-contrast",eN.contrast),hueRotate:eM.degreeT("--chakra-hue-rotate"),invert:eM.propT("--chakra-invert",eN.invert),saturate:eM.propT("--chakra-saturate",eN.saturate),dropShadow:eM.propT("--chakra-drop-shadow",eN.dropShadow),backdropFilter:{transform:eN.backdropFilter},backdropBlur:eM.blur("--chakra-backdrop-blur"),backdropBrightness:eM.propT("--chakra-backdrop-brightness",eN.brightness),backdropContrast:eM.propT("--chakra-backdrop-contrast",eN.contrast),backdropHueRotate:eM.degreeT("--chakra-backdrop-hue-rotate"),backdropInvert:eM.propT("--chakra-backdrop-invert",eN.invert),backdropSaturate:eM.propT("--chakra-backdrop-saturate",eN.saturate)},eF={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:eN.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:eM.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:eM.space("gap"),rowGap:eM.space("rowGap"),columnGap:eM.space("columnGap")};Object.assign(eF,{flexDir:eF.flexDirection});var eG={gridGap:eM.space("gridGap"),gridColumnGap:eM.space("gridColumnGap"),gridRowGap:eM.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},eU={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:eN.outline},outlineOffset:!0,outlineColor:eM.colors("outlineColor")},e$={width:eM.sizesT("width"),inlineSize:eM.sizesT("inlineSize"),height:eM.sizes("height"),blockSize:eM.sizes("blockSize"),boxSize:eM.sizes(["width","height"]),minWidth:eM.sizes("minWidth"),minInlineSize:eM.sizes("minInlineSize"),minHeight:eM.sizes("minHeight"),minBlockSize:eM.sizes("minBlockSize"),maxWidth:eM.sizes("maxWidth"),maxInlineSize:eM.sizes("maxInlineSize"),maxHeight:eM.sizes("maxHeight"),maxBlockSize:eM.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(e,r)=>{var t,i,n;return{[`@media screen and (min-width: ${null!=(n=null==(i=null==(t=r.__breakpoints)?void 0:t.get(e))?void 0:i.minW)?n:e})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(e,r)=>{var t,i,n;return{[`@media screen and (max-width: ${null!=(n=null==(i=null==(t=r.__breakpoints)?void 0:t.get(e))?void 0:i._minW)?n:e})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:eM.propT("float",eN.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(e$,{w:e$.width,h:e$.height,minW:e$.minWidth,maxW:e$.maxWidth,minH:e$.minHeight,maxH:e$.maxHeight,overscroll:e$.overscrollBehavior,overscrollX:e$.overscrollBehaviorX,overscrollY:e$.overscrollBehaviorY});var eV={listStyleType:!0,listStylePosition:!0,listStylePos:eM.prop("listStylePosition"),listStyleImage:!0,listStyleImg:eM.prop("listStyleImage")},eK=(e=>{let r=new WeakMap;return(t,i,n,o)=>{if(typeof t>"u")return e(t,i,n);r.has(t)||r.set(t,new Map);let l=r.get(t);if(l.has(i))return l.get(i);let a=e(t,i,n,o);return l.set(i,a),a}})(function(e,r,t,i){let n="string"==typeof r?r.split("."):[r];for(i=0;i<n.length&&e;i+=1)e=e[n[i]];return void 0===e?t:e}),eY={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},eH={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},eq=(e,r,t)=>{let i={},n=eK(e,r,{});for(let e in n)e in t&&null!=t[e]||(i[e]=n[e]);return i},eZ={position:!0,pos:eM.prop("position"),zIndex:eM.prop("zIndex","zIndices"),inset:eM.spaceT("inset"),insetX:eM.spaceT(["left","right"]),insetInline:eM.spaceT("insetInline"),insetY:eM.spaceT(["top","bottom"]),insetBlock:eM.spaceT("insetBlock"),top:eM.spaceT("top"),insetBlockStart:eM.spaceT("insetBlockStart"),bottom:eM.spaceT("bottom"),insetBlockEnd:eM.spaceT("insetBlockEnd"),left:eM.spaceT("left"),insetInlineStart:eM.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:eM.spaceT("right"),insetInlineEnd:eM.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(eZ,{insetStart:eZ.insetInlineStart,insetEnd:eZ.insetInlineEnd});var eX={ring:{transform:eN.ring},ringColor:eM.colors("--chakra-ring-color"),ringOffset:eM.prop("--chakra-ring-offset-width"),ringOffsetColor:eM.colors("--chakra-ring-offset-color"),ringInset:eM.prop("--chakra-ring-inset")},eJ={margin:eM.spaceT("margin"),marginTop:eM.spaceT("marginTop"),marginBlockStart:eM.spaceT("marginBlockStart"),marginRight:eM.spaceT("marginRight"),marginInlineEnd:eM.spaceT("marginInlineEnd"),marginBottom:eM.spaceT("marginBottom"),marginBlockEnd:eM.spaceT("marginBlockEnd"),marginLeft:eM.spaceT("marginLeft"),marginInlineStart:eM.spaceT("marginInlineStart"),marginX:eM.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:eM.spaceT("marginInline"),marginY:eM.spaceT(["marginTop","marginBottom"]),marginBlock:eM.spaceT("marginBlock"),padding:eM.space("padding"),paddingTop:eM.space("paddingTop"),paddingBlockStart:eM.space("paddingBlockStart"),paddingRight:eM.space("paddingRight"),paddingBottom:eM.space("paddingBottom"),paddingBlockEnd:eM.space("paddingBlockEnd"),paddingLeft:eM.space("paddingLeft"),paddingInlineStart:eM.space("paddingInlineStart"),paddingInlineEnd:eM.space("paddingInlineEnd"),paddingX:eM.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:eM.space("paddingInline"),paddingY:eM.space(["paddingTop","paddingBottom"]),paddingBlock:eM.space("paddingBlock")};Object.assign(eJ,{m:eJ.margin,mt:eJ.marginTop,mr:eJ.marginRight,me:eJ.marginInlineEnd,marginEnd:eJ.marginInlineEnd,mb:eJ.marginBottom,ml:eJ.marginLeft,ms:eJ.marginInlineStart,marginStart:eJ.marginInlineStart,mx:eJ.marginX,my:eJ.marginY,p:eJ.padding,pt:eJ.paddingTop,py:eJ.paddingY,px:eJ.paddingX,pb:eJ.paddingBottom,pl:eJ.paddingLeft,ps:eJ.paddingInlineStart,paddingStart:eJ.paddingInlineStart,pr:eJ.paddingRight,pe:eJ.paddingInlineEnd,paddingEnd:eJ.paddingInlineEnd});var eQ={textDecorationColor:eM.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:eM.shadows("textShadow")},e0={clipPath:!0,transform:eM.propT("transform",eN.transform),transformOrigin:!0,translateX:eM.spaceT("--chakra-translate-x"),translateY:eM.spaceT("--chakra-translate-y"),skewX:eM.degreeT("--chakra-skew-x"),skewY:eM.degreeT("--chakra-skew-y"),scaleX:eM.prop("--chakra-scale-x"),scaleY:eM.prop("--chakra-scale-y"),scale:eM.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:eM.degreeT("--chakra-rotate")},e1={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:eM.prop("transitionDuration","transition.duration"),transitionProperty:eM.prop("transitionProperty","transition.property"),transitionTimingFunction:eM.prop("transitionTimingFunction","transition.easing")},e2={fontFamily:eM.prop("fontFamily","fonts"),fontSize:eM.prop("fontSize","fontSizes",eN.px),fontWeight:eM.prop("fontWeight","fontWeights"),lineHeight:eM.prop("lineHeight","lineHeights"),letterSpacing:eM.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(e){if(!0===e)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},e5={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:eM.spaceT("scrollMargin"),scrollMarginTop:eM.spaceT("scrollMarginTop"),scrollMarginBottom:eM.spaceT("scrollMarginBottom"),scrollMarginLeft:eM.spaceT("scrollMarginLeft"),scrollMarginRight:eM.spaceT("scrollMarginRight"),scrollMarginX:eM.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:eM.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:eM.spaceT("scrollPadding"),scrollPaddingTop:eM.spaceT("scrollPaddingTop"),scrollPaddingBottom:eM.spaceT("scrollPaddingBottom"),scrollPaddingLeft:eM.spaceT("scrollPaddingLeft"),scrollPaddingRight:eM.spaceT("scrollPaddingRight"),scrollPaddingX:eM.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:eM.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function e3(e){return ed(e)&&e.reference?e.reference:String(e)}var e4=(e,...r)=>r.map(e3).join(` ${e} `).replace(/calc/g,""),e9=(...e)=>`calc(${e4("+",...e)})`,e8=(...e)=>`calc(${e4("-",...e)})`,e6=(...e)=>`calc(${e4("*",...e)})`,e7=(...e)=>`calc(${e4("/",...e)})`,re=e=>{let r=e3(e);return null==r||Number.isNaN(parseFloat(r))?e6(r,-1):String(r).startsWith("-")?String(r).slice(1):`-${r}`},rr=Object.assign(e=>({add:(...r)=>rr(e9(e,...r)),subtract:(...r)=>rr(e8(e,...r)),multiply:(...r)=>rr(e6(e,...r)),divide:(...r)=>rr(e7(e,...r)),negate:()=>rr(re(e)),toString:()=>e.toString()}),{add:e9,subtract:e8,multiply:e6,divide:e7,negate:re});function rt(e){if(null==e)return e;let{unitless:r}=function(e){let r=parseFloat(e.toString()),t=e.toString().replace(String(r),"");return{unitless:!t,value:r,unit:t}}(e);return r||"number"==typeof e?`${e}px`:e}var ri={hover:(e,r)=>`${e}:hover ${r}, ${e}[data-hover] ${r}`,focus:(e,r)=>`${e}:focus ${r}, ${e}[data-focus] ${r}`,focusVisible:(e,r)=>`${e}:focus-visible ${r}`,focusWithin:(e,r)=>`${e}:focus-within ${r}`,active:(e,r)=>`${e}:active ${r}, ${e}[data-active] ${r}`,disabled:(e,r)=>`${e}:disabled ${r}, ${e}[data-disabled] ${r}`,invalid:(e,r)=>`${e}:invalid ${r}, ${e}[data-invalid] ${r}`,checked:(e,r)=>`${e}:checked ${r}, ${e}[data-checked] ${r}`,placeholderShown:(e,r)=>`${e}:placeholder-shown ${r}`},rn=e=>rl(r=>e(r,"&"),"[role=group]","[data-group]",".group"),ro=e=>rl(r=>e(r,"~ &"),"[data-peer]",".peer"),rl=(e,...r)=>r.map(e).join(", "),ra={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:rn(ri.hover),_peerHover:ro(ri.hover),_groupFocus:rn(ri.focus),_peerFocus:ro(ri.focus),_groupFocusVisible:rn(ri.focusVisible),_peerFocusVisible:ro(ri.focusVisible),_groupActive:rn(ri.active),_peerActive:ro(ri.active),_groupDisabled:rn(ri.disabled),_peerDisabled:ro(ri.disabled),_groupInvalid:rn(ri.invalid),_peerInvalid:ro(ri.invalid),_groupChecked:rn(ri.checked),_peerChecked:ro(ri.checked),_groupFocusWithin:rn(ri.focusWithin),_peerFocusWithin:ro(ri.focusWithin),_peerPlaceholderShown:ro(ri.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},rs=Object.keys(ra),rc=em({},ez,eD,eL,eF,e$,eB,eX,eU,eG,{srOnly:{transform:e=>!0===e?eY:"focusable"===e?eH:{}},layerStyle:{processResult:!0,transform:(e,r,t)=>eq(r,`layerStyles.${e}`,t)},textStyle:{processResult:!0,transform:(e,r,t)=>eq(r,`textStyles.${e}`,t)},apply:{processResult:!0,transform:(e,r,t)=>eq(r,e,t)}},eZ,eW,eJ,e5,e2,eQ,e0,eV,e1);Object.assign({},eJ,e$,eF,eG,eZ);var rd=[...Object.keys(rc),...rs],ru={...rc,...ra},rp=e=>e in ru,rh=e=>r=>{if(!r.__breakpoints)return e;let{isResponsive:t,toArrayValue:i,media:n}=r.__breakpoints,o={};for(let l in e){let a=eu(e[l],r);if(null==a)continue;if(!Array.isArray(a=ed(a)&&t(a)?i(a):a)){o[l]=a;continue}let s=a.slice(0,n.length).length;for(let e=0;e<s;e+=1){let r=null==n?void 0:n[e];if(!r){o[l]=a[e];continue}o[r]=o[r]||{},null!=a[e]&&(o[r][l]=a[e])}}return o},rx=(e,r)=>e.startsWith("--")&&"string"==typeof r&&!/^var\(--.+\)$/.test(r),rm=(e,r)=>{var t,i;if(null==r)return r;let n=r=>{var t,i;return null==(i=null==(t=e.__cssMap)?void 0:t[r])?void 0:i.varRef},o=e=>{var r;return null!=(r=n(e))?r:e},[l,a]=function(e){let r=[],t="",i=!1;for(let n=0;n<e.length;n++){let o=e[n];"("===o?(i=!0,t+=o):")"===o?(i=!1,t+=o):","!==o||i?t+=o:(r.push(t),t="")}return(t=t.trim())&&r.push(t),r}(r);return r=null!=(i=null!=(t=n(l))?t:o(a))?i:o(r)},rg=e=>r=>(function(e){let{configs:r={},pseudos:t={},theme:i}=e,n=(e,o=!1)=>{var l,a,s;let c=eu(e,i),d=rh(c)(i),u={};for(let e in d){let p=d[e],h=eu(p,i);e in t&&(e=t[e]),rx(e,h)&&(h=rm(i,h));let x=r[e];if(!0===x&&(x={property:e}),ed(h)){u[e]=null!=(l=u[e])?l:{},u[e]=em({},u[e],n(h,!0));continue}let m=null!=(s=null==(a=null==x?void 0:x.transform)?void 0:a.call(x,h,i,c))?s:h;m=null!=x&&x.processResult?n(m,!0):m;let g=eu(null==x?void 0:x.property,i);if(!o&&null!=x&&x.static){let e=eu(x.static,i);u=em({},u,e)}if(g&&Array.isArray(g)){for(let e of g)u[e]=m;continue}if(g){"&"===g&&ed(m)?u=em({},u,m):u[g]=m;continue}if(ed(m)){u=em({},u,m);continue}u[e]=m}return u};return n})({theme:r,pseudos:ra,configs:rc})(e),rf="u">typeof Element,rv="function"==typeof Map,rj="function"==typeof Set,rb="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;let rC=T(function(e,r){try{return function e(r,t){if(r===t)return!0;if(r&&t&&"object"==typeof r&&"object"==typeof t){var i,n,o,l;if(r.constructor!==t.constructor)return!1;if(Array.isArray(r)){if((i=r.length)!=t.length)return!1;for(n=i;0!=n--;)if(!e(r[n],t[n]))return!1;return!0}if(rv&&r instanceof Map&&t instanceof Map){if(r.size!==t.size)return!1;for(l=r.entries();!(n=l.next()).done;)if(!t.has(n.value[0]))return!1;for(l=r.entries();!(n=l.next()).done;)if(!e(n.value[1],t.get(n.value[0])))return!1;return!0}if(rj&&r instanceof Set&&t instanceof Set){if(r.size!==t.size)return!1;for(l=r.entries();!(n=l.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(rb&&ArrayBuffer.isView(r)&&ArrayBuffer.isView(t)){if((i=r.length)!=t.length)return!1;for(n=i;0!=n--;)if(r[n]!==t[n])return!1;return!0}if(r.constructor===RegExp)return r.source===t.source&&r.flags===t.flags;if(r.valueOf!==Object.prototype.valueOf&&"function"==typeof r.valueOf&&"function"==typeof t.valueOf)return r.valueOf()===t.valueOf();if(r.toString!==Object.prototype.toString&&"function"==typeof r.toString&&"function"==typeof t.toString)return r.toString()===t.toString();if((i=(o=Object.keys(r)).length)!==Object.keys(t).length)return!1;for(n=i;0!=n--;)if(!Object.prototype.hasOwnProperty.call(t,o[n]))return!1;if(rf&&r instanceof Element)return!1;for(n=i;0!=n--;)if(!(("_owner"===o[n]||"__v"===o[n]||"__o"===o[n])&&r.$$typeof)&&!e(r[o[n]],t[o[n]]))return!1;return!0}return r!=r&&t!=t}(e,r)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}});function ry(e,r={}){var t;let{styleConfig:n,...o}=r,{theme:l,colorMode:a}=function(){let e=es(),r=function(){let e=(0,i.useContext)(P.T);if(!e)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return e}();return{...e,theme:r}}(),s=e?(0,w.Wf)(l,`components.${e}`):void 0,c=n||s,d=R()({theme:l,colorMode:a},null!=(t=null==c?void 0:c.defaultProps)?t:{},(0,w.YU)((0,w.CE)(o,["children"]))),u=(0,i.useRef)({});if(c){let e=(e=>{var r;let{variant:t,size:i,theme:n}=e,o=function(e){let r=e.__breakpoints;return function(e,t,i,n){var o,l,a;if(!r)return;let s={},c=(a=r.toArrayValue,Array.isArray(i)?i:ed(i)?a(i):null!=i?[i]:void 0);if(!c)return s;let d=c.length,u=1===d,p=!!e.parts;for(let i=0;i<d;i++){let a=r.details[i],d=r.details[function(e,r){for(let t=r+1;t<e.length;t++)if(null!=e[t])return t;return -1}(c,i)],h=function(e,r){let t=["@media screen"];return e&&t.push("and",`(min-width: ${rt(e)})`),r&&t.push("and",`(max-width: ${rt(r)})`),t.join(" ")}(a.minW,null==d?void 0:d._minW),x=eu(null==(o=e[t])?void 0:o[c[i]],n);if(x){if(p){null==(l=e.parts)||l.forEach(e=>{em(s,{[e]:u?x[e]:{[h]:x[e]}})});continue}if(!p){u?em(s,x):s[h]=x;continue}s[h]=x}}return s}}(n);return em({},eu(null!=(r=c.baseStyle)?r:{},e),o(c,"sizes",i,e),o(c,"variants",t,e))})(d);rC(u.current,e)||(u.current=e)}return u.current}var rk=new Set([...rd,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),r_=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function rw(e){return r_.has(e)||!rk.has(e)}var rS,rA,rI=null!=(rA=E.Z.default)?rA:E.Z,rR=({baseStyle:e})=>r=>{let{theme:t,css:i,__css:n,sx:o,...l}=r,a=(0,w.lw)(l,(e,r)=>rp(r)),s=(0,S.Pu)(e,r),c=function(e,...r){if(null==e)throw TypeError("Cannot convert undefined or null to object");let t={...e};for(let e of r)if(null!=e)for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(r in t&&delete t[r],t[r]=e[r]);return t}({},n,s,(0,w.YU)(a),o),d=rg(c)(r.theme);return i?[d,i]:d};function rE(e,r){let{baseStyle:t,...n}=r??{};n.shouldForwardProp||(n.shouldForwardProp=rw);let o=rR({baseStyle:t}),l=rI(e,n)(o);return i.forwardRef(function(e,r){let{colorMode:t,forced:n}=es();return i.createElement(l,{ref:r,"data-theme":n?t:void 0,...e})})}var rP=function(){let e=new Map;return new Proxy(rE,{apply:(e,r,t)=>rE(...t),get:(r,t)=>(e.has(t)||e.set(t,rE(t)),e.get(t))})}();function rO(e){return(0,i.forwardRef)(e)}var rT={path:z.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[z.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),z.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),z.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},rN=rO((e,r)=>{let{as:t,viewBox:i,color:n="currentColor",focusable:o=!1,children:l,className:a,__css:s,...c}=e,d=ec("chakra-icon",a),u=function(e,r={}){return ry(e,r)}("Icon",e),p={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:n,...s,...u},h={ref:r,focusable:o,className:d,__css:p},x=i??rT.viewBox;if(t&&"string"!=typeof t)return z.jsx(rP.svg,{as:t,...h,...c});let m=l??rT.path;return z.jsx(rP.svg,{verticalAlign:"middle",viewBox:x,...h,...c,children:m})});rN.displayName="Icon",rO(function(e,r){let{spacing:t="0.5rem",spacingX:n,spacingY:o,children:l,justify:a,direction:s,align:c,className:d,shouldWrapChildren:u,...p}=e,h=(0,i.useMemo)(()=>u?i.Children.map(l,(e,r)=>z.jsx(rM,{children:e},r)):l,[l,u]);return z.jsx(rP.div,{ref:r,className:ec("chakra-wrap",d),...p,children:z.jsx(rP.ul,{className:"chakra-wrap__list",__css:{display:"flex",flexWrap:"wrap",justifyContent:a,alignItems:c,flexDirection:s,listStyleType:"none",gap:t,columnGap:n,rowGap:o,padding:"0"},children:h})})}).displayName="Wrap";var rM=rO(function(e,r){let{className:t,...i}=e;return z.jsx(rP.li,{ref:r,__css:{display:"flex",alignItems:"flex-start"},className:ec("chakra-wrap__listitem",t),...i})});rM.displayName="WrapItem";var rz=rP("div");rz.displayName="Box";var rD=rO(function(e,r){let{size:t,centerContent:i=!0,...n}=e;return z.jsx(rz,{ref:r,boxSize:t,__css:{...i?{display:"flex",alignItems:"center",justifyContent:"center"}:{},flexShrink:0,flexGrow:0},...n})});rD.displayName="Square",rO(function(e,r){let{size:t,...i}=e;return z.jsx(rD,{size:t,ref:r,borderRadius:"9999px",...i})}).displayName="Circle";var rL=rO(function(e,r){let{direction:t,align:i,justify:n,wrap:o,basis:l,grow:a,shrink:s,...c}=e;return z.jsx(rP.div,{ref:r,__css:{display:"flex",flexDirection:t,alignItems:i,justifyContent:n,flexWrap:o,flexBasis:l,flexGrow:a,flexShrink:s},...c})});rL.displayName="Flex";let rW=e=>{let{getEmptyStateProps:r}=L(),t=r(z.jsx(rL,{...rB,children:"No options found!"}));return z.jsx(rz,{...e,children:t})},rB={fontSize:"sm",align:"center",justify:"center",fontWeight:"bold",fontStyle:"italic"},rF=["AutoCompleteGroup","AutoCompleteItem","AutoCompleteCreatable"],rG=e=>{let r=i.Children.map(e,(r,t)=>{var n;if((null==(n=null==r?void 0:r.type)?void 0:n.displayName)==="AutoCompleteGroup"){let n=i.Children.toArray(e)[t+1];return i.cloneElement(r,{groupSibling:!!n&&"AutoCompleteGroup"===n.type.displayName})}return r}),t=i.Children.toArray(r).filter(e=>{var r;return!rF.includes(null==(r=null==e?void 0:e.type)?void 0:r.displayName)});return[i.Children.toArray(r).filter(e=>{var r;return rF.includes(null==(r=null==e?void 0:e.type)?void 0:r.displayName)}),t]},rU=(0,s.G)((e,r)=>{let{children:t,loadingState:i,...n}=e,{listRef:o,isLoading:l}=L(),a=(0,u.q)(r,o),[s,c]=rG(t);return z.jsxs(y.y,{ref:a,w:"inherit",...r$,...n,children:[l&&z.jsx(k.M,{children:i||z.jsx(v.$,{size:"md"})}),!l&&z.jsxs(z.Fragment,{children:[s,z.jsx(rW,{}),c]})]})});rU.displayName="AutoCompleteList";let r$={py:"4",opacity:"0",bg:"#232934",rounded:"md",maxH:"350px",border:"none",shadow:"base",zIndex:"popover",overflowY:"auto",_light:{bg:"#ffffff"},_focus:{boxShadow:"none"}};var[rV,rK]=function(e={}){let{name:r,strict:t=!0,hookName:n="useContext",providerName:o="Provider",errorMessage:l,defaultValue:a}=e,s=(0,i.createContext)(a);return s.displayName=r,[s.Provider,function e(){var r;let a=(0,i.useContext)(s);if(!a&&t){let t=Error(l??`${n} returned \`undefined\`. Seems you forgot to wrap component within ${o}`);throw t.name="ContextError",null==(r=Error.captureStackTrace)||r.call(Error,t,e),t}return a},s]}({name:"TagStylesContext",errorMessage:"useTagStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Tag />\" "}),rY=rO((e,r)=>{let t=function(e,r={}){return ry("Tag",r)}(0,e),i=function(e,r=[]){let t=Object.assign({},e);for(let e of r)e in t&&delete t[e];return t}(e,["styleConfig","size","variant","colorScheme"]),n={display:"inline-flex",verticalAlign:"top",alignItems:"center",maxWidth:"100%",...t.container};return z.jsx(rV,{value:t,children:z.jsx(rP.span,{ref:r,...i,__css:n})})});rY.displayName="Tag";var rH=rO((e,r)=>{let t=rK();return z.jsx(rP.span,{ref:r,noOfLines:1,...e,__css:t.label})});rH.displayName="TagLabel",rO((e,r)=>z.jsx(rN,{ref:r,verticalAlign:"top",marginEnd:"0.5rem",...e})).displayName="TagLeftIcon",rO((e,r)=>z.jsx(rN,{ref:r,verticalAlign:"top",marginStart:"0.5rem",...e})).displayName="TagRightIcon";var rq=e=>z.jsx(rN,{verticalAlign:"inherit",viewBox:"0 0 512 512",...e,children:z.jsx("path",{fill:"currentColor",d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"})});rq.displayName="TagCloseIcon";var rZ=rO((e,r)=>{let{isDisabled:t,children:i,...n}=e,o={display:"flex",alignItems:"center",justifyContent:"center",outline:"0",...rK().closeButton};return z.jsx(rP.button,{ref:r,"aria-label":"close",...n,type:"button",disabled:t,__css:o,children:i||z.jsx(rq,{})})});rZ.displayName="TagCloseButton",(0,i.memo)(e=>{let{label:r,onRemove:t,disabled:i,...n}=e;return z.jsx(rM,{children:z.jsxs(rY,{borderRadius:"md",fontWeight:"normal",...i&&rX,...n,children:[z.jsx(rH,{children:r}),z.jsx(rZ,{onClick:()=>!i&&(0,S.Pu)(t),cursor:"pointer",...i&&rX})]})})});let rX={cursor:"text",userSelect:"none",opacity:.4,_focus:{boxShadow:"none"}}},64173:function(e,r,t){t.d(r,{Z:function(){return a}});var i=t(63761),n=t(42765),o=t(66700),l=t(19785);function a(e,r){if((0,l.Z)(2,arguments),!r||"object"!=typeof r)return new Date(NaN);var t="years"in r?(0,n.Z)(r.years):0,a="months"in r?(0,n.Z)(r.months):0,s="weeks"in r?(0,n.Z)(r.weeks):0,c="days"in r?(0,n.Z)(r.days):0,d="hours"in r?(0,n.Z)(r.hours):0,u="minutes"in r?(0,n.Z)(r.minutes):0,p="seconds"in r?(0,n.Z)(r.seconds):0,h=(0,o.Z)(e),x=a||t?function(e,r){(0,l.Z)(2,arguments);var t=(0,o.Z)(e),i=(0,n.Z)(r);if(isNaN(i))return new Date(NaN);if(!i)return t;var a=t.getDate(),s=new Date(t.getTime());return(s.setMonth(t.getMonth()+i+1,0),a>=s.getDate())?s:(t.setFullYear(s.getFullYear(),s.getMonth(),a),t)}(h,a+12*t):h,m=c||s?(0,i.Z)(x,c+7*s):x;return new Date(m.getTime()+1e3*(p+60*(u+60*d)))}},7985:function(e,r){var t=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;r.G=function(e){if(!e||e.length>254||!t.test(e))return!1;var r=e.split("@");return!(r[0].length>64||r[1].split(".").some(function(e){return e.length>63}))}},23312:function(e,r,t){t.d(r,{C:function(){return m}});var i=t(52322),n=t(92850),o=t(26468),l=t(22226),a=t(54326),s=t(2338),c=t(97217),d=t(77533),u=t(50250),p=t(43297),h=t(62614),x=t(5879);let m=e=>{let{invitationCount:r,isOpen:t,onClose:m,onSendInvitationsClick:g,onDiscardClick:f}=e;return t?(0,i.jsxs)(n.u_,{returnFocusOnClose:!1,onClose:m,closeOnOverlayClick:!0,isOpen:!0,isCentered:!0,children:[(0,i.jsx)(o.Z,{}),(0,i.jsxs)(l.h,{children:[(0,i.jsx)(a.x,{children:(0,i.jsx)(x.cC,{id:"tW/kB6",values:{invitationCount:r}})}),(0,i.jsx)(s.o,{}),(0,i.jsx)(c.f,{children:(0,i.jsx)(d.x,{children:(0,i.jsx)(x.cC,{id:"qxNK2k",values:{invitationCount:r}})})}),(0,i.jsx)(u.m,{children:(0,i.jsxs)(p.K,{spacing:2,direction:"row",align:"center",children:[(0,i.jsx)(h.z,{onClick:f,children:(0,i.jsx)(x.cC,{id:"bzSI52"})}),(0,i.jsx)(h.z,{variant:"solid",onClick:g,children:(0,i.jsx)(x.cC,{id:"6dWGPZ",values:{invitationCount:r}})})]})})]})]}):null}},60536:function(e,r,t){t.d(r,{V:function(){return f}});var i=t(52322),n=t(50019),o=t(38035),l=t(74008),a=t(29117),s=t(77533),c=t(82554),d=t(36474),u=t(41098),p=t(5879),h=t(23405),x=t(94199),m=t(41003),g=t(81640);let f=e=>{let{onClose:r,onOpen:t,segmentEvent:f,doc:v,label:j}=e,b=(0,h.y)("upsellUXEnabled_Pro"),C=(0,m.dU)(null==v?void 0:v.organization),{openUpsellModal:y}=(0,g.z)(),k=(0,n.ff)("gray.200","gray.700");return!1===C&&b?(0,i.jsxs)(o.k,{direction:"column",w:"100%",children:[(0,i.jsx)(l.i,{borderColor:k}),(0,i.jsxs)(a.U,{mt:4,mb:2,children:[(0,i.jsxs)(a.U,{children:[(0,i.jsx)(s.x,{children:j||(0,i.jsx)(p.cC,{id:"kuLK2H",values:{GAMMA_PROPER_NOUN:x.N6}})}),(0,i.jsx)(c.C,{colorScheme:"trueblue",variant:"solid",children:x.k3})]}),(0,i.jsx)(d.L,{}),(0,i.jsx)(u.r,{onClickCapture:e=>{e.preventDefault(),y({onOpenCallback:r,onCloseCallback:t,segmentEvent:f})},isChecked:!0})]})]}):null}},4758:function(e,r,t){t.d(r,{L:function(){return m}});var i=t(52322),n=t(38035),o=t(16556),l=t(29117),a=t(109),s=t(77533),c=t(28535),d=t(42946),u=t(49929),p=t(94523),h=t(5879),x=t(7985);t(30579);let m=e=>{let{selectedCollaborator:r,idx:t,handleRemoveClick:m}=e,g=r&&(0,x.G)((null==r?void 0:r.email)||""),f=0===t?170:300;return(0,i.jsx)(n.k,{width:0===t?"calc(100% - 100px)":"",className:"searchbartag","data-testid":"searchbartag-collaborator-".concat(r.email),children:(0,i.jsxs)(o.Vp,{size:"md",minW:110,...g?{}:{colorScheme:"red",bg:"red",color:"white"},children:["id"in r?(0,i.jsx)(p.kH,{label:r.email,"aria-label":r.email,children:(0,i.jsxs)(l.U,{children:[(0,i.jsx)(a.q,{size:"2xs",m:0,name:r.displayName,src:r.profileImageUrl}),(0,i.jsx)(s.x,{textTransform:"capitalize",wordBreak:"break-word",noOfLines:1,maxW:f,lineHeight:"1.5",children:r.displayName})]})}):(0,i.jsx)(p.kH,{label:g?r.email:(0,i.jsx)(h.cC,{id:"XILg0L"}),"aria-label":r.email,children:(0,i.jsxs)(l.U,{flex:1,children:[(0,i.jsx)(c.Cd,{bg:g?"trueblue.100":"none",size:6,children:(0,i.jsx)(u.G,{icon:g?d.FU$:d.WV2})}),(0,i.jsx)(s.x,{wordBreak:"break-all",display:"block",height:"100%",width:"100%",noOfLines:1,maxW:f,lineHeight:"1.5",children:r.email})]})}),(0,i.jsx)(o.SD,{onClick:m})]})},"id"in r?r.id:r.email)}},34613:function(e,r,t){t.d(r,{XG:function(){return i},Nj:function(){return eI},t9:function(){return eR},o$:function(){return eM},aA:function(){return rI},WQ:function(){return rR}});var i,n=t(52322),o=t(92850),l=t(26468),a=t(22226),s=t(54326),c=t(28535),d=t(2338),u=t(74008),p=t(97217),h=t(43297),x=t(67109),m=t(89099),g=t(62614),f=t(82554),v=t(36474),j=t(50250),b=t(38035),C=t(42946),y=t(49929),k=t(94523),_=t(5879),w=t(2784),S=t(93624),A=t(11550),I=t(41003),R=t(30579),E=t(16710),P=t(46759),O=t(15041),T=t(29318),N=t(39278),M=t(55274),z=t(70065),D=t(77533),L=t(87651),W=(t(81672),t(74409)),B=t(47443),F=t(52929),G=t(109),U=(t(82655),t(87254)),$=t(1842),V=t.n($),K=t(94199),Y=t(723),H=t(93441),q=t(89458),Z=t(88640),X=t(29117),J=t(11082),Q=t(8174),ee=t(78462);let er=e=>{let{icon:r,showDisabled:t=!1}=e;return(0,n.jsx)(c.Cd,{color:"gray.800",textAlign:"center",bg:"gray.200",size:8,opacity:t?.5:1,children:t?(0,n.jsxs)("span",{className:"fa-stack",children:[(0,n.jsx)(y.G,{icon:C.u6k,className:"fa-stack-1x"}),(0,n.jsx)(y.G,{icon:r,className:"fa-stack-1x"})]}):(0,n.jsx)(y.G,{size:"1x",icon:r})})},et=e=>{let{channel:r,doc:t,isDisabled:i,showDisabledIcon:o=!1}=e,{removeDocChannel:l}=(0,Q.Z)(),a=(0,w.useCallback)(()=>{t&&l(t,r.id)},[r.id,t,l]),s=(0,ee.j)({slug:r.slug,id:r.id});return(0,n.jsxs)(X.U,{py:2,w:"100%",justify:"space-between","data-testid":"workspace-row-".concat(r.id),children:[(0,n.jsx)(c.xu,{children:(0,n.jsxs)(b.k,{alignItems:"center",children:[(0,n.jsx)(er,{icon:R.Ty,showDisabled:o}),(0,n.jsx)(c.xu,{ml:3,opacity:o?.5:1,children:(0,n.jsx)(J.r,{href:s,target:"_blank",children:r.name})})]})}),(0,n.jsx)(g.z,{size:"sm",variant:"ghost",colorScheme:"red",onClick:a,isDisabled:i,children:(0,n.jsx)(_.cC,{id:"t/YqKh"})})]},r.id)};var ei=t(46949),en=t(50019),eo=t(75768),el=t(74105),ea=t(81540),es=t(20816),ec=t(46028),ed=t(38421),eu=t.n(ed);let ep=e=>{let{workspaceId:r,docId:t,existingChannels:i,isDisabled:o}=e,l=(0,w.useRef)(null),[a,s]=(0,w.useState)(""),[d,u]=(0,w.useState)([]),[p,x]=(0,w.useState)(!1),{addDocChannel:m}=(0,Q.Z)(),{data:g,loading:f}=(0,S.Kce)({variables:{query:a,workspaceId:r},skip:!a});(0,w.useEffect)(()=>{if(f||!g)return;let e=g.search.filter(Boolean);u(e),x(0===e.length)},[g,f]);let v=(0,w.useMemo)(()=>a?d.filter(e=>!i.find(r=>r.id===e.id)):[],[i,a,d]),j=(0,w.useCallback)(e=>{let r=v.find(r=>r.id===e);if(!r){console.error("[ChannelSearchBar.addSelectedChannel] No matching channel found");return}m({docId:t,channel:r,existingChannels:i})},[m,t,i,v]),C=(0,en.ff)("gray.100","gray.700"),A=(0,en.ff)("light","dark"),I=(0,en.ff)("trueblue.50","whiteAlpha.100");(0,en.ff)("trueblue.100","whiteAlpha.200");let E=(0,en.ff)("gray.200","gray.600");return(0,n.jsx)(eo.h,{w:"100%",mb:2,alignItems:"flex-start","data-testid":"sharepanel-channel-search-bar",children:(0,n.jsx)(c.xu,{flex:1,children:(0,n.jsxs)(el.B,{w:"100%",justifyContent:"center",zIndex:1,children:[(0,n.jsx)(b.k,{display:"none",position:"absolute",h:"100%",w:"100%",alignItems:"center",justifyContent:"center",bg:C,zIndex:"overlay",opacity:.4,children:(0,n.jsx)(ea.$,{})}),(0,n.jsxs)(ec.Qc,{rollNavigation:!0,multiple:!0,emptyState:()=>!!p&&(0,n.jsxs)(b.k,{direction:"column",justify:"center",align:"center",w:"100%",my:6,children:[(0,n.jsx)(c.xu,{w:"80%",maxW:"200px",mb:6,alignContent:"center",children:(0,n.jsx)(eu(),{src:"/images/Sal-Fishing-2x.png",width:"640",height:"361",alt:"Sal, the Gamma mascot, fishing extraterrestrially"})}),(0,n.jsx)(W.X,{size:"xs",mb:2,textAlign:"center",children:(0,n.jsx)(_.cC,{id:"NmfOr+"})}),(0,n.jsx)(D.x,{fontSize:"sm",color:"gray.400",textAlign:"center",children:(0,n.jsx)(_.cC,{id:"kXnLEt"})})]}),suggestWhenEmpty:!1,openOnFocus:!0,filter:()=>!0,onSelectOption:e=>{let{item:r}=e;j(r.value),s("")},children:[(0,n.jsxs)(es.Z,{pointerEvents:"none",color:(0,en.ff)("gray.300","gray.600"),h:"100%",flexDirection:"column",children:[(0,n.jsx)(b.k,{flex:1}),(0,n.jsx)(b.k,{h:10,py:4,alignItems:"center",children:(0,n.jsx)(ei.W,{w:10})})]}),(0,n.jsx)(ec.Vp,{ref:l,"data-testid":"autocomplete-channels-input",cursor:o?"not-allowed":void 0,disabled:o,w:"100%",pl:5,wrapStyles:{px:2},fontSize:"md",placeholder:U.ag._({id:"KmCmUJ"}),transition:"width 1s ease-in-out",value:a,borderColor:E,onChange:e=>{let{target:r}=e,{value:t}=r;s(t),t||u([])}}),(0,n.jsx)(ec.Jm,{w:"100%",mt:0,display:a.length>0?"flex":"none","data-theme":A,children:v.length>0&&v.map(e=>{let{id:r,name:t,memberCount:i,isMember:o,members:l}=e;return(0,n.jsx)(ec.Gb,{"data-testid":"autocomplete-item-channel-".concat(r),value:{id:e.id},getValue:e=>e.id,align:"center",_focus:{bg:I},children:(0,n.jsxs)(X.U,{spacing:4,p:0,flex:1,children:[(0,n.jsx)(c.xu,{color:"gray.700",children:(0,n.jsx)(y.G,{icon:R.Ty})}),(0,n.jsxs)(h.K,{spacing:0,flex:"1",children:[(0,n.jsx)(D.x,{children:t}),(0,n.jsx)(D.x,{fontSize:"sm",color:"gray.400",children:o?(0,n.jsx)(_.cC,{id:"tWPlLK",values:{0:i||0}}):(0,n.jsx)(_.cC,{id:"pkIIls",values:{0:i||0}})})]}),(0,n.jsx)(k.NL,{size:"xs",overflowTooltipLabel:U.ag._({id:"25VyZX"}),avatars:l||[],max:3,onClick:e=>{e.preventDefault(),e.stopPropagation()}})]})},r)})})]})]})})})};var eh=t(55478),ex=t(78071),em=t(7985),eg=t(38045),ef=t(99016),ev=t(23312),ej=t(80498),eb=t(62549),eC=t(10625),ey=t(67046),ek=t(99058),e_=t(44035),ew=t(39237),eS=t(27599),eA=t(25481);(i||(i={})).NoAccess="no_access";let eI={[S.y3$.Manage]:{title:()=>U.ag._({id:"DZfDCl"}),description:()=>U.ag._({id:"r59J7Q"}),longDescription:e=>e?U.ag._({id:"CoURkK",values:{orgName:e}}):U.ag._({id:"MZxW5I"})},[S.y3$.Edit]:{title:()=>U.ag._({id:"ePK91l"}),description:()=>U.ag._({id:"kuZsYI"}),longDescription:e=>e?U.ag._({id:"+9AXnp",values:{orgName:e}}):U.ag._({id:"NY9Lty"})},[S.y3$.Comment]:{title:()=>U.ag._({id:"NBdIgR"}),description:()=>U.ag._({id:"IwFh5+"}),longDescription:e=>e?U.ag._({id:"0wXxLJ",values:{orgName:e}}):U.ag._({id:"3F9J6L"})},[S.y3$.View]:{title:()=>U.ag._({id:"jpctdh"}),description:()=>U.ag._({id:"yzFEXd"}),longDescription:e=>e?U.ag._({id:"7jJ4tD",values:{orgName:e}}):U.ag._({id:"Cxivg8"})},[i.NoAccess]:{title:()=>U.ag._({id:"oPoLg+"}),description:()=>U.ag._({id:"Vcif8/"}),longDescription:()=>U.ag._({id:"Vcif8/"})}},eR=e=>{let{isDisabled:r,options:t,disabledOptions:o=[],selected:l,variant:a="ghost",onClick:s=()=>{},onRemove:d}=e;return(0,n.jsxs)(eC.v,{closeOnSelect:!0,children:[(0,n.jsx)(ey.j,{"data-testid":"permission-menu-value-".concat(l),as:g.z,display:"flex",size:"sm",isDisabled:r,variant:a,rightIcon:(0,n.jsx)(y.G,{icon:C.ptq}),children:eI[l||i.NoAccess].title()}),(0,n.jsx)(ek.q,{textAlign:"left",zIndex:"overlay",children:(0,n.jsxs)(e_._,{defaultValue:l,value:l,title:U.ag._({id:"9cDpsw"}),type:"radio",onChange:e=>{s(e)},children:[t.map(e=>{let r=o.find(r=>r.permission===e),t=r&&r.reason;return(0,n.jsx)(ew.i,{isDisabled:!!r,value:e,alignItems:"start",pt:3,children:(0,n.jsx)(k.kH,{label:t,"aria-label":t,isDisabled:!r,placement:"top",children:(0,n.jsxs)(c.xu,{children:[(0,n.jsx)(D.x,{mt:-1,children:eI[e].title()}),(0,n.jsx)(D.x,{fontSize:"sm",color:"gray.500",mt:1,children:eI[e].description()})]})},e)},e)}),d&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eS.R,{}),(0,n.jsx)(eA.s,{color:"red.500",onClick:d,icon:(0,n.jsx)(y.G,{icon:C.XAH,fixedWidth:!0}),children:(0,n.jsx)(_.cC,{id:"t/YqKh"})})]})]})})]})};var eE=t(4758);let eP=(0,eg.E)(c.xu),eO=(e,r,t)=>{if(!t)return e;let i=[...e],n=e.findIndex(e=>"email"in e&&e.email===t),o=r.find(e=>e.email===t);return -1!==n&&i.splice(n,1),[...i,o||{email:t}]},eT=(e,r)=>{let t=(0,eb.Hs)(r.map(e=>"displayName"in e?e.displayName:e.email),3);return e===S.y3$.Manage?U.ag._({id:"4bKxWq",values:{userNames:t,GAMMA_ARTIFACT_PROPER_NOUN:K.Yc,0:r.length}}):e===S.y3$.Edit?U.ag._({id:"3rbi6Y",values:{userNames:t,GAMMA_ARTIFACT_PROPER_NOUN:K.Yc,0:r.length}}):e===S.y3$.Comment?U.ag._({id:"uGWY40",values:{userNames:t,GAMMA_ARTIFACT_PROPER_NOUN:K.Yc,0:r.length}}):e===S.y3$.View?U.ag._({id:"p5IG6F",values:{userNames:t,GAMMA_ARTIFACT_PROPER_NOUN:K.Yc,0:r.length}}):U.ag._({id:"Ai1TAT",values:{userNames:t,GAMMA_ARTIFACT_PROPER_NOUN:K.Yc,0:r.length}})},eN=e=>{let{workspaceId:r,docId:t,user:i,existingDocCollaborators:o,existingInvitations:l,registerDoneFn:a,isDisabled:s}=e,d=(0,z.p)(),[u,p]=(0,w.useState)(!1),h=(0,w.useRef)(),x=(0,w.useRef)(null),[m,f]=(0,w.useState)(""),[v,j]=(0,w.useState)([]),[A,I]=(0,w.useState)(S.y3$.Manage),[R,E]=(0,w.useState)(new ej.B),[P,O]=(0,w.useState)([]),T=P.filter(e=>"email"in e),N=o.map(e=>e.user),{isOpen:M,onOpen:L,onClose:W}=(0,eh.q)({id:"unsentInvitationsModalDisclosure"}),[B,{loading:F,error:$}]=(0,S.qVw)();(0,H.GJ)("Error inviting collaborators.",$);let V=(0,ef.j)(S.aAR),{data:K,loading:Y}=(0,S.PGi)({variables:{query:m,workspaceId:r},skip:!m});(0,w.useEffect)(()=>{if(Y||!K)return;let e=K.search.filter(Boolean);j(e)},[K,Y]);let q=(0,w.useMemo)(()=>m?v.filter(e=>"User"===e.__typename&&e.id!==i.id&&!T.concat(N).find(r=>r.email===e.email)):[],[v,N,m,T,i.id]),Z=!!m&&!q.find(e=>e.email===m),J=A===S.y3$.Manage&&T.some(e=>!("__typename"in e&&"User"===e.__typename)),Q=P.concat({email:m}).filter(e=>!("email"in e)||(0,em.G)(e.email||"")),ee=!!P.length,er=!!Q.length;(0,w.useEffect)(()=>{a(()=>()=>(er?L():R.resolve(),R.promise))},[a,R,er,L]);let et=(0,w.useCallback)(async e=>{p(!0),O(r=>e.reduce((e,r)=>eO(e,q,r.trim()),r));let t=(await Promise.all(e.map(e=>V({workspaceId:r,query:e}).then(r=>{var t;return null===(t=r.data)||void 0===t?void 0:t.search.find(r=>"User"===r.__typename&&r.email===e)})))).filter(Boolean);O(r=>e.reduce((e,r)=>eO(e,t,r.trim()),r)),p(!1)},[q,V,r]),ed=(0,w.useCallback)(async()=>{if(0===T.length)return;let e=eO(T,q,m.trim()).filter(e=>"email"in e&&(0,em.G)(e.email||"")),r=[...o,...e.map(e=>{if("id"in e)return{docId:t,user:e,guest:!1,permission:A,__typename:"DocCollaborator"}})].filter(e=>!!e),n=[...l,...e.map(e=>{if("id"in e)return;let r={id:"temp",docTitle:"temp-title",invitedBy:i,docId:t,email:e.email,permission:A,__typename:"DocInvitation"};return r})].filter(e=>!!e);return B({variables:{docId:t,collaborators:e.map(e=>{let r="id"in e?{userId:e.id}:{email:e.email};return{...r,permission:A}})},update:(e,r)=>{let{data:i}=r;e.writeFragment({id:"Doc:".concat(t),fragment:S.yAO,data:null==i?void 0:i.addCollaborators})},optimisticResponse:{addCollaborators:{id:t,collaborators:r,invitations:n}}}).then(()=>{let r=U.ag._({id:"Ka86rB",values:{0:e.length}}),t=eT(A,e);d({title:r,description:t,status:"success",duration:5e3,isClosable:!0,position:"top"})})},[B,t,m,A,q,T,o,l,d,i]),eu=(0,w.useCallback)(async()=>Promise.all([ed()]).then(()=>{var e;O([]),f(""),null===(e=h.current)||void 0===e||e.resetItems(!0),R.resolve(),E(new ej.B)}).catch(e=>{console.warn(e)}),[ed,R]),ep=s||F||u,eg=(0,en.ff)("gray.100","gray.700"),eb=(0,en.ff)("light","dark"),eC=(0,en.ff)("trueblue.50","whiteAlpha.100"),ey=(0,en.ff)("trueblue.100","whiteAlpha.200"),ek=(0,en.ff)("gray.200","gray.600");return(0,n.jsxs)(eo.h,{w:"100%",mb:2,alignItems:"flex-start","data-testid":"sharepanel-search-bar",children:[(0,n.jsx)(c.xu,{flex:1,children:(0,n.jsxs)(el.B,{w:"100%",justifyContent:"center",zIndex:2,children:[(0,n.jsx)(b.k,{display:u?"flex":"none",position:"absolute",h:"100%",w:"100%",alignItems:"center",justifyContent:"center",bg:eg,zIndex:"overlay",opacity:.4,children:(0,n.jsx)(ea.$,{})}),(0,n.jsxs)(ec.Qc,{ref:h,values:P,maxSelections:100,maxSuggestions:20,creatable:!0,multiple:!0,freeSolo:!0,suggestWhenEmpty:!1,openOnFocus:!0,filter:(e,r)=>!T.find(e=>e.email===r),onSelectOption:e=>{let{item:r}=e,{type:t}=r.originalValue;"collaborator"===t&&O(e=>eO(e,q,r.value)),f("")},onTagRemoved:e=>{O(r=>[...r].filter(r=>"email"in r?r.email!==e:!("id"in r)||r.id!==e))},children:[(0,n.jsxs)(es.Z,{pointerEvents:"none",color:(0,en.ff)("gray.300","gray.600"),h:"100%",flexDirection:"column",children:[(0,n.jsx)(b.k,{flex:1}),(0,n.jsx)(b.k,{h:10,py:4,alignItems:"center",children:(0,n.jsx)(ei.W,{w:10})})]}),(0,n.jsx)(ec.Vp,{ref:x,"data-testid":"autocomplete-collaborators-input",cursor:ep?"not-allowed":void 0,disabled:ep,w:"100%",pl:5,wrapStyles:{px:2},fontSize:"md",placeholder:U.ag._({id:"P8H57Z"}),transition:"width 1s ease-in-out",value:m,borderColor:ek,onKeyDown:e=>{let{key:r}=e;if("Backspace"===r&&0===m.length&&P.length>0){let e=P.slice(-1).pop();if(e){var t;null===(t=h.current)||void 0===t||t.removeItem("email"in e?e.email:e.id)}}},onPaste:e=>{e.preventDefault(),e.stopPropagation();let r=e.clipboardData.getData("Text"),t=r.trim().split(/[,|;\s]+/);et(t),f(""),j([])},onChange:e=>{let{target:r}=e,{value:t}=r;f(t),t||j([])},children:P.map((e,r)=>(0,n.jsx)(eE.L,{idx:r,selectedCollaborator:e,handleRemoveClick:()=>{var r;null===(r=h.current)||void 0===r||r.removeItem(e.email)}},"id"in e?e.id:e.email))}),(0,n.jsx)(ec.Jm,{w:"100%",mt:0,display:m.length>0?"flex":"none","data-theme":eb,children:q.map(e=>{let{id:r,email:t,displayName:i,profileImageUrl:o}=e;return(0,n.jsx)(ec.Gb,{fixed:!0,"data-testid":"autocomplete-item-user-".concat(r),value:{email:t,type:"collaborator"},getValue:e=>e.email,align:"center",_focus:{bg:eC},children:(0,n.jsxs)(X.U,{children:[(0,n.jsx)(G.q,{size:"sm",name:i,src:o}),(0,n.jsxs)(c.xu,{children:[(0,n.jsx)(D.x,{textTransform:"capitalize",children:i}),(0,n.jsx)(D.x,{fontSize:"xs",color:"gray.500",children:null==t?void 0:t.toLowerCase()})]})]})},r)}).concat((0,n.jsx)(ec.Gb,{value:{email:m,type:"collaborator"},align:"center",display:Z?"flex":"none",_focus:{bg:eC},children:(0,n.jsxs)(X.U,{children:[(0,n.jsx)(c.Cd,{bg:ey,size:8,children:(0,n.jsx)(y.G,{icon:C.FU$})}),(0,n.jsx)(D.x,{size:"md",children:m})]})},m))})]}),(0,n.jsx)(ex.p,{in:ee,unmountOnExit:!0,children:(0,n.jsx)(es.x,{w:"auto",justifyContent:"flex-end",pr:1,children:(0,n.jsx)(eR,{isDisabled:F,options:[S.y3$.Manage,S.y3$.Edit,S.y3$.Comment,S.y3$.View],variant:"ghost",selected:A,onClick:e=>I(e)})})})]})}),(0,n.jsx)(eP,{overflowX:"hidden",mr:-2,transition:"slow",animate:{maxWidth:ee?"200px":"0px"},children:(0,n.jsx)(k.kH,{label:(0,n.jsx)(_.cC,{id:"Rxin92"}),"aria-label":U.ag._({id:"Rxin92"}),isDisabled:!J,placement:"top",children:(0,n.jsx)(c.xu,{children:(0,n.jsx)(g.z,{variant:"solid",onClick:eu,isDisabled:!er||J,isLoading:F,"data-testid":"add-selected-items",children:(0,n.jsx)(_.cC,{id:"m16xKo"})})})})}),(0,n.jsx)(k.Wk,{isDark:!1,children:(0,n.jsx)(ev.C,{invitationCount:Q.length,onDiscardClick:()=>{W(),R.resolve(),E(new ej.B)},onSendInvitationsClick:()=>{W(),eu()},onClose:()=>{W(),R.reject(),E(new ej.B)},isOpen:M})})]})},eM=e=>{let{title:r,subtitle:t,img:i,isDisabled:o=!1,disabledText:l,tooltipText:a,testId:s,infoIcon:d,permissionsControl:u,workspaceGuestInvite:p}=e,h="string"==typeof t?(0,n.jsx)(D.x,{fontSize:"xs",color:"gray.500",children:t}):t,x=(0,n.jsx)(k.kH,{isDisabled:!a,label:a,placement:"top",children:(0,n.jsx)(c.xu,{children:u})});return(0,n.jsxs)(X.U,{w:"100%",justify:"space-between",py:2,"data-testid":"permission-settings-row".concat(s?"-"+s:""),children:[(0,n.jsx)(c.xu,{children:(0,n.jsxs)(b.k,{alignItems:"center",children:[i,(0,n.jsxs)(c.xu,{ml:3,children:[(0,n.jsx)(D.x,{children:r}),(0,n.jsxs)(b.k,{align:"center",children:[p&&p,h&&h]})]})]})}),(0,n.jsx)(c.xu,{children:(0,n.jsx)(k.kH,{isDisabled:!a,label:(0,n.jsx)(D.x,{children:a}),placement:"top",children:o?(0,n.jsx)(D.x,{size:"sm",color:"gray.500","data-testid":"permission-controls-disabled-".concat(s),children:l}):d?(0,n.jsxs)(X.U,{children:[d,x]}):x})})]})};var ez=t(17993);let eD=e=>{let{children:r,showDivider:t=!0,isDark:i=!1,...o}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ez.g,{spacing:1,align:"stretch",py:4,...o,children:r}),t&&(0,n.jsx)(u.i,{borderColor:i?"gray.700":"gray.200"})]})};var eL=t(43679),eW=t(34071),eB=t(39429),eF=t(46164),eG=t(47154),eU=t(48394);let e$=e=>{let{email:r,name:t,workspaceName:i,workspaceId:o}=e,[l]=(0,S.f4M)(),[a,s]=(0,w.useState)(!1),c=(0,z.p)();return(0,n.jsx)(eL.J,{closeOnBlur:!0,children:e=>{let{onClose:d}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eW.x,{children:(0,n.jsx)(g.z,{leftIcon:(0,n.jsx)(y.G,{icon:C.Gg}),size:"xs",colorScheme:"gray",mr:1,px:2,h:"auto",py:1,children:(0,n.jsx)(_.cC,{id:"O1wAlQ"})})}),(0,n.jsxs)(eB.y,{bg:"white",children:[(0,n.jsx)(eF.Q,{}),(0,n.jsx)(eG.Y,{fontWeight:"bold",children:(0,n.jsx)(_.cC,{id:"XYV7FR"})}),(0,n.jsxs)(eU.b,{children:[(0,n.jsx)(D.x,{fontSize:"sm",children:(0,n.jsx)(_.cC,{id:"hJZ5XP",values:{name:t,workspaceName:i,GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:K.aq}})}),(0,n.jsx)(g.z,{isDisabled:a,w:"100%",mt:2,onClick:()=>{o&&r&&(s(!0),l({variables:{workspaceId:o,invitees:[{email:r}]}}).then(()=>{c({title:U.ag._({id:"oNCcm2"}),status:"success",duration:5e3,isClosable:!0,position:"top"})}).catch(e=>{console.error(e),c({title:U.ag._({id:"h37zlR",values:{0:e.message}}),status:"error",isClosable:!0,position:"top"})}).finally(()=>{s(!1),d()}))},children:(0,n.jsx)(_.cC,{id:"qVqqmP"})})]})]})]})}})},eV=(e,r)=>{var t,i;let n="DocCollaborator"===e.__typename?null===(t=e.user.displayName)||void 0===t?void 0:t.toUpperCase():"DocInvitation"===e.__typename?e.email.toUpperCase():"",o="DocCollaborator"===r.__typename?null===(i=r.user.displayName)||void 0===i?void 0:i.toUpperCase():"DocInvitation"===r.__typename?r.email.toUpperCase():"";return!o||n&&n<o?-1:!n||o&&n>o?1:0},eK=(e,r)=>{if(e.permission!==r.permission){if("manage"===e.permission)return -1;if("manage"===r.permission)return 1}return eV(e,r)},eY=e=>{var r,t;let{workspaceId:o,isFromOtherOrg:l,doc:a,user:s,setVerifySearchDone:d,canManage:u,isDark:p=!1}=e,h=(0,z.p)(),[x,m]=(0,q.I)(Z.H.hasDismissedDocWorkspaceNotice,!1),{isConnected:g}=(0,S.$gs)(),[f,{error:v}]=(0,S.qVw)(),[j,{error:b}]=(0,S.mrc)();(0,H.GJ)("Error updating collaborator.",v),(0,H.GJ)("Error removing collaborator.",b);let[k]=(0,S.rIg)(),w=u&&g,A=!l,I=(A&&(x||!a||a.orgAccess),!!(!(null==a?void 0:a.orgAccess)&&(null==a?void 0:a.channels)&&(null==a?void 0:a.channels.length)>0&&(null==a?void 0:a.channels.every(e=>V()(e.permission))))),R=(0,E.qw)(a),P=(null==a?void 0:a.collaborators)||[],O=(null==a?void 0:a.invitations)||[],T=P.filter(e=>e.permission===S.y3$.Manage).length,N=[...P,...O].sort(eK),M=e=>()=>{let r="updated"===e?U.ag._({id:"Xpw8aE"}):U.ag._({id:"jwO7L7"});h({title:r,status:"success",duration:5e3,isClosable:!0,position:"top"})},W=a.orgAccess?a.orgAccess:i.NoAccess,$=W!==i.NoAccess;return(0,n.jsxs)(n.Fragment,{children:[w&&(0,n.jsx)(eN,{workspaceId:o,docId:a.id,user:s,existingDocCollaborators:P,existingInvitations:O,registerDoneFn:d,isDisabled:!u}),(0,n.jsx)(Y.V,{label:(0,n.jsx)(_.cC,{id:"i5bpoc"}),isConnected:g,mb:4}),R&&(0,n.jsx)(D.x,{fontSize:"sm",color:"gray.600",pt:2,children:R}),(0,n.jsxs)(eD,{isDark:p,children:[!1,(0,n.jsx)(eM,{testId:"workspace",title:(0,n.jsx)(_.cC,{id:"wtxjAY"}),subtitle:$?eI[W].longDescription(null==a?void 0:null===(r=a.organization)||void 0===r?void 0:r.name):"",img:(0,n.jsx)(er,{icon:C.P88,showDisabled:!$}),isDisabled:!w,disabledText:eI[W].title(),permissionsControl:(0,n.jsx)(eR,{isDisabled:!w,selected:W,options:[S.y3$.Manage,S.y3$.Edit,S.y3$.Comment,S.y3$.View,i.NoAccess],onClick:e=>{let r={id:a.id,orgAccess:e===i.NoAccess?null:e};k({variables:r,optimisticResponse:{updateDoc:{...r,__typename:"Doc"}},refetchQueries:["GetDocs"]}).then(M(e===i.NoAccess?"removed":"updated"))}})}),A&&(null===(t=a.channels)||void 0===t?void 0:t.map(e=>(0,n.jsx)(et,{channel:e,doc:a,isDisabled:!g,showDisabledIcon:I},e.id))),!!a.orgAccess&&A&&!a.site&&!I&&(0,n.jsx)(c.xu,{w:"100%",mt:2,children:(0,n.jsx)(ep,{existingChannels:a.channels,workspaceId:o,docId:a.id,isDisabled:!g})}),(0,n.jsx)(L.U,{in:A&&I,children:(0,n.jsxs)(B.b,{status:"warning",children:[(0,n.jsx)(F.z,{}),(0,n.jsx)(_.cC,{id:"RZRM4l",values:{GAMMA_ARTIFACT_PROPER_NOUN:K.Yc}})]})})]}),N&&(0,n.jsx)(eD,{showDivider:!1,isDark:p,children:N.map(e=>{let r=e.permission===S.y3$.Manage&&T<2,t=!w||r,i=r?U.ag._({id:"0q0LJR"}):void 0,l=eI[e.permission].title();if("DocCollaborator"===e.__typename){var d;let r=e.user;return(0,n.jsx)(eM,{testId:r.email,title:"".concat(r.displayName," ").concat(r.id===s.id?U.ag._({id:"dDUgzP"}):""),img:(0,n.jsx)(G.q,{name:r.displayName,src:r.profileImageUrl,size:"sm"}),subtitle:t?void 0:r.email,isDisabled:t,disabledText:l,tooltipText:i,workspaceGuestInvite:!t&&e.guest?(0,n.jsx)(e$,{name:r.displayName,workspaceName:null===(d=a.organization)||void 0===d?void 0:d.name,workspaceId:o,email:e.user.email}):void 0,permissionsControl:(0,n.jsx)(eR,{isDisabled:t,selected:e.permission,options:[S.y3$.Manage,S.y3$.Edit,S.y3$.Comment,S.y3$.View],disabledOptions:e.guest?[{permission:S.y3$.Manage,reason:U.ag._({id:"Rxin92"})}]:[],onClick:e=>{let t={docId:a.id,collaborators:[{userId:r.id,permission:e}]};f({variables:t,optimisticResponse:{addCollaborators:{id:t.docId,collaborators:P.map(t=>({...t,permission:t.user.id===r.id?e:t.permission})),invitations:O,__typename:"Doc"}}}).then(M("updated")).catch(()=>{})},onRemove:()=>{let e={docId:a.id,collaborators:[{userId:r.id}]};j({variables:e,optimisticResponse:{removeCollaborators:{id:e.docId,collaborators:P.filter(e=>e.user.id!==r.id),invitations:O,__typename:"Doc"}}}).then(M("removed"))}})},r.id)}return"DocInvitation"===e.__typename?(0,n.jsx)(eM,{testId:e.email,title:e.email,subtitle:U.ag._({id:"MActeE"}),img:(0,n.jsx)(c.Cd,{bg:"trueblue.50",size:8,children:(0,n.jsx)(y.G,{icon:C.FU$,size:"sm"})}),isDisabled:t,disabledText:l,permissionsControl:(0,n.jsx)(eR,{selected:e.permission,options:[S.y3$.Manage,S.y3$.Edit,S.y3$.Comment,S.y3$.View],disabledOptions:[{permission:S.y3$.Manage,reason:U.ag._({id:"Rxin92"})}],onClick:r=>{let t={docId:a.id,collaborators:[{email:e.email,permission:r}]};f({variables:t,optimisticResponse:{addCollaborators:{id:t.docId,invitations:O.map(t=>({...t,permission:t.email===e.email?r:t.permission})),collaborators:P,__typename:"Doc"}}}).then(M("updated")).catch(()=>{console.warn("Error updating permission")})},onRemove:()=>{let r={docId:a.id,collaborators:[{email:e.email}]};j({variables:r,optimisticResponse:{removeCollaborators:{id:r.docId,invitations:O.filter(r=>r.email!==e.email),collaborators:P,__typename:"Doc"}}}).then(M("removed"))}})},e.email):null})})]})};var eH=t(11050),eq=t(26284),eZ=t(29494),eX=t(84405);let eJ="embed-copied-toast",eQ=e=>{let{embedCode:r,isDisabled:t,docId:i}=e,o=(0,z.p)(),[l,a]=(0,w.useState)(!1),{hasCopied:s,onCopy:c}=(0,eq.V)(r),d=(0,w.useRef)(null);(0,w.useEffect)(()=>{d.current&&l&&(d.current.focus(),d.current.select())},[l]);let u=(0,w.useCallback)(()=>a(!0),[]),p=(0,w.useCallback)(()=>a(!1),[]),h=(0,w.useCallback)(()=>{c(),o.isActive(eJ)||o({id:eJ,title:(0,n.jsx)(_.cC,{id:"ETv+Uw"}),status:"success",duration:5e3}),(0,eX.J)({docId:i,source:"sharePanel",type:"embed"})},[i,c,o]);return(0,n.jsxs)(ez.g,{spacing:4,align:"stretch",children:[(0,n.jsx)(eZ.g,{ref:d,rows:5,variant:"filled",fontFamily:"mono",colorScheme:"gray",disabled:t,onClick:u,onBlur:p,isReadOnly:!0,resize:"none",pointerEvents:t?"none":void 0,defaultValue:r}),(0,n.jsx)(g.z,{alignSelf:"flex-end",onClick:h,isDisabled:t,size:"sm",...t?{opacity:"1 !important",color:"gray.400",_hover:{opacity:"1"},_active:{boxShadow:"0 none"}}:{},children:s?(0,n.jsx)(_.cC,{id:"6V3Ea3"}):(0,n.jsx)(_.cC,{id:"Sx4kHi"})})]})};var e0=t(60536);let e1=e=>{let{doc:r,onSharePanelOpen:t,onSharePanelClose:i}=e,o=(0,w.useMemo)(()=>(0,ee.lT)({docId:r.id,docTitle:r.title}),[r.id,r.title]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(D.x,{fontSize:"sm",color:"gray.600",pt:2,pb:2,children:(0,n.jsx)(_.cC,{id:"2QJhbq",values:{GAMMA_ARTIFACT_PROPER_NOUN:K.Yc}})}),(0,n.jsx)(c.xu,{pb:4,children:(0,n.jsx)(eQ,{embedCode:o,docId:r.id,isDisabled:!1})}),(0,n.jsx)(e0.V,{onClose:i,onOpen:t,segmentEvent:eH.AA.GAMMA_PRO_UPSELL_SHARE_SETTINGS_REMOVE_WATERMARK,doc:r})]})};var e2=t(80877),e5=t(74444),e3=t(42111),e4=t(91994),e9=t(25566),e8=t(75652),e6=t.n(e8),e7=t(14274),re=t(47968);let rr=(e,r)=>"".concat(e7.v.API_HOST||"","/export/docs/").concat(e,"/").concat(r),rt=async(e,r,t)=>{let i=rr(e,t);return fetch(i,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","share-token":e7.v.SHARE_TOKEN||""},body:JSON.stringify({docContent:r}),signal:AbortSignal.timeout(6e4)})},ri=function(e,r,t){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"pdf",o=(0,z.p)(),l=(0,w.useRef)(null),a=(0,eH.z$)(),[s,c]=(0,w.useState)(!1),d=(0,w.useCallback)(()=>{l.current=o({id:"export-toast-".concat(e.id,"-").concat(i),isClosable:!1,position:"top",duration:null,status:"loading",variant:"light",title:(0,n.jsx)(_.cC,{id:"N/fNtX",values:{format:i}})})},[null==e?void 0:e.id,o,i]),u=(0,w.useCallback)(()=>{l.current&&o.update(l.current,{status:"loading",variant:"light",title:(0,n.jsx)(_.cC,{id:"eJOEBy"}),description:(0,n.jsx)(_.cC,{id:"vMANwD"}),isClosable:!0})},[o,i]),p=(0,w.useCallback)(()=>{l.current&&o.update(l.current,{title:(0,n.jsx)(_.cC,{id:"walT1X"}),status:"error",duration:null,isClosable:!0})},[o]),h=(0,w.useCallback)(()=>{l.current&&o.update(l.current,{status:"info",variant:"light",title:(0,n.jsx)(_.cC,{id:"eJOEBy"}),description:(0,n.jsx)(_.cC,{id:"ADFWAc"}),isClosable:!0})},[o,i]),x=(0,w.useCallback)(e=>{l.current&&o.update(l.current,{status:"success",title:(0,n.jsx)(_.cC,{id:"pK8dQg"}),description:(0,n.jsx)(D.x,{children:(0,n.jsx)(_.cC,{id:"MTtTC2",components:{0:(0,n.jsx)(J.r,{textDecoration:"underline",target:"_blank",href:e||void 0,onClick:()=>l.current&&o.close(l.current)})}})}),isClosable:!0})},[o,i]),m=(0,w.useCallback)(()=>{let n=null==t?void 0:t.getJSON();c(!0),d();let o=setTimeout(u,3e4);rt(e.id,n,i).then(async t=>{var n;let o=await t.blob();if(!t.ok)throw Error("Export failed.");let l="pdf"===i?eH.AA.PDF_EXPORTED:eH.AA.PPTX_EXPORTED;null==a||a.track(l,{doc_id:e.id,source:r}),x(decodeURIComponent(t.headers.get("x-gamma-download-url")||"")||void 0);let s=window.URL.createObjectURL(o),c=document.createElement("a"),d=decodeURIComponent((null===(n=(t.headers.get("Content-Disposition")||"").split(";").find(e=>e.includes("filename=")))||void 0===n?void 0:n.replace("filename=","").trim())||"".concat(e.id,".").concat(i));c.download=d,c.href=s,c.style.display="none",document.body.appendChild(c),c.click(),c.remove()}).catch(e=>{"TimeoutError"===e.name?h():p()}).finally(()=>{c(!1),clearTimeout(o)})},[a,null==e?void 0:e.id,t,r,i,p,d,u,h,x]);return{handleExport:m,exportInProgress:s}},rn=e=>{let r=(0,e4.CG)(re.Pu),t=e.theme||r,i=(0,w.useMemo)(()=>{let e=t.fonts?[...t.fonts]:[];return e.length<2&&e.push({id:"Inter",name:"Inter",url:"https://fonts.googleapis.com/css2?family=Inter"}),e6()(e).map(e=>{var r;return(null===(r=e.url)||void 0===r?void 0:r.includes("fonts.googleapis.com"))?{name:e.name,url:"https://fonts.google.com/specimen/".concat(e.name)}:{name:e.name}}).filter(e=>!!e)},[t]);return i};var ro=t(69747),rl=t(68727);let ra=e=>{let{doc:r,editor:t,onSharePanelOpen:i,onSharePanelClose:o,isMultipage:l=!1}=e,a=(0,e4.CG)(re.Pu),s=a.config.headingGradient,c=(0,N.py)("edit",r),d=(0,e3.ye)("export");return d?(0,n.jsxs)(ez.g,{spacing:4,align:"start",pt:2,children:[(0,n.jsx)(D.x,{fontSize:"sm",color:"gray.600",children:l?(0,n.jsx)(_.cC,{id:"QI+Cf0",values:{0:r.title},components:{0:(0,n.jsx)("strong",{})}}):(0,n.jsx)(_.cC,{id:"qwhOQ/",values:{GAMMA_ARTIFACT_PROPER_NOUN:K.Yc}})}),(0,n.jsxs)(h.K,{spacing:2,width:"100%",children:[(0,n.jsx)(rd,{format:"pdf",label:"PDF",icon:C.gSj,accentColor:"red",doc:r,editor:t}),(0,n.jsx)(rd,{format:"pptx",label:"PowerPoint",icon:C.WOY,accentColor:"orange",doc:r,editor:t})]}),(0,n.jsxs)(h.K,{spacing:"2",w:"100%",children:[s&&(0,n.jsx)(rs,{}),(0,n.jsx)(rc,{doc:r})]}),t&&c&&(0,n.jsx)(D.x,{fontSize:"sm",color:"gray.600",children:(0,n.jsx)(_.cC,{id:"8LhjM/",components:{0:(0,n.jsx)(g.z,{variant:"link",as:"span",size:"sm",cursor:"pointer",onClick:()=>{o(),ro.pw.emit(ro.TI.OPEN_PAGE_SETUP,"cards")}})}})}),(0,n.jsx)(e0.V,{onClose:o,onOpen:i,segmentEvent:e9.AA.GAMMA_PRO_UPSELL_EXPORT_SETTINGS_REMOVE_WATERMARK,doc:r})]}):(0,n.jsxs)(B.b,{status:"warning",children:[(0,n.jsx)(e2.C,{children:(0,n.jsx)(_.cC,{id:"CfztD3"})}),(0,n.jsx)(e5.X,{children:(0,n.jsx)(_.cC,{id:"iKtv2V"})})]})},rs=()=>{let e=(0,en.ff)("gray.100","gray.800");return(0,n.jsxs)(B.b,{status:"info",bg:e,children:[(0,n.jsx)(F.z,{color:"gray.400",boxSize:"4",mt:"1",mr:"2.5"}),(0,n.jsx)(_.cC,{id:"lgULOV",values:{GAMMA_ARTIFACT_PROPER_NOUN:K.Yc}})]})},rc=e=>{let{doc:r}=e,t=rn(r),i=(0,en.ff)("gray.200","gray.700"),o=(0,en.ff)("gray.100","gray.800"),l=(0,en.ff)("white","gray.800"),a=(0,en.ff)("trueblue.400","trueblue.200"),s=(0,en.ff)("trueblue.300","trueblue.200");return t.length?(0,n.jsxs)(B.b,{status:"info",bg:o,children:[(0,n.jsx)(F.z,{color:"gray.400",boxSize:"4",mt:"1",mr:"2.5"}),(0,n.jsxs)(h.K,{children:[(0,n.jsx)(D.x,{fontSize:"sm",children:(0,n.jsx)(_.cC,{id:"5qYpE7"})}),(0,n.jsx)(X.U,{children:t.map(e=>{let{name:r,url:t}=e;return(0,n.jsx)(c.xu,{border:"1px",borderColor:i,borderRadius:"md",bg:l,h:"auto",_hover:t?{boxShadow:"var(--chakra-shadows-md)",borderColor:s,color:a}:{},transitionProperty:"common",transitionDuration:"normal",onClick:t?()=>window.open(t,"_blank"):void 0,cursor:t?"pointer":void 0,children:(0,n.jsxs)(X.U,{p:3,paddingRight:4,spacing:4,children:[(0,n.jsx)(D.x,{fontWeight:"medium",children:r}),t&&(0,n.jsx)(y.G,{icon:C.wlW,size:"1x"})]})},"name")})})]})]}):null},rd=e=>{let{format:r,doc:t,editor:i,icon:o,accentColor:l,label:a,badge:s}=e,{handleExport:c,exportInProgress:d}=ri(t,"share_panel",i,r);return(0,n.jsx)(rl.j,{onClick:c,icon:o,formatLabel:a,accentColor:l,exportInProgress:d,exportInProgressNote:(0,n.jsx)(_.cC,{id:"57bp6s"}),badge:s})};var ru=t(49259),rp=t(87436),rh=t(95897),rx=t(89511),rm=t(11121),rg=t(54933),rf=t(21979),rv=t(16893);let rj=e=>{let{subtitle:r,tooltipLabel:t,ariaLabel:i,icon:o}=e;return(0,n.jsxs)(X.U,{spacing:1,align:"center",children:[(0,n.jsx)(D.x,{fontSize:"xs",color:"gray.500",children:r}),(0,n.jsx)(k.kH,{label:t,placement:"top","aria-label":i,children:(0,n.jsx)(c.xu,{color:"gray.500",lineHeight:"1",children:(0,n.jsx)(y.G,{size:"xs",icon:o})})})]})};var rb=t(41098),rC=t(35183),ry=t(85573),rk=t(99793),r_=t(81640);let rw=e=>{var r;let{onClose:t,onOpen:i,accessLinkEnabled:o,doc:l,isDark:a,segmentEvent:s}=e,c=(0,z.p)(),{openUpsellModal:d}=(0,r_.z)(),[u,{data:p,loading:x}]=(0,S.deZ)(),[m,j]=(0,w.useState)(""),[b,C]=(0,w.useState)(""),[y,{loading:A}]=(0,S.DFf)(),[R]=(0,S.pi3)(),E=(0,I.Y)("password_protected_docs",l.organization),P=(null==l?void 0:null===(r=l.accessLinks)||void 0===r?void 0:r[0].type)==="password",[O,T]=(0,w.useState)((null==p?void 0:p.getDocPassword)||""),[N,M]=(0,w.useState)(P),W=P||N;(0,w.useEffect)(()=>{P&&u({variables:{docId:l.id},fetchPolicy:"network-only",nextFetchPolicy:"network-only"}).then(e=>{let{data:r}=e;j((null==r?void 0:r.getDocPassword)||""),T((null==r?void 0:r.getDocPassword)||"")})},[l,P,u,j]);let B=(0,w.useCallback)(e=>{if(o){if(E){if(M(e.target.checked),!e.target.checked){if(!P)return;R({variables:{docId:l.id}}).then(()=>{c({title:(0,n.jsx)(_.cC,{id:"YZNij4"}),status:"success",duration:3e3,isClosable:!0,position:"top"})}),j(""),T("")}}else e.preventDefault(),d({onOpenCallback:t,onCloseCallback:i,segmentEvent:s})}},[o,l,P,E,d,i,t,R,s,c]),F=(0,w.useCallback)(()=>{if(m.length<4||m.length>64){C(U.ag._({id:"S04MAD",values:{MIN_PASSWORD_LENGTH:4,MAX_PASSWORD_LENGTH:64}}));return}y({variables:{docId:l.id,password:m},refetchQueries:["GetDocPassword"]}).then(()=>{c({title:(0,n.jsx)(_.cC,{id:"R10gKk"}),status:"success",duration:3e3,isClosable:!0,position:"top"})}),T(m)},[l,m,T,C,y,c]);return(0,n.jsxs)(h.K,{w:"100%",children:[(0,n.jsxs)(X.U,{mt:4,children:[(0,n.jsxs)(X.U,{children:[(0,n.jsx)(D.x,{children:(0,n.jsx)(_.cC,{id:"F5g7OG"})}),!E&&(0,n.jsx)(f.C,{colorScheme:"purple",variant:"solid",children:K.ML})]}),(0,n.jsx)(v.L,{}),(0,n.jsx)(k.kH,{label:o?"":(0,n.jsx)(_.cC,{id:"5JvE0U"}),placement:"top",children:(0,n.jsx)(rb.r,{isChecked:N,disabled:!o,onChange:B})})]}),(0,n.jsx)(L.U,{in:W,children:(0,n.jsxs)(rC.NI,{isInvalid:!!b,children:[(0,n.jsx)(X.U,{children:x?(0,n.jsx)(ea.$,{size:"md"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ry.I,{id:"password",type:"text",value:m,onChange:e=>j(e.currentTarget.value),onKeyUp:e=>{"Enter"===e.key&&F(),b&&m.length>=4&&m.length<=64&&C("")},width:"50%",placeholder:U.ag._({id:"f7sXvi"}),bg:a?void 0:"white"}),(0,n.jsx)(g.z,{isDisabled:m===O,variant:"plain",onClick:F,isLoading:A,children:(0,n.jsx)(_.cC,{id:"tfDRzk"})})]})}),b&&(0,n.jsx)(rk.J1,{children:b})]})})]})},rS=()=>({view:{subtitle:U.ag._({id:"ihPQra"}),tooltip:(0,R.tN)()},comment:{subtitle:U.ag._({id:"qPZYdC"}),tooltip:U.ag._({id:"oKPro/",values:{0:(0,R.tN)()}})},edit:{subtitle:U.ag._({id:"TVFcVE"}),tooltip:U.ag._({id:"2gPY9r",values:{0:(0,R.tN)()}})}}),rA=e=>{var r;let{doc:t,isConnected:o,onSharePanelOpen:l,onSharePanelClose:a,canManage:s,isDark:d}=e,u=(0,z.p)(),p=(0,rv.A)(rS),h=(0,e3.ye)("passwordProtectedDoc")&&s,x=null==t?void 0:null===(r=t.accessLinks)||void 0===r?void 0:r[0],m=(null==x?void 0:x.type)==="password",[g,f]=(0,w.useState)(!1),[v]=(0,S.kTH)(),j=(null==x?void 0:x.permission)?null==x?void 0:x.permission:i.NoAccess,k=j===i.NoAccess,A=(null==x?void 0:x.token)==="",I=x&&x.permission!==S.y3$.View,R=e=>()=>{let r="updated"===e?U.ag._({id:"Xpw8aE"}):U.ag._({id:"jwO7L7"});u({title:r,status:"success",duration:5e3,isClosable:!0,position:"top"})},E=(0,w.useMemo)(()=>(0,ee.Gn)({docTitle:null==t?void 0:t.title,docId:null==t?void 0:t.id,token:null==x?void 0:x.token,absolute:!0}),[t,null==x?void 0:x.token]),P=(0,n.jsx)(e0.V,{onClose:a,onOpen:l,segmentEvent:eH.AA.GAMMA_PRO_UPSELL_SHARE_SETTINGS_REMOVE_WATERMARK,doc:t});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eD,{showDivider:!1,children:s&&(0,n.jsxs)(eD,{showDivider:!1,children:[(0,n.jsx)(eM,{title:m?(0,n.jsx)(_.cC,{id:"gbBlJ4"}):(0,n.jsx)(_.cC,{id:"qZu20V"}),subtitle:k?U.ag._({id:"vMZPZT"}):(0,n.jsx)(rj,{subtitle:p[j].subtitle,tooltipLabel:p[j].tooltip,ariaLabel:p[j].subtitle,icon:C.DBf}),img:(0,n.jsx)(er,{icon:m?C.LbY:C.nNP,showDisabled:k}),isDisabled:!(s&&o),disabledText:eI[i.NoAccess].title(),permissionsControl:(0,n.jsx)(eR,{selected:j,options:[S.y3$.Edit,S.y3$.Comment,S.y3$.View,i.NoAccess],onClick:e=>{let r=null==x?void 0:x.id,n={id:t.id,accessLinks:e===i.NoAccess?[{permission:null}]:[{permission:e}]};v({variables:n,optimisticResponse:{updateDoc:{...n,accessLinks:[{__typename:"AccessLink",id:r||"temp-id",permission:e===i.NoAccess?null:e}],__typename:"Doc"}}}).then(R(e===i.NoAccess?"removed":"updated"))}})}),(0,n.jsxs)(L.U,{animateOpacity:!0,in:!!(null==x?void 0:x.permission),children:[(0,n.jsx)(rf.I,{url:E,customLabel:U.ag._({id:"y1eoq1"}),onClick:()=>{(0,eX.J)({docId:t.id,source:"sharePanel",type:"tokenUrl"})}}),!A&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(L.U,{in:g,unmountOnExit:!0,children:(0,n.jsxs)(ez.g,{mt:3,align:"stretch",spacing:4,bg:"gray.50",p:6,borderRadius:"md",children:[(0,n.jsxs)(X.U,{spacing:4,align:"center",children:[(0,n.jsx)(c.xu,{color:"purple.600",children:(0,n.jsx)(y.G,{fixedWidth:!0,icon:rg._1N})}),(0,n.jsx)(D.x,{fontSize:"sm",children:(0,n.jsx)(_.cC,{id:"asiJbp"})})]}),(0,n.jsxs)(X.U,{spacing:4,align:"center",children:[(0,n.jsx)(c.xu,{color:"purple.600",children:(0,n.jsx)(y.G,{fixedWidth:!0,icon:rg.Mdf})}),(0,n.jsx)(D.x,{fontSize:"sm",display:"inline-block",children:(0,n.jsx)(_.cC,{id:"+g8rkW",values:{GAMMA_ARTIFACT_PROPER_NOUN:K.Yc,GAMMA_PROPER_NOUN:K.N6}})})]}),I&&(0,n.jsxs)(X.U,{spacing:4,align:"center",children:[(0,n.jsx)(c.xu,{color:"purple.600",children:(0,n.jsx)(y.G,{fixedWidth:!0,icon:rg.FKd})}),(0,n.jsx)(D.x,{fontSize:"sm",children:(0,n.jsx)(_.cC,{id:"NSCwrX",values:{GAMMA_PROPER_NOUN:K.N6,selectedAccessLinkPermission:j},components:{0:(0,n.jsx)(D.x,{as:"span",fontWeight:"bold"})}})})]})]})}),(0,n.jsx)(b.k,{justify:"center",alignItems:"center",my:3,children:(0,n.jsxs)(X.U,{spacing:1,as:"button",onClick:()=>f(!g),children:[g?(0,n.jsx)(y.G,{fixedWidth:!0,size:"xs",icon:C.onQ}):(0,n.jsx)(y.G,{fixedWidth:!0,size:"xs",icon:C.r8p}),(0,n.jsx)(D.x,{lineHeight:"normal",marginLeft:"auto",marginRight:"auto",fontSize:"xs",fontWeight:"medium",children:g?(0,n.jsx)(_.cC,{id:"BRvU04"}):(0,n.jsx)(_.cC,{id:"l0Ck42"})})]})})]})]})]})}),h?(0,n.jsx)(ru.U,{defaultIndex:[0],allowToggle:!0,bgColor:d?"gray.800":"gray.100",borderRadius:"md",borderColor:"transparent",children:(0,n.jsxs)(rp.Q,{children:[(0,n.jsxs)(rh.K,{children:[(0,n.jsx)(c.xu,{as:"span",flex:"1",textAlign:"left",fontWeight:"medium",children:(0,n.jsx)(_.cC,{id:"VNgKZz"})}),(0,n.jsx)(rx.X,{})]}),(0,n.jsxs)(rm.H,{children:[P,(0,n.jsx)(rw,{onClose:a,onOpen:l,segmentEvent:eH.AA.GAMMA_PRO_UPSELL_SHARE_SETTINGS_REMOVE_WATERMARK,doc:t,isDark:d,accessLinkEnabled:!k})]})]})}):P]})},rI=e=>{let{visibility:r,isFromOtherOrg:t}=e,i=(0,en.ff)("white","var(--chakra-colors-gray-900)");return(0,n.jsxs)(n.Fragment,{children:[t&&(0,n.jsx)(y.G,{icon:C.Gg}),(0,n.jsxs)(c.xu,{as:"span",className:"fa-layers fa-fw",children:[(0,n.jsx)(y.G,{icon:r.primaryIcon}),r.secondaryIcon&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(y.G,{icon:rg.diR,color:i,transform:"down-6 right-6"}),(0,n.jsx)(y.G,{icon:r.secondaryIcon,transform:"shrink-7 right-6 down-6"})]})]})]})},rR=e=>{var r;let{doc:t,editor:i,isSharePanelOpen:z,onSharePanelClose:D,onSharePanelOpen:L,onAnalyticsPanelOpen:W,view:B,setView:F,showAnalytics:G=!0,showSharePublic:U=!0,showEmbed:$=!0,showSiteSettings:V=!0}=e,K=(0,T.Yy)(),Y=(0,I._O)(),{openSiteSettings:H}=(0,M.AA)(),q=(0,w.useRef)(!1),{user:Z,currentWorkspace:X}=(0,N.SE)(),{isConnected:J}=(0,S.$gs)(),Q=(0,N.py)("manage",t),ee=(0,N.py)("comment",t),{isOpen:er,onClose:et}=(0,A.M)({id:"create-site-modal"}),ei=t&&t.site&&t.site.routes.length>1,en=t&&(0,O.Vr)(t.site),eo=(0,R.ei)({showSharePublic:U&&Q&&!en,showEmbed:$&&Q&&!en}),el=Q&&W&&t&&!en,[ea,es]=(0,w.useState)(()=>()=>Promise.resolve()),ec=(0,w.useCallback)(()=>{D(),et()},[D,et]),ed=t?ei?t.site.name:t.title:null,eu=(0,w.useCallback)(()=>{ea().then(()=>{F("invite"),D()},()=>{console.debug("[handleSharePanelClose] CollaboratorSearchBar rejected \uD83D\uDC4E\uD83C\uDFFC")})},[F,D,ea]),ep=(0,w.useCallback)(()=>{W&&(D(),W())},[W,D]),eh=(0,w.useCallback)(()=>{H("domains"),D()},[D,H]);if(!Z)return null;let ex=(0,E.h_)(t,Z),em=ex?(0,E.Xp)()[ex]:null,eg=(0,E.Gi)(t,X);if(t&&null===em)return console.error("[SharePanel] Unknown VisibilityValue for doc",t),null;let ef=null==t?void 0:null===(r=t.organization)||void 0===r?void 0:r.id;!t||ef||q.current||(console.error("[SharePanelModal] Doc unexpectedly doesnt have a workspaceId",{docId:t.id,organization:t.organization}),q.current=!0);let ev=K?"gray.400":"gray.600",ej=K?"whiteAlpha.200":"trueblue.50",eb=K?"trueblue.200":"trueblue.500";return(0,n.jsxs)(k.Wk,{isDark:K,children:[(0,n.jsxs)(o.u_,{onEsc:eu,isOpen:z,onClose:D,trapFocus:!1,size:"3xl",returnFocusOnClose:!1,children:[(0,n.jsx)(l.Z,{}),(0,n.jsxs)(a.h,{color:K?"white":"gray.800",bg:K?"gray.900":"white","data-share-panel-modal-content":!0,mx:2,borderColor:K?"gray.700":"gray.200",children:[(0,n.jsxs)(s.x,{children:[em&&(0,n.jsx)(c.xu,{as:"span",mr:3,children:(0,n.jsx)(rI,{visibility:em,isFromOtherOrg:eg})}),ed?(0,n.jsx)(_.cC,{id:"sit2to",values:{displayName:ed}}):(0,n.jsx)(_.cC,{id:"Z8lGw6"})]}),(0,n.jsx)(d.o,{"data-share-panel-close-button":!0,onClick:e=>{e.preventDefault(),eu()}}),(0,n.jsx)(u.i,{}),t?(0,n.jsx)(p.f,{"data-testid":"share-panel-modal-body",children:t&&ef&&(0,n.jsxs)(n.Fragment,{children:[Q&&(0,n.jsxs)(h.K,{direction:"row",alignItems:"center",children:[(0,n.jsx)(m.E,{my:4,children:eo.map(e=>{let{viewKey:r,icon:t,ariaLabel:i,label:o,isBeta:l}=e,a=B===r;return(0,n.jsx)(m.U,{children:(0,n.jsx)(g.z,{leftIcon:(0,n.jsx)(y.G,{icon:t,"aria-label":i}),variant:"ghost",size:"sm",fontWeight:"600",bg:a?ej:"transparent",color:a?eb:ev,onClick:()=>F(r),rightIcon:l?(0,n.jsx)(f.C,{colorScheme:"green",children:(0,n.jsx)(_.cC,{id:"YBt9YP"})}):void 0,children:o})},r)})}),V&&!(null==t?void 0:t.site)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v.L,{}),(0,n.jsx)(g.z,{flexShrink:0,onClick:eh,variant:"plain",size:"sm",my:4,alignSelf:"flex-start",children:(0,n.jsx)(_.cC,{id:"sAalO9"})})]})]}),(!ee||"invite"==B)&&(0,n.jsx)(eY,{workspaceId:ef,doc:t,user:Z,setVerifySearchDone:es,canManage:Q,isFromOtherOrg:eg,isMultipage:ei,isDark:K}),Q&&"public"===B&&(0,n.jsx)(rA,{doc:t,isConnected:J,onSharePanelOpen:L,onSharePanelClose:D,canManage:Q,isDark:K}),Q&&"embed"===B&&(0,n.jsx)(e1,{doc:t,onSharePanelOpen:L,onSharePanelClose:D}),ee&&"export"===B&&(0,n.jsx)(ra,{doc:t,editor:i,onSharePanelOpen:L,onSharePanelClose:D,isMultipage:ei})]})}):(0,n.jsx)(p.f,{pb:6,"data-testid":"share-panel-modal-body",children:(0,n.jsxs)(h.K,{children:[(0,n.jsx)(x.O,{height:"55px"}),(0,n.jsx)(x.O,{height:"55px"}),(0,n.jsx)(x.O,{height:"55px"}),(0,n.jsx)(x.O,{height:"55px"})]})}),(0,n.jsx)(u.i,{}),(0,n.jsx)(j.m,{children:(0,n.jsxs)(b.k,{justifyContent:"space-between",flex:1,children:[G&&el&&(0,n.jsx)(g.z,{isDisabled:!J,leftIcon:(0,n.jsx)(y.G,{icon:C.Ma4}),variant:"ghost",onClick:ep,children:(0,n.jsx)(_.cC,{id:"YaUqUV"})}),(0,n.jsx)(v.L,{}),(0,n.jsx)(g.z,{onClick:e=>{e.preventDefault(),eu()},variant:"solid",children:(0,n.jsx)(_.cC,{id:"DPfwMq"})})]})})]})]}),(null==t?void 0:t.id)&&Y&&Q&&(0,n.jsx)(P.M,{isOpen:er,onClose:ec,existingDoc:t})]})}},91283:function(e,r,t){t.d(r,{XG:function(){return i.XG},t9:function(){return i.t9},zx:function(){return E},bg:function(){return P}});var i=t(34613),n=t(52322),o=t(92850),l=t(26468),a=t(22226),s=t(54326),c=t(2338),d=t(97217),u=t(77533),p=t(28535),h=t(50250),x=t(75768),m=t(62614),g=t(55478),f=t(70065),v=t(42946),j=t(49929),b=t(5879),C=t(87254),y=t(1842),k=t.n(y),_=t(2784),w=t(93624),S=t(94199),A=t(39278),I=t(8174),R=t(16710);let E=e=>{var r;let{onClose:t,onSubmit:g,doc:f}=e,y=(0,A.py)("manage",f||void 0),{isConnected:k}=(0,w.$gs)(),[S,I]=(0,_.useState)(w.y3$.Manage);return f?(0,n.jsxs)(o.u_,{closeOnOverlayClick:!1,isOpen:!0,onClose:t,size:"lg",children:[(0,n.jsx)(l.Z,{}),(0,n.jsxs)(a.h,{"data-testid":"workspace-permissions-prompt",children:[(0,n.jsx)(s.x,{children:(0,n.jsx)(b.cC,{id:"JzTAyU",values:{0:f.title}})}),(0,n.jsx)(c.o,{}),(0,n.jsxs)(d.f,{children:[(0,n.jsx)(u.x,{mb:6,children:(0,n.jsx)(b.cC,{id:"wKPcxh"})}),(0,n.jsx)(i.o$,{testId:"workspace",title:(0,n.jsx)(b.cC,{id:"wtxjAY"}),subtitle:C.ag._({id:"aC87LX",values:{0:null==f?void 0:null===(r=f.organization)||void 0===r?void 0:r.name}}),isDisabled:!y||!k,img:(0,n.jsx)(p.Cd,{color:"gray.800",textAlign:"center",bg:"gray.200",size:"32px",children:(0,n.jsx)(j.G,{size:"1x",icon:v.P88})}),disabledText:i.Nj[S].title(),permissionsControl:(0,n.jsx)(i.t9,{selected:S,options:[w.y3$.Manage,w.y3$.Edit,w.y3$.Comment,w.y3$.View],onClick:e=>{I(e)}})})]}),(0,n.jsx)(h.m,{children:(0,n.jsxs)(x.h,{children:[(0,n.jsx)(m.z,{variant:"ghost",onClick:t,children:(0,n.jsx)(b.cC,{id:"dEgA5A"})}),(0,n.jsx)(m.z,{variant:"solid","data-testid":"workspace-permissions-submit",onClick:()=>{g(S),t()},children:(0,n.jsx)(b.cC,{id:"DPfwMq"})})]})})]})]}):(0,n.jsx)(n.Fragment,{})},P=()=>{let{onOpen:e,isOpen:r,onClose:t}=(0,g.q)({id:"workspacePermissionPromptDisclosure"}),[i]=(0,w.rIg)(),{currentWorkspace:n}=(0,A.SE)(),o=(0,f.p)(),{addDocChannel:l}=(0,I.Z)(),[a,s]=(0,_.useState)(null),[c,d]=(0,_.useState)(null),u=(0,A.we)(),p=(0,_.useCallback)((e,r)=>{let t=(e.channels||[]).find(e=>e.id===r.id),i=(0,R.Gi)(e,n),l=u.cannot("manage",e)&&k()(e.orgAccess);return i?(o({description:C.ag._({id:"doMS3L",values:{GAMMA_ARTIFACT_PROPER_NOUN:S.Yc}}),status:"warning",duration:5e3,isClosable:!0,position:"top"}),!1):l?(o({description:C.ag._({id:"81ZRAa",values:{GAMMA_ARTIFACT_PROPER_NOUN:S.Yc}}),status:"warning",duration:5e3,isClosable:!0,position:"top"}),!1):!t||(o({description:C.ag._({id:"FRsVHP",values:{GAMMA_ARTIFACT_PROPER_NOUN:S.Yc}}),status:"warning",duration:5e3,isClosable:!0,position:"top"}),!1)},[u,o,n]),h=(0,_.useCallback)(e=>{if(!a||!c)return;let{id:r}=a;i({variables:{id:r,orgAccess:e},optimisticResponse:{updateDoc:{id:r,orgAccess:e,__typename:"Doc"}}}).then(()=>{l({doc:a,channel:c,existingChannels:null==a?void 0:a.channels})}).catch(e=>{console.error("[useAddDocToChannel.updatedocOrgAccess] Error setting doc orgAccess for doc id",r),o({title:C.ag._({id:"SlfejT"}),description:C.ag._({id:"x9Wysy",values:{0:e.message}}),status:"error"})})},[l,a,c,o,i]),x=(0,_.useCallback)((r,t)=>{let i=p(r,t);i&&(r.orgAccess?l({doc:r,channel:t,existingChannels:(null==r?void 0:r.channels)||[]}):(s(r),d(t),e()))},[l,e,p]),m=(0,_.useCallback)(()=>{d(null),s(null),t()},[t]);return{isOpen:r,onClose:m,doc:a,handleAddDocToChannel:x,updateWorkspacePermissionThenAddToChannel:h}}},8174:function(e,r,t){t.d(r,{Z:function(){return c}});var i=t(52322),n=t(70065),o=t(5879),l=t(2784),a=t(93624),s=t(94199);let c=()=>{let e=(0,n.p)(),[r]=(0,a.yx3)({refetchQueries:["GetChannelDocActivity","GetChannels"]}),t=(0,l.useCallback)(t=>{let{docId:n,doc:l,channel:c,existingChannels:d=[]}=t,u=n||(null==l?void 0:l.id);if(!u){console.error("Invalid docid");return}let p={input:{docId:u,sharing:[{op:a.Bdm.Add,path:"/channels",value:[{channelId:c.id}]}]}},h=(null==l?void 0:l.title)||s.Yc,x=[...d,{id:c.id,slug:c.slug,name:c.name,permission:a.y3$.Comment}].sort((e,r)=>e.slug.localeCompare(r.slug,"en"));r({variables:p,update:(e,r)=>{let{data:t}=r;e.writeFragment({id:"Doc:".concat(u),fragment:a.IiT,data:null==t?void 0:t.updatePublicChannels})},optimisticResponse:{updatePublicChannels:{id:p.input.docId,channels:x}}}).then(()=>{e({title:(0,i.jsx)(o.cC,{id:"7hDHpt",values:{title:h}}),description:(0,i.jsx)(o.cC,{id:"A2xcFn",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.Yc,0:c.name}}),status:"success",duration:5e3,isClosable:!0,position:"top"})},r=>{e({title:(0,i.jsx)(o.cC,{id:"bLdU0Q",values:{title:h,0:c.name}}),description:r.message,duration:null,status:"error",isClosable:!0,position:"top"})})},[r,e]),c=(0,l.useCallback)((t,n)=>{var l;if(!n)return;let c={input:{docId:t.id,sharing:[{op:a.Bdm.Remove,path:"/channels",value:[{channelId:n}]}]}};r({variables:c,update:(e,r)=>{let{data:i}=r;e.writeFragment({id:"Doc:".concat(t.id),fragment:a.P6u,data:null==i?void 0:i.updatePublicChannels})},optimisticResponse:{updatePublicChannels:{id:c.input.docId,channels:null===(l=t.channels)||void 0===l?void 0:l.filter(e=>e.id!==n)}}}).then(()=>{e({title:(0,i.jsx)(o.cC,{id:"qsnpV6",values:{GAMMA_ARTIFACT_PROPER_NOUN:s.Yc}}),status:"success",duration:1e4,position:"top"})}).catch(r=>{e({title:(0,i.jsx)(o.cC,{id:"+yMzgs"}),description:r.message,status:"error",duration:3e3,isClosable:!0,position:"top"}),console.error("[addRemoveDocChannel] Error removing channel:",r.message)})},[r,e]);return{addDocChannel:t,removeDocChannel:c}}},16710:function(e,r,t){t.d(r,{Gi:function(){return d},Xp:function(){return h},h_:function(){return x},nZ:function(){return f},qw:function(){return m},uG:function(){return v}});var i=t(52322),n=t(42946),o=t(5879),l=t(87254),a=t(94199),s=t(30579),c=t(78462);let d=(e,r)=>{var t;return(null==e?void 0:null===(t=e.organization)||void 0===t?void 0:t.id)!==(null==r?void 0:r.id)},u={PRIVATE:"private",LINK_VIEW:"link-view",LINK_COMMENT:"link-comment",LINK_EDIT:"link-edit",PASSWORD_VIEW:"password-view",PASSWORD_COMMENT:"password-comment",PASSWORD_EDIT:"password-edit",INDIVIDUAL:"individual",ORG_VIEW:"org-view",ORG_COMMENT:"org-comment",ORG_EDIT:"org-edit",ORG_MANAGE:"org-manage",CHANNEL_PRIVATE:"channel-private",PUBLIC:"public"},p=[u.ORG_VIEW,u.ORG_COMMENT,u.ORG_EDIT,u.ORG_MANAGE],h=()=>({[u.PRIVATE]:{title:()=>l.ag._({id:"IZiYjM",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc}}),subtitle:()=>l.ag._({id:"nHujJB",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc}}),primaryIcon:n.byT},[u.LINK_VIEW]:{title:()=>l.ag._({id:"Pb5t/X",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc}}),primaryIcon:n.nNP},[u.LINK_COMMENT]:{title:()=>l.ag._({id:"FUtIA5",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc}}),primaryIcon:n.nNP},[u.LINK_EDIT]:{title:()=>l.ag._({id:"tNOSZi",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc}}),primaryIcon:n.nNP},[u.PASSWORD_VIEW]:{title:()=>l.ag._({id:"s1I4TC",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc}}),primaryIcon:n.LbY},[u.PASSWORD_COMMENT]:{title:()=>l.ag._({id:"ZVsBuN",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc}}),primaryIcon:n.LbY},[u.PASSWORD_EDIT]:{title:()=>l.ag._({id:"IAzUDH",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc}}),primaryIcon:n.LbY},[u.INDIVIDUAL]:{title:()=>l.ag._({id:"IB6oAl",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc}}),subtitle:e=>"".concat(e," can access this ").concat(a.Yc,"."),primaryIcon:n.ILF},[u.ORG_VIEW]:{title:e=>l.ag._({id:"S+losC",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc,org:e}}),primaryIcon:n.P88,secondaryIcon:n.Mdf},[u.ORG_COMMENT]:{title:e=>l.ag._({id:"acq2w5",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc,org:e}}),primaryIcon:n.P88,secondaryIcon:n.Mzg},[u.ORG_EDIT]:{title:e=>l.ag._({id:"FFdz7p",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc,org:e}}),primaryIcon:n.P88,secondaryIcon:n.TzT},[u.ORG_MANAGE]:{title:e=>l.ag._({id:"3yNlmN",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc,org:e}}),primaryIcon:n.P88},[u.CHANNEL_PRIVATE]:{title:()=>l.ag._({id:"Tw6Jzi"}),primaryIcon:s.Ty},[u.PUBLIC]:{title:()=>l.ag._({id:"NMHF69",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc}}),primaryIcon:n.Xj}}),x=(e,r)=>{var t;if(!e)return null;let i=(null==e?void 0:e.orgAccess)==="manage"?u.ORG_MANAGE:(null==e?void 0:e.orgAccess)==="edit"?u.ORG_EDIT:(null==e?void 0:e.orgAccess)==="comment"?u.ORG_COMMENT:(null==e?void 0:e.orgAccess)==="view"?u.ORG_VIEW:(null==e?void 0:e.channels)&&e.channels.some(e=>null!==e.permission)?u.CHANNEL_PRIVATE:(null==e?void 0:e.collaborators)&&(null==e?void 0:null===(t=e.collaborators)||void 0===t?void 0:t.length)>1?u.INDIVIDUAL:(null==e?void 0:e.accessLinks)&&e.accessLinks.some(e=>"token"===e.type&&"view"===e.permission&&""===e.token)?u.LINK_VIEW:(null==e?void 0:e.accessLinks)&&e.accessLinks.some(e=>"token"===e.type&&"comment"===e.permission&&""===e.token)?u.LINK_COMMENT:(null==e?void 0:e.accessLinks)&&e.accessLinks.some(e=>"token"===e.type&&"edit"===e.permission&&""===e.token)?u.LINK_EDIT:(null==e?void 0:e.accessLinks)&&e.accessLinks.some(e=>"password"===e.type&&"view"===e.permission&&""===e.token)?u.PASSWORD_VIEW:(null==e?void 0:e.accessLinks)&&e.accessLinks.some(e=>"password"===e.type&&"comment"===e.permission&&""===e.token)?u.PASSWORD_COMMENT:(null==e?void 0:e.accessLinks)&&e.accessLinks.some(e=>"password"===e.type&&"edit"===e.permission&&""===e.token)?u.PASSWORD_EDIT:v(e,r)?u.PRIVATE:u.INDIVIDUAL;return i},m=e=>(null==e?void 0:e.orgAccess)?l.ag._({id:"5Ma3Lv",values:{GAMMA_ARTIFACT_PROPER_NOUN:a.Yc}}):null,g=(e,r,t)=>{var l,a;if(!r)return[];let h=(null==e?void 0:null===(l=e.channels)||void 0===l?void 0:l.map(e=>{let{id:r,name:t,slug:i}=e;return{id:r,label:t,href:(0,c.j)({id:r,slug:i}),icon:s.Ty}}))||[],m=x(e,r),g=d(e,t),f=g?[{id:"shared-from-external-org",label:(null==e?void 0:null===(a=e.organization)||void 0===a?void 0:a.name)?(0,i.jsx)(o.cC,{id:"lFZJ+N",values:{0:e.organization.name}}):(0,i.jsx)(o.cC,{id:"qn35Ez"}),icon:n.Gg,color:"gray.500"}]:[];if(m===u.PUBLIC)return[{id:"public",label:(0,i.jsx)(o.cC,{id:"7d1a0d"}),icon:n.Xj,color:"gray.500"},...f,...h];if(m===u.PRIVATE)return[{id:"private",label:(0,i.jsx)(o.cC,{id:"zwBp5t"}),icon:n.byT,color:"gray.500"},...f];if(m===u.INDIVIDUAL){let t=(e.collaborators||[]).filter(e=>e.user.id!==r.id).length;return[{id:"collaborators",label:(0,i.jsx)(o.cC,{id:"o2NxSP",values:{numCollaborators:t}}),icon:n.ILF,color:"gray.500"},...f]}return g?f:m&&p.includes(m)?[{id:"workspace",label:(0,i.jsx)(o.cC,{id:"0Gd0NU"}),icon:n.P88,color:"gray.500"},...f,...h]:h},f=e=>{let{doc:r,user:t,currentWorkspace:i,channelToExclude:n}=e;return g(r,t,i).filter(e=>e.id!==n)},v=(e,r)=>{var t;return e&&r&&!e.orgAccess&&(null===(t=e.createdBy)||void 0===t?void 0:t.id)===r.id}},46759:function(e,r,t){t.d(r,{M:function(){return I}});var i=t(52322),n=t(70065),o=t(92850),l=t(26468),a=t(22226),s=t(54326),c=t(2338),d=t(97217),u=t(43297),p=t(35183),h=t(97166),x=t(85573),m=t(50250),g=t(75768),f=t(62614),v=t(94523),j=t(5879),b=t(87254),C=t(5632),y=t(2784),k=t(93624),_=t(83669),w=t(15041),S=t(39278),A=t(78462);let I=e=>{var r;let{isOpen:t,onClose:I,existingDoc:R}=e,E=(0,n.p)(),P=(0,y.useRef)(null),[O,T]=(0,y.useState)(!1),{currentWorkspace:N}=(0,S.SE)(),[M,z]=(0,y.useState)(""),[D]=(0,k.V$$)(),[L]=(0,k.So6)(),W=(0,_.b)(),{push:B}=(0,C.useRouter)(),F=(0,y.useCallback)(async()=>{if(null==R?void 0:R.id){await (0,w.iL)(R.id),T(!0);try{var e,r;let{data:t}=await L({variables:{duplicateDocInput:{sourceDocId:R.id,source:k.L17.SitesCopyToSite,title:(null==R?void 0:R.title)||b.ag._({id:"wja8aL"}),orgId:null==N?void 0:N.id,orgAccess:k.y3$.Manage,themeId:null}}}),i=null==t?void 0:null===(e=t.duplicateDoc)||void 0===e?void 0:e.id;if(!i){console.error("[CreateSiteModal] Failed to duplicate doc with id",R.id);return}let{data:n}=await D({variables:{input:{workspaceId:null==N?void 0:N.id,name:M,routes:[{docId:i,path:"/"}],themeId:null==R?void 0:null===(r=R.theme)||void 0===r?void 0:r.id}}}),o=null==n?void 0:n.createSite;if(!o){console.error("[CreateSiteModal] Failed to create site, no site returned");return}let l=(0,A.yQ)({docId:i});B(l),I()}catch(e){E({status:"error",title:(0,i.jsx)(j.cC,{id:"Pdboh4"}),description:(0,i.jsx)(j.cC,{id:"c6YG3V"})}),console.error(e)}T(!1)}},[D,null==N?void 0:N.id,L,null==R?void 0:R.id,null==R?void 0:null===(r=R.theme)||void 0===r?void 0:r.id,null==R?void 0:R.title,M,B,E]),G=(0,y.useCallback)(async()=>{T(!0);let{data:e}=await D({variables:{input:{workspaceId:null==N?void 0:N.id,name:M,routes:[]}}}),r=null==e?void 0:e.createSite;if(!r){console.error("[CreateSiteModal] Failed to create site, no site returned");return}W({siteId:null==r?void 0:r.id,routes:null==r?void 0:r.routes,title:"Home",path:"/"})},[W,D,null==N?void 0:N.id,M]),U=(0,y.useCallback)(async()=>(null==R?void 0:R.id)?F():G(),[null==R?void 0:R.id,F,G]),$=M.length>0;return(0,i.jsx)(v.Wk,{isDark:!1,children:(0,i.jsxs)(o.u_,{isOpen:t,onClose:I,initialFocusRef:P,size:"2xl",children:[(0,i.jsx)(l.Z,{}),(0,i.jsxs)(a.h,{children:[(0,i.jsx)(s.x,{children:(0,i.jsx)(j.cC,{id:"JHMOcq"})}),(0,i.jsx)(c.o,{}),(0,i.jsx)(d.f,{children:(0,i.jsx)(u.K,{spacing:4,children:(0,i.jsxs)(p.NI,{children:[(0,i.jsx)(h.l,{children:(0,i.jsx)(j.cC,{id:"Lve3H6"})}),(0,i.jsx)(x.I,{ref:P,placeholder:b.ag._({id:"tlD7N3"}),onChange:e=>{z(e.target.value)},onKeyDown:e=>{$&&"Enter"===e.key&&U()}})]})})}),(0,i.jsx)(m.m,{children:(0,i.jsxs)(g.h,{children:[(0,i.jsx)(f.z,{variant:"ghost",onClick:I,children:(0,i.jsx)(j.cC,{id:"dEgA5A"})}),(0,i.jsx)(f.z,{variant:"solid",onClick:U,isDisabled:!$,isLoading:O,children:(0,i.jsx)(j.cC,{id:"JHMOcq"})})]})})]})]})})}},83669:function(e,r,t){t.d(r,{b:function(){return x}});var i=t(5632),n=t(2784),o=t(93624),l=t(84405),a=t(91257),s=t(4170),c=t(41425),d=t(12136),u=t(23147),p=t(50267),h=t(78462);let x=()=>{let e=(0,d.e)(),{user:r,currentWorkspace:t}=(0,p.SE)(),[x]=(0,o.CsQ)(),[m]=(0,o.qbt)(),{push:g}=(0,i.useRouter)(),f=(0,n.useCallback)(async i=>{let n,{title:d,path:p,siteId:f,routes:v,sourceDocId:j}=i;if(!p.startsWith("/")){console.error("[AddNewPageToSite] Path must start with /. Aborting.",p);return}if(!(null==t?void 0:t.id)||!f||!v)return;if(j)await e({docId:j,docTitle:d,source:o.L17.SitesDuplicatePage,onSuccess:e=>{n=e}});else{let e=(0,a.R$)({settings:{...(0,s.Y)(),defaultFullBleed:"full"},docFlags:{cardLayoutsEnabled:!0}}),i=(0,u.qI)(e),{data:h}=await x({variables:{workspaceId:null==t?void 0:t.id,title:d,source:o.L17.SitesAddPage,initialContent:{ydoc:i,schemaVersion:c.bI,editors:[null==r?void 0:r.id]},orgAccess:o.y3$.Manage,mainPage:"/"===p}});n=null==h?void 0:h.createDoc.id,(0,l.Q)({doc_id:n,source:o.L17.SitesAddPage,channel:null})}if(!f||!n){console.error("[AddPageModal] Site or doc id is undefined. Cannot add route.");return}await m({variables:{input:{siteId:f,docId:n,path:p,offline:!1}},refetchQueries:["GetSite"]});let b=(0,h.yQ)({docId:n});return console.debug("[AddPageModal] Doc created. Adding route then navigating to editor",n),await g(b,void 0,{shallow:!0}),n},[null==t?void 0:t.id,m,g,e,x,null==r?void 0:r.id]);return f}},53596:function(e,r,t){t.d(r,{n:function(){return b}});var i=t(52322),n=t(28535),o=t(82554),l=t(38035),a=t(77533),s=t(73200),c=t(5879),d=t(2784),u=t(74411),p=t(5200),h=t(30673),x=t(22569),m=t(87205),g=t(15151),f=t(46751),v=t(27333),j=t(5995);let b=(0,d.memo)(e=>{let{theme:r,variant:t="outline",children:d,...b}=e,{contentStyles:y}=r.config,k=(0,x.R5)(r),_=(0,u.wj)(r),w=(0,j.l)(r),S=(0,g.J)(r,!1),A=(0,x.wh)(k,_,m.Iv),I=C(r);return(0,i.jsxs)(n.xu,{css:w,sx:S,w:"100%",pos:"relative",children:[I&&null===r.workspaceId&&(0,i.jsx)(o.C,{pos:"absolute",right:-1,top:-1,zIndex:1,colorScheme:"green",children:(0,i.jsx)(c.cC,{id:"isRobC"})}),(0,i.jsxs)(l.k,{borderTopRadius:"ghost"===t?"none":"md",boxShadow:"sm",_focus:{boxShadow:"outline"},p:"1em",transitionProperty:"common",transitionDuration:"normal",...A,backgroundAttachment:"initial",direction:"row",align:"center",...b,children:[(0,i.jsx)(p.P,{theme:r}),(0,i.jsx)(n.xu,{sx:{...f.Fx,...y},borderRadius:"base",className:"".concat(h.pL," ").concat(_?"is-dark":""),color:_?"white":"gray.900",flex:1,pointerEvents:"none",children:(0,i.jsxs)(n.xu,{gridArea:'"body"',py:4,px:4,children:[(0,i.jsx)(a.x,{className:"block-title",mt:"0 !important",mb:"var(--chakra-space-1) !important",children:(0,i.jsx)(a.x,{as:"span",className:(0,s.cx)("title",v.A8),fontSize:"1.6em !important",paddingBottom:"0 !important",children:(0,i.jsx)(c.cC,{id:"MHrjPM"})})}),(0,i.jsx)(a.x,{fontSize:"0.9em !important",noOfLines:3,className:"block block-paragraph",my:"0 !important",children:(0,i.jsx)(c.cC,{id:"U41VTK",components:{0:(0,i.jsx)(a.x,{as:"a",className:"link"})}})})]})})]}),d]})});b.displayName="ThemePreviewThumbnail";let C=e=>{if(!e.createdTime)return!1;let r=new Date(e.createdTime),t=new Date;return t.setDate(t.getDate()-30),r>t}},12136:function(e,r,t){t.d(r,{e:function(){return m}});var i=t(52322),n=t(70065),o=t(5879),l=t(5632),a=t(2784),s=t(93624),c=t(49165),d=t(11050),u=t(84405),p=t(39278),h=t(41425),x=t(23147);let m=()=>{let[e]=(0,s.So6)({refetchQueries:["GetDocs"]}),{push:r}=(0,l.useRouter)(),t=(0,n.p)(),{user:m,currentWorkspace:g}=(0,p.SE)(),f=(0,d.z$)(),v=(0,a.useCallback)(async n=>{var l;let{docId:a,docTitle:s,initialContent:p,channelId:v,source:j,openThemeEditor:b,onSuccess:C,newWindow:y}=n,k=null==m?void 0:null===(l=m.settings)||void 0===l?void 0:l.needsEditorOnboarding;if(!a)return Promise.reject(Error("Cannot duplicate without a docId"));let _=t({id:"duplicate-toast-".concat(a),isClosable:!1,position:"top",status:"loading",variant:"light",duration:null,title:(0,i.jsx)(o.cC,{id:"OvEjsP"})});return m&&(null==g?void 0:g.id)?e({variables:{duplicateDocInput:{orgId:null==g?void 0:g.id,sourceDocId:a,source:c.R[j],initialContent:p?{ydoc:(0,x.qI)(p),schemaVersion:h.bI,editors:[null==m?void 0:m.id]}:void 0,...v?{channels:[{channelId:v}]}:{}}}}).then(e=>{var n,l,c;if(!(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.duplicateDoc))throw Error("No data received");null==f||f.track(d.AA.EXAMPLE_DUPLICATED,{doc_id:a,title:s,source:j});let p=null==e?void 0:null===(c=e.data)||void 0===c?void 0:null===(l=c.duplicateDoc)||void 0===l?void 0:l.id;(0,u.Q)({doc_id:p,source:j,source_doc_id:a}),console.debug("[Duplicate.".concat(j,"] Doc duplicated New doc id (").concat(p,"). Navigating to Editor")),t.update(_,{status:"success",description:(0,i.jsx)(o.cC,{id:"zzDlyQ"}),duration:5e3,isClosable:!0});let h=b?"/docs/".concat(p).concat(b?"?openThemeEditor=true":""):k?"/docs/".concat(p,"?tour=true"):"/docs/".concat(p);y?window.open(h,"_blank"):r(h),C&&p&&C(p)},e=>{console.error("[Duplicate.".concat(j,"] Error duplicating doc:"),e.message),t.update(_,{title:(0,i.jsx)(o.cC,{id:"ADJtFi"}),description:e.message,status:"error",duration:null,isClosable:!0})}).catch(e=>{console.error("[Duplicate.".concat(j,"] Error duplicating doc:"),e.message),t.update(_,{title:(0,i.jsx)(o.cC,{id:"ADJtFi"}),description:e.message,status:"error",duration:null,isClosable:!0})}):(console.error("[Duplicate.".concat(j,"] Cannot duplicate without a user or workspace"),{user:m}),Promise.reject(Error("Cannot duplicate without a user or workspace")))},[null==g?void 0:g.id,m,t,e,f,r]);return v}},68322:function(e,r,t){t.d(r,{W:function(){return S},c:function(){return A}});var i=t(52322),n=t(55478),o=t(92850),l=t(26468),a=t(22226),s=t(54326),c=t(2338),d=t(97217),u=t(43297),p=t(77533),h=t(38035),x=t(82713),m=t(28535),g=t(50250),f=t(75768),v=t(62614),j=t(5879),b=t(2784),C=t(93624),y=t(16893),k=t(81640),_=t(1163),w=t(80498);let S=()=>{let[e,r]=(0,b.useState)(!1),{product:t}=(0,k.z)(),i=!!t,[o,l]=(0,b.useState)(new w.B),{isOpen:a,onOpen:s,onClose:c}=(0,n.q)({id:"confirm-add-paid-user"}),d=(0,b.useCallback)(()=>r(e=>!e),[]),u=(0,b.useCallback)(()=>{o.reject(),r(!1),c()},[c,o]),p=(0,b.useCallback)(()=>{o.resolve(!0),r(!1),c()},[c,o]),h=(0,b.useCallback)(()=>{if(!i)return Promise.resolve();let e=new w.B;return l(e),s(),e.promise},[i,s]);return{isConfirmAddPaidMemberModalOpen:a,isConfirmAddPaidMemberModalChecked:e,onConfirmAddPaidMemberClose:u,onConfirmAddPaidMemberClick:p,showConfirmPaidUserModal:h,onConfirmAddPaidMemberClickCheckbox:d}},A=e=>{let{isOpen:r,newMemberCount:t,isChecked:n,onClose:w,onConfirmClick:S,onCancelClick:A,onCheckboxConfirm:I}=e,{subscription:R}=(0,k.z)(),E=(0,b.useCallback)(()=>(0,_.Y0)(R,t),[R,t]),{totalPrice:P,productPrice:O}=(0,y.A)(E,[t,R]);if(!r||!R)return null;let T=(null==O?void 0:O.frequencyUnit)===C.C_B.Month?(0,i.jsx)(j.cC,{id:"JKIwMd",values:{newMemberCount:t,totalPrice:P},components:{0:(0,i.jsx)("strong",{}),1:(0,i.jsx)("strong",{})}}):(0,i.jsx)(j.cC,{id:"Pltlc3",values:{newMemberCount:t,totalPrice:P},components:{0:(0,i.jsx)("strong",{}),1:(0,i.jsx)("strong",{})}});return(0,i.jsxs)(o.u_,{isOpen:r,onClose:w,trapFocus:!1,size:"xl",children:[(0,i.jsx)(l.Z,{}),(0,i.jsxs)(a.h,{children:[(0,i.jsx)(s.x,{children:(0,i.jsx)(j.cC,{id:"B9zUUN",values:{newMemberCount:t}})}),(0,i.jsx)(c.o,{}),(0,i.jsx)(d.f,{children:(0,i.jsxs)(u.K,{spacing:4,children:[(0,i.jsx)(p.x,{as:"span",children:(0,i.jsx)(j.cC,{id:"c6yFkJ"})}),(0,i.jsxs)(h.k,{gap:3,alignItems:"start",children:[(0,i.jsx)(x.X,{mt:1,isChecked:n,onChange:I}),(0,i.jsx)(p.x,{children:T})]}),(0,i.jsx)(m.xu,{fontSize:"sm",bgColor:"gray.200",p:4,borderRadius:"md",children:(0,i.jsx)(p.x,{children:(0,i.jsx)(j.cC,{id:"mjZQpA"})})})]})}),(0,i.jsx)(g.m,{children:(0,i.jsxs)(f.h,{children:[(0,i.jsx)(v.z,{variant:"ghost",colorScheme:"gray",onClick:A,children:(0,i.jsx)(j.cC,{id:"dEgA5A"})}),(0,i.jsx)(v.z,{variant:"solid",onClick:S,isDisabled:!n,children:(0,i.jsx)(j.cC,{id:"WMsmjg",values:{newMemberCount:t}})})]})})]})]})}},55089:function(e,r,t){t.d(r,{t9:function(){return eJ},kV:function(){return e2},ER:function(){return e5},p7:function(){return e4}});var i=t(52322),n=t(92850),o=t(26468),l=t(22226),a=t(54326),s=t(2338),c=t(74008),d=t(97217),u=t(28535),p=t(43297),h=t(74409),x=t(36371),m=t(73582),g=t(2969),f=t(3181),v=t(13272),j=t(50250),b=t(36474),C=t(75768),y=t(62614),k=t(42946),_=t(54933),w=t(49929),S=t(5879),A=t(2784),I=t(93624),R=t(87342),E=t(11050),P=t(39278),O=t(29705),T=t(11082),N=t(94523),M=t(82282),z=t(31807),D=t(6912),L=t(62131),W=t(11942),B=t(81640),F=t(42005),G=t(25566);let U=e=>{var r,t,n,o;let{memberCount:l}=e,{user:a,currentWorkspace:s}=(0,P.SE)(),{subscription:c,product:d,refetchSubscription:h}=(0,B.z)(),{launchCancelFlow:x,cancelFlowEnabled:m}=(0,D.B_)(c,s),[g,f]=(0,A.useState)(!1),v=(0,A.useCallback)(async()=>{if(x){F.c.track(G.AA.CANCEL_SUBSCRIPTION_CLICK,{source:"cancel-flow"}),f(!0);try{var e;let r=await x();(null==r?void 0:null===(e=r.sessionResults)||void 0===e?void 0:e.canceled)===!0&&await (null==h?void 0:h())}catch(e){console.warn("Failed to cancel subscription",e)}f(!1)}},[x,h]),j=null==c?void 0:null===(r=c.products)||void 0===r?void 0:r[0];if(!j||!d)return null;let b=!!(null==c?void 0:c.cancellationRequestedTime),_=!!(null==c?void 0:c.expirationTime)&&new Date>new Date(c.expirationTime),I=(null==c?void 0:null===(t=c.createdByUser)||void 0===t?void 0:t.id)===(null==a?void 0:a.id),R=I?(0,W._8)():null,E=(null==j?void 0:j.units)&&l?l-j.units:void 0,U="".concat(null==c?void 0:null===(n=c.createdByUser)||void 0===n?void 0:n.displayName," (").concat(null==c?void 0:null===(o=c.createdByUser)||void 0===o?void 0:o.email,")");return(0,i.jsxs)(p.K,{direction:"row",spacing:2,alignItems:"baseline",children:[(0,i.jsx)(L.Y7,{workspace:s}),E&&E>0&&I&&(0,i.jsx)(N.kH,{label:(0,i.jsx)(S.cC,{id:"J8+D9M",values:{addedSeats:E}}),placement:"top",children:(0,i.jsx)(u.xu,{color:"yellow.500",children:(0,i.jsx)(w.G,{icon:k.Vm4})})}),(0,i.jsxs)(C.h,{px:2,spacing:4,children:[(0,i.jsx)(N.kH,{placement:"top",shouldWrapChildren:!0,label:I?_?(0,i.jsx)(S.cC,{id:"uxwzHm",values:{0:(0,M.Z)((0,z.Z)(c.expirationTime),"PPP")}}):b?(0,i.jsx)(S.cC,{id:"SoEbnk",values:{0:(0,M.Z)((0,z.Z)(c.expirationTime),"PPP")}}):(0,i.jsx)(S.cC,{id:"HrQ7yf"}):(0,i.jsx)(S.cC,{id:"H49TQ5",values:{creatorNameAndEmail:U}}),children:(0,i.jsx)(y.z,{target:"_blank",href:I&&R?R:void 0,as:T.r,colorScheme:I?"trueblue":"gray",variant:"link",size:"sm",rightIcon:(0,i.jsx)(O.h,{ml:-1}),isDisabled:!I,children:(0,i.jsx)(S.cC,{id:"J/hVSQ",values:{0:b||_?"Re-activate subscription":"Manage subscription"}})})}),m&&!b&&I&&(0,i.jsx)(N.kH,{placement:"top",shouldWrapChildren:!0,label:(0,i.jsx)(S.cC,{id:"o/WrRZ"}),children:(0,i.jsx)(y.z,{colorScheme:"gray",color:"gray.600",variant:"link",size:"sm",onClick:v,isLoading:g,isDisabled:g,children:(0,i.jsx)(S.cC,{id:"fHXMPy"})})})]}),_?(0,i.jsx)(u.xu,{fontSize:"sm",color:"gray.400",children:(0,i.jsx)(S.cC,{id:"mrIVJ+",values:{0:(0,M.Z)((0,z.Z)(c.expirationTime),"PPP")}})}):b?(0,i.jsx)(u.xu,{fontSize:"sm",color:"gray.400",children:(0,i.jsx)(S.cC,{id:"uBqaX6",values:{0:(0,M.Z)((0,z.Z)(c.expirationTime),"PPP")}})}):(0,i.jsx)(u.xu,{fontSize:"sm",color:"gray.400",children:(0,i.jsx)(S.cC,{id:"TwZCUl",values:{0:(0,M.Z)((0,z.Z)(c.nextBillingTime),"PPP")}})})]})};var $=t(46640),V=t(70065),K=t(35183),Y=t(97166),H=t(85573),q=t(37733),Z=t(99793),X=t(87254),J=t(52610);let Q=e=>{let{workspace:r,canManageWorkspace:t}=e,n=(0,V.p)(),{refetch:o}=(0,P.SE)(),[l,a]=(0,A.useState)((null==r?void 0:r.name)||""),[s,c]=(0,A.useState)(!1),[d,{loading:h,called:x,error:m,reset:g}]=(0,I.Mqp)(),f=(0,A.useCallback)(()=>{c(!1),a((null==r?void 0:r.name)||"")},[null==r?void 0:r.name]),v=(0,A.useCallback)(()=>{d({variables:{input:{name:l,id:null==r?void 0:r.id}},fetchPolicy:"no-cache"}).then(()=>{null==o||o(),n({status:"success",title:"Success!",description:"Workspace updated successfully.",position:"top",duration:5e3}),setTimeout(()=>{c(!1),g()},1e3)}).catch(e=>{console.error('[WorkspaceSettingsModal] Error updating workspace "'.concat(null==r?void 0:r.id,'"'),e.message)})},[l,null==r?void 0:r.id,o,g,n,d]),j=""===l||l.length<J.My||l.length>50||!!(null==m?void 0:m.message);(0,A.useEffect)(()=>{l!==r.name&&c(!0)},[l,r.name]);let b=(0,J.up)();return r?(0,i.jsx)(u.xu,{children:(0,i.jsxs)(K.NI,{isInvalid:j,children:[(0,i.jsx)(Y.l,{children:(0,i.jsx)(S.cC,{id:"CozWO1"})}),(0,i.jsxs)(p.K,{w:"100%",direction:["column","row"],children:[(0,i.jsx)(N.kH,{placement:"top-start",label:(0,i.jsx)(S.cC,{id:"M1LZmX",values:{WORKSPACE_ADMIN_DISPLAY_NAME_PLURAL:b}}),isDisabled:t,children:(0,i.jsx)(u.xu,{flex:1,children:(0,i.jsx)(H.I,{w:["100%","50%"],placeholder:X.ag._({id:"CozWO1"}),value:l,disabled:!t,onChange:e=>a(e.target.value.slice(0,50))})})}),(0,i.jsx)(q.R,{in:s,unmountOnExit:!0,children:(0,i.jsx)(u.xu,{children:(0,i.jsxs)(C.h,{w:"100%",children:[(0,i.jsx)(y.z,{variant:"solid",isLoading:h,isDisabled:j||x,onClick:v,children:(0,i.jsx)(S.cC,{id:"EkH9pt"})}),(0,i.jsx)(y.z,{onClick:f,children:(0,i.jsx)(S.cC,{id:"dEgA5A"})})]})})})]}),(0,i.jsx)(K.Q6,{children:(0,i.jsx)(S.cC,{id:"ODB/Vo"})}),(0,i.jsx)(Z.J1,{children:(null==m?void 0:m.message)?null==m?void 0:m.message:(0,i.jsx)(S.cC,{id:"soNtuq",values:{WORKSPACE_NAME_MIN_LENGTH:J.My}})})]})}):null};var ee=t(46949),er=t(55478),et=t(77533),ei=t(38035),en=t(74105),eo=t(20816),el=t(46028),ea=t(7985),es=t(38045),ec=t(84636),ed=t.n(ec),eu=t(23312),ep=t(4758),eh=t(80498),ex=t(68322);let em=(0,es.E)(u.xu),eg=e=>{let{workspace:r,canManageWorkspace:t,setDoneFn:n}=e,o=(0,V.p)(),l=(0,A.useRef)(),a=(0,A.useRef)(null),[s,c]=(0,A.useState)([]),[d,p]=(0,A.useState)(new eh.B),[h,x]=(0,A.useState)(""),[m,{loading:g}]=(0,I.f4M)(),{isOpen:f,onOpen:v,onClose:j}=(0,er.q)({id:"confirm-unsent-invitations"}),{isConfirmAddPaidMemberModalOpen:b,isConfirmAddPaidMemberModalChecked:C,onConfirmAddPaidMemberClick:k,onConfirmAddPaidMemberClose:_,showConfirmPaidUserModal:w,onConfirmAddPaidMemberClickCheckbox:R}=(0,ex.W)(),E=(0,A.useMemo)(()=>s.concat({email:h.trim()}).filter(e=>!("email"in e)||(0,ea.G)(e.email||"")),[h,s]),P=!!(h.length||s.length),O=!!E.length;(0,A.useEffect)(()=>{n(()=>()=>(O?v():d.resolve(),d.promise))},[O,d,v,n]);let T=g||!t,M=(0,A.useCallback)(async()=>{if(0!==E.length)return m({variables:{workspaceId:r.id,invitees:E},refetchQueries:["GetWorkspace"]}).then(()=>{let e=(0,i.jsx)(S.cC,{id:"Ka86rB",values:{0:E.length}});o({title:e,description:(0,i.jsx)(et.x,{children:E.map(e=>(0,i.jsx)(et.x,{children:e.email},e.email))}),status:"success",position:"top",isClosable:!0,duration:9e3})})},[E,m,r.id,o]),z=(0,A.useCallback)(async()=>w().then(M).then(()=>{var e;c([]),x(""),null===(e=l.current)||void 0===e||e.resetItems(!0),d.resolve(),p(new eh.B)}).catch(e=>{console.warn(e)}),[w,M,d]),D=(0,A.useCallback)(e=>{c(r=>r.filter(r=>r.email!==e))},[]),L=(0,A.useCallback)(e=>{c(r=>ed()([...r,...e],"email"))},[]),W=(0,J.up)(),B=(0,J.r_)();return(0,i.jsxs)(u.xu,{my:4,mb:6,children:[(0,i.jsx)(et.x,{mb:2,fontSize:"sm",color:"gray.500",children:(0,i.jsx)(S.cC,{id:"/Yxzaj"})}),(0,i.jsxs)(ei.k,{direction:"row",w:"100%",alignItems:"flex-start",children:[(0,i.jsx)(en.B,{w:"100%",justifyContent:"center",flex:1,children:(0,i.jsxs)(el.Qc,{ref:l,values:s,maxSelections:100,maxSuggestions:20,creatable:!0,multiple:!0,freeSolo:!0,suggestWhenEmpty:!1,openOnFocus:!0,filter:(e,r)=>!s.find(e=>e.email===r),onSelectOption:e=>{let{item:r}=e;L([{email:r.value}]),x("")},onTagRemoved:e=>{c(r=>[...r].filter(r=>r.email!==e))},children:[(0,i.jsxs)(eo.Z,{pointerEvents:"none",color:"gray.300",h:"100%",flexDirection:"column",children:[(0,i.jsx)(ei.k,{flex:1}),(0,i.jsx)(ei.k,{h:10,py:4,alignItems:"center",children:(0,i.jsx)(ee.W,{w:10})})]}),(0,i.jsx)(N.kH,{placement:"top-start",label:(0,i.jsx)(S.cC,{id:"8LvjQl",values:{WORKSPACE_ADMIN_DISPLAY_NAME_PLURAL:W,WORKSPACE_ADMIN_DISPLAY_NAME:B}}),isDisabled:t,children:(0,i.jsx)(u.xu,{children:(0,i.jsx)(el.Vp,{ref:a,"data-testid":"autocomplete-collaborators-input",cursor:T?"not-allowed":void 0,disabled:T,w:"100%",pl:5,wrapStyles:{px:2},fontSize:"md",placeholder:X.ag._({id:"+1O5zr"}),transition:"width 1s ease-in-out",value:h,onKeyDown:e=>{let{key:r}=e;if("Enter"===r&&0===h.length){e.preventDefault();return}if("Backspace"===r&&0===h.length&&s.length>0){let e=s.slice(-1).pop();if(e){var t;null===(t=l.current)||void 0===t||t.removeItem(e.email)}}},onPaste:e=>{e.preventDefault(),e.stopPropagation();let r=e.clipboardData.getData("Text"),t=r.trim().split(/[,|;\s]+/);L([...t.map(e=>({email:e}))]),x("")},onChange:e=>{let{target:r}=e,{value:t}=r;x(t)},children:s.map((e,r)=>(0,i.jsx)(ep.L,{idx:r,selectedCollaborator:e,handleRemoveClick:()=>{D(e.email)}},e.email))})})})]})}),(0,i.jsx)(em,{overflowX:"hidden",transition:"slow",animate:{maxWidth:P?"240px":"0px"},children:(0,i.jsx)(u.xu,{ml:2,children:(0,i.jsx)(y.z,{variant:"solid",onClick:z,isDisabled:!O,isLoading:!1,"data-testid":"add-selected-items",children:(0,i.jsx)(S.cC,{id:"MFKlMB"})})})})]}),(0,i.jsx)(eu.C,{invitationCount:E.length,isOpen:f,onClose:()=>{j(),d.reject(),p(new eh.B)},onDiscardClick:()=>{j(),d.resolve(),p(new eh.B)},onSendInvitationsClick:()=>{j(),z()}}),(0,i.jsx)(ex.c,{isOpen:b,newMemberCount:E.length,isChecked:C,onConfirmClick:k,onClose:_,onCancelClick:_,onCheckboxConfirm:R})]})};var ef=t(47443),ev=t(52929),ej=t(21979),eb=t(94199),eC=t(1163);let ey=()=>{let{subscription:e}=(0,B.z)(),r=(0,eC.OJ)(e),t=null==r?void 0:r.frequencyUnit;return(0,i.jsxs)(et.x,{children:[(0,i.jsx)(et.x,{as:"span",fontWeight:"600",children:t===I.C_B.Month?(0,i.jsx)(S.cC,{id:"cs6BKJ",values:{0:(0,eC.Hk)(r)},components:{0:(0,i.jsx)(et.x,{as:"span",textDecoration:"underline"})}}):t===I.C_B.Year?(0,i.jsx)(S.cC,{id:"xArlW8",values:{0:(0,eC.Hk)(r)},components:{0:(0,i.jsx)(et.x,{as:"span",textDecoration:"underline"})}}):"---"}),(0,i.jsx)(et.x,{children:(0,i.jsx)(S.cC,{id:"gfz9Jx"})})]})};var ek=t(78462);let e_=e=>{let{workspace:r}=e,t=(0,ek.Dg)(r),{product:n}=(0,B.z)(),o=(0,P.d3)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(et.x,{my:2,fontSize:"sm",color:"gray.500",children:[(0,i.jsx)(S.cC,{id:"eR6rch"})," ",o&&(0,i.jsx)(S.cC,{id:"X4Z7y1"})]}),(0,i.jsx)(ei.k,{mb:4,children:(0,i.jsx)(ej.I,{url:t})}),(0,i.jsxs)(ef.b,{mt:2,status:"warning",fontSize:"sm",borderRadius:4,children:[(0,i.jsx)(ev.z,{}),(0,i.jsxs)(p.K,{children:[(0,i.jsxs)(et.x,{children:[(0,i.jsx)("strong",{children:(0,i.jsx)(S.cC,{id:"XeiZmu"})})," ",(0,i.jsx)(S.cC,{id:"PF+S+V",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:eb.aq}})]}),n&&(0,i.jsx)(ey,{})]})]})]})};var ew=t(14093),eS=t(70189),eA=t(78534),eI=t(80774),eR=t(5832),eE=t(66983),eP=t(79443),eO=t(67109),eT=t(81540),eN=t(29117),eM=t(109),ez=t(28356),eD=t(17993),eL=t(97010);let eW=(e,r,t)=>{let n=(0,ez.Cq)(r.displayName,r.email),o=(0,J.r_)();return"remove"===e?{title:(0,i.jsx)(S.cC,{id:"HlXuQk",values:{0:r.displayName||""}}),description:(0,i.jsx)(S.cC,{id:"MYcnTw",values:{nameWithEmail:n}}),confirmButtonLabel:(0,i.jsx)(S.cC,{id:"gNjH/6"})}:"leave"===e?{title:(0,i.jsx)(S.cC,{id:"6iUevl"}),description:(0,i.jsx)(S.cC,{id:"nM44Cu",values:{0:t.name}}),confirmButtonLabel:(0,i.jsx)(S.cC,{id:"hGWoeF"})}:{title:(0,i.jsx)(S.cC,{id:"kxbLa+",values:{WORKSPACE_ADMIN_DISPLAY_NAME:o}}),description:(0,i.jsx)(S.cC,{id:"gJfQ74",values:{WORKSPACE_ADMIN_DISPLAY_NAME:o}}),confirmButtonLabel:(0,i.jsx)(S.cC,{id:"m4YerB"})}},eB=e=>{let{isOpen:r,onClose:t,onConfirmClick:c,onCancelClick:u,userToConfirm:p,workspace:h,action:x}=e;if(!r)return null;let{title:m,description:g,confirmButtonLabel:f}=eW(x,p,h);return(0,i.jsxs)(n.u_,{returnFocusOnClose:!1,onClose:t,isOpen:!0,isCentered:!0,size:"lg",children:[(0,i.jsx)(o.Z,{}),(0,i.jsxs)(l.h,{children:[(0,i.jsx)(a.x,{children:m}),(0,i.jsx)(s.o,{}),(0,i.jsxs)(d.f,{children:[(0,i.jsx)(et.x,{children:g}),"remove"===x&&(0,i.jsx)(eF,{user:p,mt:3})]}),(0,i.jsx)(j.m,{children:(0,i.jsxs)(C.h,{variant:"ghost",children:[(0,i.jsx)(y.z,{onClick:u,colorScheme:"gray",children:(0,i.jsx)(S.cC,{id:"dEgA5A"})}),(0,i.jsx)(y.z,{colorScheme:"red",onClick:c,children:f})]})})]})]})},eF=e=>{let{user:r,...t}=e;return(0,i.jsxs)(eD.g,{spacing:3,...t,children:[(0,i.jsx)(ef.b,{status:"warning",children:(0,i.jsxs)(eN.U,{children:[(0,i.jsx)(eM.q,{src:null==r?void 0:r.profileImageUrl,size:"sm",name:null==r?void 0:r.displayName}),(0,i.jsxs)(p.K,{spacing:0,ml:2,flex:"1",children:[(0,i.jsx)(et.x,{fontSize:"sm",flex:"1",wordBreak:"break-word",children:null==r?void 0:r.displayName}),r.email&&(0,i.jsx)(et.x,{fontSize:"xs",color:"gray.600",flex:"1",wordBreak:"break-word",children:r.email})]})]})}),(0,i.jsxs)(ef.b,{children:[(0,i.jsx)(ev.z,{}),(0,i.jsxs)(eL.GS,{spacing:3,children:[(0,i.jsx)(eL.HC,{children:(0,i.jsx)(S.cC,{id:"J1E9I7",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:eb.aq,0:r.displayName||""}})}),(0,i.jsx)(eL.HC,{children:(0,i.jsx)(S.cC,{id:"1i/P7t",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:eb.aq,0:r.displayName||""}})})]})]})]})};var eG=t(10625),eU=t(67046),e$=t(99058),eV=t(44035),eK=t(39237),eY=t(19783),eH=t(27599),eq=t(25481);let eZ=e=>{let{selected:r,options:t,onSelect:n,isMenuDisabled:o,disabledOptions:l=[],deleteLabel:a=(0,i.jsx)(S.cC,{id:"HBvein"}),onDeleteClick:s,disabledDeleteReason:c}=e,d=r===I.r3E.Admin?(0,i.jsx)(S.cC,{id:"U3pytU"}):(0,i.jsx)(S.cC,{id:"OvoEq7"});return(0,i.jsxs)(eG.v,{closeOnSelect:!0,children:[(0,i.jsx)(eU.j,{as:y.z,isDisabled:o,variant:"ghost",size:"sm",rightIcon:(0,i.jsx)(w.G,{icon:k.ptq}),children:d}),(0,i.jsx)(e$.q,{maxW:"320px",zIndex:"dropdown",children:(0,i.jsxs)(eV._,{defaultValue:r,value:r,type:"radio",onChange:e=>{Array.isArray(e)||n(e)},children:[t.map(e=>{let r=l.find(r=>r.disabledOption===e);return(0,i.jsx)(eK.i,{value:e,isDisabled:!!r,pt:3,children:(0,i.jsx)(eY.u,{"aria-label":null==r?void 0:r.reason,label:null==r?void 0:r.reason,isDisabled:!r,placement:"right",shouldWrapChildren:!0,children:(0,i.jsxs)(u.xu,{lineHeight:"base",children:[(0,i.jsx)(et.x,{fontSize:"md",children:J.rK[e].title}),(0,i.jsx)(et.x,{fontSize:"sm",color:"gray.500",children:J.rK[e].description})]})})},e)}),(0,i.jsx)(eH.R,{}),(0,i.jsx)(eY.u,{"aria-label":c,label:c,isDisabled:!c,placement:"right",shouldWrapChildren:!0,children:(0,i.jsx)(eq.s,{onClick:s,color:"red.500",fontSize:"md",lineHeight:"base",isDisabled:!!c,children:a})})]})})]})},eX=(e,r)=>(r||[]).find(r=>{var t;return(null===(t=r.workspace)||void 0===t?void 0:t.id)===e}),eJ=e=>{var r;let{workspace:t,dateFormatterFn:n,canManageWorkspace:o,workspaceAdminCount:l}=e,[a,s]=(0,A.useState)(I.tvj.DisplayName),[c,d]=(0,A.useState)(I.SrV.Asc),[h,x]=(0,A.useState)(!1),m={id:null==t?void 0:t.id,first:50,sortBy:{field:a,direction:c}},{data:g,loading:f,fetchMore:v}=(0,I.iR3)({variables:m,skip:!(null==t?void 0:t.id),fetchPolicy:"network-only",nextFetchPolicy:"network-only"}),[j,{loading:b}]=(0,I.Eiz)(),[C,{loading:k}]=(0,I.ert)(),[R,E]=(0,A.useState)(null),O=null==g?void 0:null===(r=g.workspaceMembers)||void 0===r?void 0:r.pageInfo,T=!f&&(null==O?void 0:O.hasNextPage)&&(null==O?void 0:O.endCursor),N=null==g?void 0:g.workspaceMembers.edges.map(e=>e.node),{user:M,refetch:z}=(0,P.SE)(),D=t.id,L=(0,V.p)(),[W,B]=(0,A.useState)(null),[F,G]=(0,A.useState)(null),[U,$]=(0,A.useState)(new eh.B),{isOpen:K,onOpen:Y,onClose:H}=(0,er.q)(),q=(0,A.useMemo)(()=>null!=l?l:(null==N?void 0:N.reduce((e,r)=>{let t=eX(D,r.workspaceMemberships);return t&&t.role===I.r3E.Admin&&e++,e},0))||0,[N,D,l]),Z=(0,A.useCallback)(async()=>(Y(),U.promise),[U,Y]),X=(0,A.useCallback)(()=>{B(null),G(null)},[]),Q=(0,A.useCallback)((e,r)=>{E(e.id),j({variables:{workspaceId:t.id,userId:e.id,role:r},refetchQueries:["GetWorkspace"]}).then(()=>{null==z||z();let t=r===I.r3E.Admin?(0,i.jsx)(S.cC,{id:"IFCQlQ",values:{0:e.displayName,1:e.email}}):(0,i.jsx)(S.cC,{id:"gWgob7",values:{0:e.displayName,1:e.email}});L({description:t,status:"success",position:"top",duration:5e3,isClosable:!0})}).catch(()=>{L({description:(0,i.jsx)(S.cC,{id:"CF7q4i",values:{0:e.displayName,1:e.email}}),status:"error",position:"top",duration:5e3,isClosable:!0})}).finally(()=>{E(null)})},[z,L,j,t.id]),ee=(0,A.useCallback)(e=>async r=>{e&&o&&((null==M?void 0:M.id)===e.id&&r===I.r3E.Member?!(q<=1)&&(B(e),G("giveUpAdminAccess"),Z().then(()=>{Q(e,r)}).catch(()=>{console.debug("[handleMemberRoleChange] User cancelled action")}).finally(()=>X())):Q(e,r))},[q,o,Q,Z,X,null==M?void 0:M.id]),et=(0,A.useCallback)(e=>()=>{if(e.id===(null==M?void 0:M.id))return;let r=(0,ez.Cq)(e.displayName,e.email);B(e),G("remove"),Z().then(()=>{E(e.id),C({variables:{workspaceId:D,userId:e.id},refetchQueries:["GetWorkspace","GetWorkspaceMembers"]}).then(()=>{null==z||z(),L({description:(0,i.jsx)(S.cC,{id:"jkCRxy",values:{emailWithName:r}}),status:"success",position:"top",duration:5e3,isClosable:!0})}).catch(()=>{L({description:(0,i.jsx)(S.cC,{id:"eETcUn",values:{emailWithName:r}}),status:"error",position:"top",duration:5e3,isClosable:!0})})}).finally(()=>{E(null),X()})},[C,Z,D,null==M?void 0:M.id,z,X,L]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ew.x,{children:(0,i.jsxs)(eS.i,{variant:"simple",colorScheme:"blackAlpha",size:"sm",whiteSpace:"normal",children:[(0,i.jsx)(eA.h,{children:(0,i.jsxs)(eI.Tr,{children:[(0,i.jsx)(eR.Th,{children:(0,i.jsx)(y.z,{ml:-3,size:"sm",color:"gray.500",variant:"ghost",colorScheme:"blackAlpha","aria-label":"sort",onClick:()=>{s(I.tvj.DisplayName),d(e=>e===I.SrV.Asc?I.SrV.Desc:I.SrV.Asc)},rightIcon:(0,i.jsx)(u.xu,{color:a===I.tvj.DisplayName?"gray.700":"gray.300",children:(0,i.jsx)(w.G,{icon:a===I.tvj.DisplayName?"asc"===c?_.eW2:_.l1h:_.CmM})}),children:(0,i.jsx)(S.cC,{id:"6YtxFj"})})}),(0,i.jsx)(eR.Th,{children:(0,i.jsx)(y.z,{ml:-3,size:"sm",color:"gray.500",variant:"ghost",colorScheme:"blackAlpha","aria-label":"sort",onClick:()=>{s(I.tvj.CreatedTime),d(e=>e===I.SrV.Asc?I.SrV.Desc:I.SrV.Asc)},rightIcon:(0,i.jsx)(u.xu,{color:a===I.tvj.CreatedTime?"gray.700":"gray.300",children:(0,i.jsx)(w.G,{icon:a===I.tvj.CreatedTime?"asc"===c?_.eW2:_.l1h:_.CmM})}),children:(0,i.jsx)(S.cC,{id:"SnjWqV"})})}),(0,i.jsx)(eR.Th,{children:(0,i.jsx)(S.cC,{id:"GDvlUT"})})]})}),(0,i.jsxs)(eE.p,{children:[f&&(0,i.jsx)(eI.Tr,{p:0,children:(0,i.jsx)(eP.Td,{colSpan:2,p:0,children:(0,i.jsxs)(p.K,{spacing:2,children:[(0,i.jsx)(eO.O,{h:8}),(0,i.jsx)(eO.O,{h:8}),(0,i.jsx)(eO.O,{h:8})]})})}),N&&N.map((e,r)=>{let l=r===N.length-1,a=eX(t.id,e.workspaceMemberships),s=null==a?void 0:a.createdTime,c=n(s),d=null==a?void 0:a.role,p=d===I.r3E.Admin,h=d?J.rK[d].title:"",x=R===e.id,m=e.id===(null==M?void 0:M.id);return(0,i.jsxs)(eI.Tr,{children:[(0,i.jsx)(eP.Td,{borderBottom:l?"0 none":void 0,children:(0,i.jsx)(eQ,{user:e,isSelf:m})}),(0,i.jsx)(eP.Td,{borderBottom:l?"0 none":void 0,whiteSpace:"nowrap",children:c}),(0,i.jsx)(eP.Td,{borderBottom:l?"0 none":void 0,w:32,children:x?(0,i.jsx)(u.xu,{textAlign:"center",children:(0,i.jsx)(eT.$,{size:"xs"})}):o&&d?(0,i.jsx)(eZ,{selected:d,isMenuDisabled:b||k,options:[I.r3E.Admin,I.r3E.Member],onSelect:ee(e),disabledOptions:p&&q<=1?[{disabledOption:I.r3E.Member,reason:"A workspace must have at least one admin"}]:[],disabledDeleteReason:m?"You cannot remove yourself":void 0,onDeleteClick:et(e)}):h})]},e.id)})]})]})}),T&&(0,i.jsx)(ei.k,{w:"100%",justify:"center",align:"center",mt:3,children:(0,i.jsx)(y.z,{isLoading:h,size:"sm",onClick:()=>{x(!0),v({variables:{after:null==O?void 0:O.endCursor}}).finally(()=>{x(!1)})},children:(0,i.jsx)(S.cC,{id:"yQ2kGp"})})}),W&&F&&(0,i.jsx)(eB,{isOpen:K,onClose:()=>{H(),U.reject(),$(new eh.B)},onCancelClick:()=>{H(),U.reject(),$(new eh.B)},onConfirmClick:async()=>{H(),U.resolve(),$(new eh.B)},userToConfirm:W,action:F,workspace:t})]})},eQ=e=>{let{user:r,isSelf:t}=e,{displayName:n,profileImageUrl:o,email:l}=r;return(0,i.jsxs)(eN.U,{children:[(0,i.jsx)(eM.q,{size:"sm",name:n,src:o}),(0,i.jsxs)(p.K,{spacing:0,children:[(0,i.jsxs)(et.x,{children:[n,t?(0,i.jsxs)(i.Fragment,{children:[" ",(0,i.jsx)(S.cC,{id:"4Q6lF1"})]}):""]}),(0,i.jsx)(eN.U,{mt:1,children:(0,i.jsx)(et.x,{fontSize:"xs",color:"gray.500",children:l})})]})]})};var e0=t(829),e1=t.n(e0);let e2=e=>{let{invitations:r,dateFormatterFn:t,canManageWorkspace:n}=e,[o,l]=(0,A.useState)("email"),[a,s]=(0,A.useState)("asc"),[c]=(0,I.PZh)(),d=(0,V.p)(),p=(0,J.up)(),h=(0,A.useCallback)(e=>{c({variables:{id:e}}).then(()=>{d({title:X.ag._({id:"DGxAzK"}),status:"success",duration:3e3,isClosable:!0,position:"bottom"})}).catch(e=>{console.error(e),d({title:X.ag._({id:"s51CLN",values:{0:e.message}}),status:"error",isClosable:!0,position:"bottom"})})},[c,d]),x="asc"===a?e1()(r,o):e1()(r,o).reverse();return 0===x.length?(0,i.jsx)(u.xu,{p:4,background:"gray.50",children:(0,i.jsx)(et.x,{my:8,textAlign:"center",children:(0,i.jsx)(S.cC,{id:"blyObO"})})}):(0,i.jsx)(ew.x,{children:(0,i.jsxs)(eS.i,{variant:"simple",colorScheme:"blackAlpha",size:"sm",whiteSpace:"normal",children:[(0,i.jsx)(eA.h,{children:(0,i.jsxs)(eI.Tr,{children:[(0,i.jsx)(eR.Th,{children:(0,i.jsx)(y.z,{ml:-3,size:"sm",color:"gray.500",variant:"ghost",colorScheme:"blackAlpha","aria-label":"sort",onClick:()=>{l("email"),s(e=>"asc"===e?"desc":"asc")},rightIcon:(0,i.jsx)(u.xu,{color:"email"===o?"gray.700":"gray.300",children:(0,i.jsx)(w.G,{icon:"email"===o?"asc"===a?_.eW2:_.l1h:_.CmM})}),children:(0,i.jsx)(S.cC,{id:"O3oNi5"})})}),(0,i.jsxs)(eR.Th,{children:[" ",(0,i.jsx)(y.z,{ml:-3,size:"sm",color:"gray.500",variant:"ghost",colorScheme:"blackAlpha","aria-label":"sort",onClick:()=>{l("createdTime"),s(e=>"asc"===e?"desc":"asc")},rightIcon:(0,i.jsx)(u.xu,{color:"email"===o?"gray.700":"gray.300",children:(0,i.jsx)(w.G,{icon:"createdTime"===o?"asc"===a?_.eW2:_.l1h:_.CmM})}),children:(0,i.jsx)(S.cC,{id:"B82OLR"})})]}),(0,i.jsx)(eR.Th,{children:(0,i.jsx)(S.cC,{id:"GXsAby"})})]})}),(0,i.jsx)(eE.p,{children:x&&(null==x?void 0:x.length)>0&&x.map((e,r)=>(0,i.jsxs)(eI.Tr,{children:[(0,i.jsx)(eP.Td,{children:e.email}),(0,i.jsx)(eP.Td,{children:t(e.createdTime)}),(0,i.jsx)(eP.Td,{children:(0,i.jsx)(N.kH,{placement:"top",label:(0,i.jsx)(S.cC,{id:"wcx9n8",values:{WORKSPACE_ADMIN_DISPLAY_NAME_PLURAL:p}}),shouldWrapChildren:!0,isDisabled:n,children:(0,i.jsx)(y.z,{w:20,variant:"plain",color:"plain",size:"sm",isDisabled:!n,onClick:()=>{h(e.id)},children:(0,i.jsx)(S.cC,{id:"GXsAby"})})})})]},e.id))})]})})},e5=e=>{var r,t,O;let{isOpen:T,onClose:N}=e,{currentWorkspace:M}=(0,P.SE)(),z=(0,P.d3)(),{data:D}=(0,I.WaV)({variables:{id:null==M?void 0:M.id},skip:!(null==M?void 0:M.id)}),[L,W]=(0,A.useState)(()=>()=>Promise.resolve()),B=(null==D?void 0:null===(r=D.workspace)||void 0===r?void 0:r.invitations)||[],F=(0,A.useCallback)(()=>{L().then(N).catch(()=>{console.warn("[workspaceSettingsModal] InviteByEmail rejected to close modal")})},[L,N]);if(!M)return null;let G=null==D?void 0:null===(t=D.workspace)||void 0===t?void 0:t.memberCount;return(0,i.jsxs)(n.u_,{isOpen:T,onClose:F,size:"3xl",trapFocus:!1,children:[(0,i.jsx)(o.Z,{}),(0,i.jsxs)(l.h,{children:[(0,i.jsx)(a.x,{children:(0,i.jsx)(S.cC,{id:"Knd6gz"})}),(0,i.jsx)(s.o,{}),(0,i.jsx)(c.i,{mb:4}),(0,i.jsxs)(d.f,{children:[(0,i.jsx)(R.m,{segmentEvent:E.AA.GAMMA_PRO_UPSELL_CALLOUT_WORKSPACE_SETTINGS,onOpenCallback:F}),(0,i.jsx)(Q,{workspace:M,canManageWorkspace:z}),(0,i.jsx)(u.xu,{mt:12,children:(0,i.jsxs)(p.K,{spacing:8,children:[(0,i.jsxs)(u.xu,{children:[(0,i.jsx)(h.X,{size:"md",fontWeight:"600",mb:4,children:(0,i.jsx)(S.cC,{id:"KKJitJ"})}),(0,i.jsx)(eg,{workspace:M,canManageWorkspace:z,setDoneFn:W}),z&&(0,i.jsx)(e_,{workspace:M})]}),(0,i.jsx)(u.xu,{children:(0,i.jsxs)(x.m,{variant:"soft-rounded",size:"sm",children:[(0,i.jsxs)(m.t,{mb:4,children:[(0,i.jsxs)(g.O,{children:[(0,i.jsx)(u.xu,{mr:2,children:(0,i.jsx)(w.G,{icon:_.iOm,fixedWidth:!0})}),(0,i.jsx)(S.cC,{id:"VJ7g+s",values:{memberCount:G}})]}),(0,i.jsxs)(g.O,{children:[(0,i.jsx)(u.xu,{mr:2,children:(0,i.jsx)(w.G,{icon:k.FU$,fixedWidth:!0})}),(0,i.jsx)(S.cC,{id:"KxTWx3",values:{0:B.length}})]})]}),(0,i.jsxs)(f.n,{children:[(0,i.jsx)(v.x,{p:0,mt:0,children:(0,i.jsx)(eJ,{workspace:M,dateFormatterFn:$.P9,canManageWorkspace:z,workspaceAdminCount:null==D?void 0:null===(O=D.workspace)||void 0===O?void 0:O.adminCount})}),(0,i.jsx)(v.x,{p:0,mt:0,children:(0,i.jsx)(e2,{invitations:B,dateFormatterFn:$.P9,canManageWorkspace:z})})]})]})})]})})]}),(0,i.jsx)(c.i,{mt:6}),(0,i.jsx)(j.m,{children:(0,i.jsxs)(p.K,{w:"100%",direction:"row",align:"center",justifyContent:"space-between",children:[(0,i.jsx)(U,{memberCount:G}),(0,i.jsx)(b.L,{}),(0,i.jsx)(C.h,{children:(0,i.jsx)(y.z,{variant:"solid",onClick:F,children:(0,i.jsx)(S.cC,{id:"DPfwMq"})})})]})})]})]})};var e3=t(82089);let e4=e=>{let{openModal:r}=e,{currentWorkspace:t}=(0,P.SE)(),n=(0,V.p)();(0,A.useEffect)(()=>{let e=(0,ek.SJ)()[P.f2],o=null==t?void 0:t.id;e&&o&&(e===o?r():n({title:(0,i.jsx)(S.cC,{id:"EhVOPs"}),position:"top",id:"workspace-not-found",status:"error",isClosable:!0,duration:3e3}),(0,e3.lO)({query:{...(0,ek.SJ)(),[P.f2]:void 0},emitChange:!1}))},[n,r,t])}},52610:function(e,r,t){t.d(r,{My:function(){return a},rK:function(){return d},r_:function(){return s},up:function(){return c}});var i=t(52322),n=t(5879),o=t(87254),l=t(93624);let a=1,s=()=>o.ag._({id:"cyLJM2"}),c=()=>o.ag._({id:"6h5uMS"}),d={[l.r3E.Admin]:{title:(0,i.jsx)(n.cC,{id:"U3pytU"}),description:(0,i.jsx)(n.cC,{id:"U4MLdj"})},[l.r3E.Member]:{title:(0,i.jsx)(n.cC,{id:"OvoEq7"}),description:(0,i.jsx)(n.cC,{id:"nslZjr"})}}},13822:function(e,r,t){t.d(r,{ou:function(){return ey},P2:function(){return eM},t9:function(){return ro.t9},kV:function(){return ro.kV},Kz:function(){return eR},y2:function(){return eS},Tx:function(){return eE},ZR:function(){return eI},KI:function(){return eA},Uj:function(){return e7},My:function(){return eX.My},Y7:function(){return eB},RL:function(){return e0},ds:function(){return e3},$W:function(){return rn},bH:function(){return e_},uK:function(){return ri},MB:function(){return rr},VY:function(){return eC},$j:function(){return ej},IF:function(){return rl.IF},Y2:function(){return rl.Y2},DI:function(){return rl.DI},Xd:function(){return rl.Xd},zR:function(){return rl.zR},sI:function(){return rl.sI},Nh:function(){return rl.Nh},r_:function(){return eX.r_},up:function(){return eX.up},Xq:function(){return rl.Xq},sh:function(){return rs},zE:function(){return L}});var i=t(52322),n=t(29117),o=t(67109),l=({size:e="2rem",...r})=>(0,i.jsx)(o.O,{borderRadius:"full",boxSize:e,...r});l.displayName="SkeletonCircle";var a=t(109),s=t(43297),c=t(77533),d=t(55478),u=t(10625),p=t(28535),h=t(67046),x=t(62614),m=t(99058),g=t(25481),f=t(36474),v=t(27599),j=t(44035),b=t(39237),C=t(38035),y=t(42946),k=t(54933),_=t(49929),w=t(94523),S=t(5879),A=t(87254),I=t(1842),R=t.n(I),E=t(5632),P=t(2784),O=t(14274),T=t(93624),N=t(42111),M=t(62131),z=t(39278),D=t(96933);let L=e=>{var r;let{currentWorkspace:t}=(0,z.SE)(),{data:i}=(0,T.WaV)({variables:{id:null!==(r=null!=e?e:null==t?void 0:t.id)&&void 0!==r?r:""},skip:!e&&!(null==t?void 0:t.id)}),n=e?null==i?void 0:i.workspace:{...t,...null==i?void 0:i.workspace};return n};var W=(0,t(67012).I)({displayName:"WarningTwoIcon",d:"M23.119,20,13.772,2.15h0a2,2,0,0,0-3.543,0L.881,20a2,2,0,0,0,1.772,2.928H21.347A2,2,0,0,0,23.119,20ZM11,8.423a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Zm1.05,11.51h-.028a1.528,1.528,0,0,1-1.522-1.47,1.476,1.476,0,0,1,1.448-1.53h.028A1.527,1.527,0,0,1,13.5,18.4,1.475,1.475,0,0,1,12.05,19.933Z"}),B=t(47443),F=t(74008),G=t(70065),U=t(92850),$=t(26468),V=t(22226),K=t(54326),Y=t(2338),H=t(97217),q=t(82713),Z=t(50250),X=t(75768),J=t(94199);let Q=()=>(0,i.jsxs)(n.U,{px:2,py:2,border:"2px solid var(--chakra-colors-red-500)",borderRadius:"md",children:[(0,i.jsx)(W,{w:4,h:4,color:"red.500"}),(0,i.jsx)(c.x,{fontSize:"sm",color:"red.500",children:(0,i.jsx)(S.cC,{id:"Ofm9ns"})})]}),ee=e=>{let{user:r,workspace:t,canDeleteAccount:n}=e;return(0,i.jsxs)(B.b,{status:r||(null==t?void 0:t.memberCount)&&t.memberCount<=1?"error":"warning",display:"flex",flexDirection:"column",alignItems:"normal",mt:2,children:[(0,i.jsxs)(C.k,{pb:3,flexDirection:["column","column","row","row"],align:"flex-start",gap:2,children:[(0,i.jsxs)(C.k,{flex:1,children:[(0,i.jsx)(a.q,{src:null==r?void 0:r.profileImageUrl,size:"sm",name:(null==r?void 0:r.displayName)||(null==t?void 0:t.name)}),(0,i.jsxs)(s.K,{spacing:0,ml:2,flex:"1",children:[(0,i.jsx)(c.x,{fontSize:"sm",flex:"1",wordBreak:"break-word",children:(null==r?void 0:r.displayName)||(null==t?void 0:t.name)}),r&&(0,i.jsx)(c.x,{fontSize:"xs",color:"gray.600",flex:"1",wordBreak:"break-word",children:r.email}),t&&(0,i.jsx)(c.x,{fontSize:"xs",color:"gray.600",children:(0,i.jsx)(S.cC,{id:"LaQ44M",values:{0:t.memberCount||0}})})]})]}),(0,i.jsx)(C.k,{flexShrink:1,children:(r||t&&(null==t?void 0:t.memberCount)===1)&&(0,i.jsx)(Q,{})})]}),(0,i.jsx)(F.i,{borderColor:"blackAlpha.200"}),(0,i.jsxs)(c.x,{pt:2,fontSize:"sm",color:r||(null==t?void 0:t.memberCount)&&t.memberCount<=1?"red.500":"yellow.700",children:[n&&r&&(0,i.jsxs)(i.Fragment,{children:["⚠️"," ",(0,i.jsx)(S.cC,{id:"j95nHI",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:J.aq}})]}),n&&(null==t?void 0:t.memberCount)&&(t.memberCount>1?(0,i.jsxs)(i.Fragment,{children:["⚠️ ",(0,i.jsx)(S.cC,{id:"QnF/9z"})]}):(0,i.jsxs)(i.Fragment,{children:["⚠️"," ",(0,i.jsx)(S.cC,{id:"PU+L+E",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:J.aq}})]})),!n&&(0,i.jsxs)(i.Fragment,{children:["⚠️"," ",(0,i.jsx)(S.cC,{id:"eFx5qm"})]})]})]})},er=e=>{var r,t;let{isOpen:o,onClose:l,user:a}=e,[d,u]=(0,P.useState)(!1),[h,m]=(0,P.useState)(!1),{data:g}=(0,T.NUx)(),f=(0,G.p)(),[v]=(0,T.I1z)(),j=(null==g?void 0:null===(t=g.user)||void 0===t?void 0:null===(r=t.workspaceMemberships)||void 0===r?void 0:r.filter(e=>!1===e.disabled))||[],b=j.filter(e=>{var r,t;return"admin"===e.role&&(null===(r=e.workspace)||void 0===r?void 0:r.adminCount)===1&&(null===(t=e.workspace)||void 0===t?void 0:t.memberCount)&&e.workspace.memberCount>1}),C=j.map(e=>e.workspace),y=0===b.length,k=(0,P.useCallback)(()=>{m(!0),v().then(e=>{let{data:r}=e;r&&(window.location.href="".concat(O.v.API_HOST,"/logout?redirectTo=/user-deleted"))}).catch(()=>{m(!1),f({title:"Delete account failed. Try again or reach out to Gamma support.",status:"error",duration:3e3,position:"top",isClosable:!0})})},[f,v]);return(0,i.jsxs)(U.u_,{isOpen:o,onClose:l,size:"lg",closeOnOverlayClick:!1,children:[(0,i.jsx)($.Z,{}),(0,i.jsxs)(V.h,{p:2,children:[(0,i.jsx)(K.x,{children:(0,i.jsx)(S.cC,{id:"pj33Dr",values:{GAMMA_PROPER_NOUN:J.N6}})}),(0,i.jsx)(Y.o,{}),(0,i.jsxs)(H.f,{children:[y&&(0,i.jsxs)(s.K,{spacing:3,children:[(0,i.jsx)(c.x,{children:(0,i.jsx)(S.cC,{id:"gICMDu"})}),(0,i.jsxs)(p.xu,{children:[(0,i.jsx)(c.x,{colorScheme:"gray",fontSize:"sm",children:(0,i.jsx)(S.cC,{id:"sG4820"})}),(0,i.jsx)(ee,{user:a,canDeleteAccount:y})]}),C&&C.length>0&&(0,i.jsxs)(p.xu,{children:[(0,i.jsx)(c.x,{colorScheme:"gray",fontSize:"sm",children:(0,i.jsx)(S.cC,{id:"dFEw4P"})}),null==C?void 0:C.map(e=>(0,i.jsx)(ee,{workspace:e,canDeleteAccount:y},null==e?void 0:e.id))]}),(0,i.jsxs)(p.xu,{children:[(0,i.jsx)(c.x,{colorScheme:"gray",fontSize:"sm",children:(0,i.jsx)(S.cC,{id:"R3XcoA"})}),(0,i.jsxs)(n.U,{bg:"gray.100",mt:2,p:3,pl:2,spacing:2,borderRadius:"sm",children:[(0,i.jsx)(q.X,{size:"lg",spacing:"1rem",p:3,defaultChecked:d,onChange:e=>u(e.target.checked)}),(0,i.jsx)(c.x,{fontSize:"sm",children:(0,i.jsx)(S.cC,{id:"4YT8Pd"})})]})]})]}),!y&&(0,i.jsx)(s.K,{children:(0,i.jsxs)(p.xu,{children:[(0,i.jsx)(c.x,{colorScheme:"gray",fontSize:"sm",children:(0,i.jsx)(S.cC,{id:"nhUDfL"})}),null==C?void 0:C.map(e=>(0,i.jsx)(ee,{workspace:e,canDeleteAccount:y},null==e?void 0:e.id))]})})]}),y&&(0,i.jsx)(Z.m,{children:(0,i.jsxs)(X.h,{children:[(0,i.jsx)(x.z,{variant:"ghost",colorScheme:"gray",onClick:l,children:(0,i.jsx)(S.cC,{id:"dEgA5A"})}),(0,i.jsx)(x.z,{isDisabled:!d,variant:"ghost",colorScheme:"red",onClick:k,isLoading:h,loadingText:A.ag._({id:"O71YIC"}),children:(0,i.jsx)(S.cC,{id:"dfBVKc"})})]})})]})]})};var et=t(75009),ei=t(81540),en=t(87651),eo=t(99793),el=t(35183),ea=t(97166),es=t(85573),ec=t(85217),ed=t(10649),eu=t(49152),ep=t(43102),eh=t(99787);let ex={width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},em=e=>{let{uppy:r,multiple:t=!1,accept:n=eh.pK.join(",")}=e,o=(0,P.useRef)(null),l=(0,P.useMemo)(()=>(0,i.jsx)("input",{ref:o,className:"gamma-uppy-FileInput-input",style:ex,type:"file",name:"gamma-file-input",multiple:t,accept:n,onChange:e=>{let t=e.target;if(!t||!t.files)return;let i=Array.from(t.files);i.forEach(e=>{try{r.addFile({source:"file input",name:e.name,type:e.type,data:e})}catch(e){e.isRestriction?console.warn("[useFileInput] Restriction error:",e):console.error(e)}}),t.value=null}}),[]),a=(0,P.useCallback)(()=>{var e;null===(e=o.current)||void 0===e||e.click()},[]);return(0,P.useEffect)(()=>{let e=o.current;e&&(r.on("file-removed",()=>{e.value=null}),r.on("complete",()=>{e.value=null}),r.on("transloadit:complete",()=>{e.value=null}))},[]),{inputElement:l,onClick:a}};var eg=t(87205);let ef={cropped:"",original:""},ev=e=>{let{isOpen:r,onClose:t,onAccountDeleteModalOpen:o,user:l,orgId:d,refetchUser:f}=e,j=(0,G.p)(),[b,{loading:A,error:I}]=(0,T.kDo)(),{setSettings:R}=(0,z.SE)(),E=(0,eu.l)(),O=(0,P.useMemo)(()=>E,[]),[N,M]=(0,P.useState)(O);(0,ep.m)(N);let[D,L]=(0,P.useState)(l.firstName||""),[W,B]=(0,P.useState)(l.lastName||""),[X,J]=(0,P.useState)(l.profileImageUrl||""),[Q,ee]=(0,P.useState)(ef),[er,ex]=(0,P.useState)("original"),ev=Q.cropped&&"cropped"===er?Q.cropped:Q.original&&"original"===er?Q.original:X,[ej,eb]=(0,P.useState)("idle"),eC=(0,P.useMemo)(()=>eh.ND.createUppyInstance(d,{onUploadStart:e=>{ee(ef),eb("uploading"),ex("original"),(0,eg.Ns)(e.file.type||"")||J(e.tempUrl)},onOriginalFileUpload:e=>{console.debug("[AccountSettingsModal] onOriginalFileUpload",e),J(e.src),ee(r=>({...r,original:e.src}))},onUploadComplete:e=>{console.debug("[AccountSettingsModal] onUploadComplete",e),J(r=>r||e.src),ee(()=>({original:e.src,cropped:e.croppedFace||""})),eb("idle"),eC.cancelAll()},onUploadFailed:()=>{eb("error"),eC.cancelAll()}},"profile"),[d]),{onClick:ey,inputElement:ek}=em({uppy:eC}),e_=(0,P.useCallback)(()=>{o&&(o(),t())},[o,t]),ew=(0,P.useCallback)(()=>{eC.cancelAll(),eb("idle"),L(l.firstName||""),B(l.lastName||""),J(l.profileImageUrl||""),ex("original"),ee(ef),M(O)},[l,O,eC]),eS=N!==O,eA=D!==l.firstName||W!==l.lastName||X!==l.profileImageUrl,eI=(0,P.useMemo)(()=>eA||eS,[eS,eA]),eR=(0,P.useCallback)(()=>{if(!eI){t();return}let e=[];eS&&R&&ed.p_.includes(N)&&e.push(R({set:{locale:N}})),eA&&e.push(b({variables:{input:{id:l.id,firstName:D,lastName:W,profileImageUrl:X}}})),Promise.all(e).then(()=>{null==f||f(),t(),j({title:(0,i.jsx)(S.cC,{id:"wAvGr+"}),position:"top",status:"success",isClosable:!0,duration:3e3})}).catch(e=>{console.error('[AccountSettingsModal.onSaveClick] Error updating user info "'.concat(null==l?void 0:l.id,'"'),e.message)})},[D,eI,eS,eA,W,N,t,X,f,R,j,b,null==l?void 0:l.id]),eE=D.length<1&&W.length<1||!!(null==I?void 0:I.message)||"error"===ej;return(0,i.jsxs)(U.u_,{isOpen:r,onClose:t,size:"lg",closeOnOverlayClick:!1,children:[ek,(0,i.jsxs)(p.xu,{w:0,h:0,children:[(0,i.jsx)(et.E,{src:Q.original}),(0,i.jsx)(et.E,{src:Q.cropped})]}),(0,i.jsx)($.Z,{}),(0,i.jsxs)(V.h,{children:[(0,i.jsx)(K.x,{children:(0,i.jsx)(S.cC,{id:"T3FM0r"})}),(0,i.jsx)(Y.o,{}),(0,i.jsx)(F.i,{mb:4}),(0,i.jsxs)(H.f,{display:"flex",flexDirection:"column",alignItems:"center",children:[(0,i.jsxs)(s.K,{direction:"column",alignItems:"center",children:[(0,i.jsxs)(u.v,{placement:"bottom-start",offset:[100,0],children:[(0,i.jsx)(w.kH,{label:(0,i.jsx)(S.cC,{id:"etzA4s"}),openDelay:750,placement:"top",children:(0,i.jsx)(h.j,{position:"relative",disabled:"uploading"===ej,userSelect:"none",cursor:"pointer",role:"group",_hover:{opacity:.9},children:(0,i.jsxs)(a.q,{src:ev,name:"".concat(D," ").concat(W).trim(),size:"2xl",_groupHover:{shadow:"lg"},ignoreFallback:!0,children:["uploading"===ej&&(0,i.jsx)(p.Cd,{position:"absolute",size:"full",justifyContent:"center",alignItems:"center",bg:"gray.300",opacity:.5,children:(0,i.jsx)(ei.$,{size:"xl",thickness:"2px"})}),(0,i.jsx)(p.Cd,{position:"absolute",bottom:0,right:0,borderRadius:"full",color:"gray.800",textAlign:"center",bg:"gray.200",size:9,_groupHover:{shadow:"lg",transform:"scale(1.02)"},children:(0,i.jsx)(_.G,{icon:X?y._jT:y.Xcf,width:16,height:16,size:"xs"})})]})})}),(0,i.jsxs)(m.q,{fontSize:"sm",children:[(0,i.jsx)(g.s,{onClick:()=>{"uploading"!==ej&&ey()},children:(0,i.jsxs)(n.U,{children:[(0,i.jsx)(_.G,{icon:k.A$k}),(0,i.jsx)(c.x,{children:(0,i.jsx)(S.cC,{id:"wPTug2"})})]})}),X&&(0,i.jsx)(v.R,{}),X&&(0,i.jsx)(g.s,{onClick:()=>{J(""),ee(ef)},children:(0,i.jsxs)(n.U,{color:"var(--chakra-colors-red-500)",children:[(0,i.jsx)(_.G,{icon:y.Vui,color:"var(--chakra-colors-red-500)"}),(0,i.jsx)(c.x,{children:(0,i.jsx)(S.cC,{id:"k8od7T"})})]})})]})]}),(0,i.jsx)(en.U,{in:!!X&&!!Q.cropped&&X!==l.profileImageUrl&&"idle"===ej,animateOpacity:!0,children:(0,i.jsx)(q.X,{size:"sm",fontSize:"12px",color:"gray.500",isChecked:"cropped"===er,onChange:e=>{ex(e.target.checked?"cropped":"original"),J(e.target.checked?Q.cropped:Q.original)},mb:3,children:(0,i.jsx)(S.cC,{id:"+J8/VC"})})}),(0,i.jsx)(eo.J1,{children:"error"===ej&&"Error uploading profile image."}),(0,i.jsxs)(s.K,{spacing:0,alignItems:"center",children:[(0,i.jsx)(c.x,{fontSize:"xl",fontWeight:"bold",children:l.displayName}),(0,i.jsx)(c.x,{color:"gray.500",children:l.email})]})]}),(0,i.jsxs)(s.K,{direction:"column",width:"100%",my:6,px:4,spacing:6,children:[(0,i.jsxs)(el.NI,{isInvalid:eE,children:[(0,i.jsx)(ea.l,{children:(0,i.jsx)(S.cC,{id:"V1EGGU"})}),(0,i.jsx)(es.I,{w:"100%",value:D,onChange:e=>L(e.target.value.slice(0,60))})]}),(0,i.jsxs)(el.NI,{isInvalid:eE,children:[(0,i.jsx)(ea.l,{children:(0,i.jsx)(S.cC,{id:"1ZaQUH"})}),(0,i.jsx)(es.I,{w:"100%",value:W,onChange:e=>B(e.target.value.slice(0,60))}),(0,i.jsx)(eo.J1,{children:(null==I?void 0:I.message)?null==I?void 0:I.message:(0,i.jsx)(S.cC,{id:"yQeiGC"})})]}),(0,i.jsxs)(el.NI,{children:[(0,i.jsx)(ea.l,{children:(0,i.jsx)(S.cC,{id:"vXIe7J"})}),(0,i.jsx)(ec.Y,{selectedLocale:ed.w$[N],onLocaleSelect:M})]})]})]}),(0,i.jsx)(Z.m,{children:(0,i.jsxs)(C.k,{justifyContent:"space-between",flex:1,alignItems:"flex-end",children:[(0,i.jsx)(C.k,{children:(0,i.jsx)(x.z,{variant:"ghost",color:"gray.400",colorScheme:"gray",size:"sm",onClick:e_,children:(0,i.jsx)(S.cC,{id:"ktknoE"})})}),(0,i.jsxs)(C.k,{flexWrap:"wrap",justifyContent:"flex-end",gap:2,children:[eI&&(0,i.jsx)(x.z,{variant:"ghost",colorScheme:"gray",onClick:ew,children:(0,i.jsx)(S.cC,{id:"dEgA5A"})}),(0,i.jsx)(x.z,{variant:eI?"solid":"plain",onClick:eR,isDisabled:eE||"uploading"===ej,isLoading:A,children:eI?(0,i.jsx)(S.cC,{id:"y3aU20"}):(0,i.jsx)(S.cC,{id:"DPfwMq"})})]})]})})]})]})},ej=()=>(0,i.jsxs)(n.U,{w:"100%",px:2,pb:1,children:[(0,i.jsx)(l,{size:"32px"}),(0,i.jsx)(o.O,{width:"60%",height:"20px"})]}),eb=e=>{var r;let{workspace:t,memberCount:o,isMultiline:l=!0}=e,{isConnected:d}=(0,T.$gs)(),u=L(t.id),p=(0,P.useMemo)(()=>d?u:t,[u,d,t]);return p?(0,i.jsxs)(n.U,{mr:4,children:[(0,i.jsx)(a.q,{name:null===(r=p.name)||void 0===r?void 0:r.replace(/\s/g,""),src:p.logoUrl||void 0,size:"sm",bgColor:p.logoUrl?"transparent":"orchid.300",color:"white"}),(0,i.jsxs)(s.K,{textAlign:"left",align:"flex-start",justify:"flex-start",spacing:0,...l?{}:{noOfLines:1},children:[(0,i.jsx)(c.x,{fontSize:"sm",fontWeight:"600",wordBreak:"break-word",m:0,p:0,...l?{}:{overflow:"hidden",textOverflow:"ellipsis"},minWidth:"0px",children:t.name}),(0,i.jsx)(M.Y7,{workspace:t}),!R()(o)&&(0,i.jsx)(c.x,{fontSize:"xs",color:"gray.500",textAlign:"left",children:(0,i.jsx)(S.cC,{id:"F6GBat",values:{memberCount:o}})})]})]}):(0,i.jsx)(i.Fragment,{})},eC=e=>{let{onOpen:r}=e,{user:t,currentWorkspace:o,refetch:l,setCurrentWorkspaceId:I}=(0,z.SE)(),{isConnected:M}=(0,T.$gs)(),{isOpen:L,onOpen:W,onClose:B}=(0,d.q)({id:"user-settings-modal"}),{isOpen:F,onOpen:G,onClose:U}=(0,d.q)({id:"account-delete-modal"}),$=(0,D.i)({md:"400px"}),V=(0,E.useRouter)(),K=(0,N.ye)("workspaceSettings"),Y=(0,P.useCallback)(()=>{K?V.push("/settings"):r()},[K,r,V]);if(!t)return(0,i.jsx)(i.Fragment,{});let H=null==t?void 0:t.organizations;return H&&o?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(u.v,{autoSelect:!1,children:[(0,i.jsx)(w.kH,{label:M?"":"You're offline","aria-label":M?"Workspace options":"You're offline",children:(0,i.jsx)(p.xu,{children:(0,i.jsx)(h.j,{as:x.z,isDisabled:!M,variant:"ghost",rightIcon:M?(0,i.jsx)(_.G,{icon:y.gc2,"aria-label":"Caret icon"}):(0,i.jsx)(_.G,{icon:y.bKP}),w:"100%",colorScheme:"blackAlpha",color:"gray.800",cursor:"pointer",_hover:{bg:"gray.50"},p:2,pr:4,children:(0,i.jsx)(p.xu,{width:"100%",children:o&&(0,i.jsx)(eb,{workspace:o,memberCount:null,isMultiline:!1})})})})}),(0,i.jsxs)(m.q,{minW:$,zIndex:"overlay",shadow:"lg",maxW:"min(500px, 100vw)",children:[(0,i.jsxs)(g.s,{px:2,cursor:"pointer",onClick:W,children:[(0,i.jsx)(a.q,{src:t.profileImageUrl,size:"sm",name:t.displayName}),(0,i.jsxs)(s.K,{spacing:0,ml:2,children:[(0,i.jsx)(c.x,{fontSize:"sm",children:t.displayName}),(0,i.jsx)(c.x,{fontSize:"xs",color:"gray.500",children:t.email})]}),(0,i.jsx)(f.L,{}),(0,i.jsx)(_.G,{size:"sm",icon:k.gr5,color:"var(--chakra-colors-gray-500)"})]}),(0,i.jsx)(v.R,{}),H&&H.length>0&&(0,i.jsx)(j._,{title:A.ag._({id:"pmt7u4"}),type:"radio",defaultValue:null==o?void 0:o.id,onChange:e=>{I(e)},children:H.filter(e=>!R()(e)&&!R()(e.id)&&!R()(e.name)).map(e=>(0,i.jsx)(b.i,{value:e.id,icon:1===H.length?null:void 0,isFocusable:1!==H.length,children:(0,i.jsxs)(n.U,{children:[(0,i.jsx)(C.k,{flex:1,w:"100%",children:(0,i.jsx)(eb,{workspace:e,memberCount:null,isMultiline:!0})}),e.id===(null==o?void 0:o.id)&&(0,i.jsx)(C.k,{children:(0,i.jsx)(x.z,{size:"sm",variant:"outline",onClick:Y,children:(0,i.jsx)(S.cC,{id:"0dbeO4"})})})]})},e.id))}),(0,i.jsx)(v.R,{}),(0,i.jsx)(g.s,{color:"red.500",icon:(0,i.jsx)(_.G,{icon:y.jLD,fixedWidth:!0}),onClick:()=>{window.location.href="".concat(O.v.API_HOST,"/logout")},children:(0,i.jsx)(S.cC,{id:"fcWrnU"})})]})]}),L&&(0,i.jsx)(ev,{orgId:o.id,user:t,refetchUser:l,isOpen:L,onClose:B,onAccountDeleteModalOpen:G}),F&&(0,i.jsx)(er,{user:t,isOpen:F,onClose:U})]}):(0,i.jsx)(i.Fragment,{})},ey=e=>{let{workspace:r,canManageWorkspace:t,isPaid:n}=e,o={"invite-by-email":{displayName:()=>A.ag._({id:"owUDwc"}),icon:y.IBq,component:(0,i.jsx)(e0,{workspace:r,canManageWorkspace:t,isPaid:n})},"invite-by-link":{displayName:()=>A.ag._({id:"woAAa8"}),icon:y.nNP,component:(0,i.jsx)(e3,{workspace:r,canManageWorkspace:t,isPaid:n})}},[l,a]=(0,P.useState)(Object.keys(o)[0]);return(0,i.jsxs)(p.xu,{w:"100%",children:[(0,i.jsx)(eE,{tabs:o,size:"sm",activeTabKey:l,setActiveTabKey:a,onClick:()=>{}}),(0,i.jsx)(p.xu,{pt:4,children:l&&o[l].component})]})};var ek=t(46640);let e_=e=>{let{workspace:r,canManageWorkspace:t}=e,n={"active-members":{displayName:()=>(null==r?void 0:r.memberCount)?A.ag._({id:"6cWP3y",values:{0:r.memberCount}}):A.ag._({id:"Ob6KWB"}),icon:k.iOm,component:(0,i.jsx)(ro.t9,{workspace:r,dateFormatterFn:ek.P9,canManageWorkspace:t,workspaceAdminCount:r.adminCount})},invitations:{displayName:()=>A.ag._({id:"/BTjxe",values:{0:r.invitations&&"(".concat(r.invitations.length,")")}}),icon:y.FU$,component:(0,i.jsx)(ro.kV,{invitations:r.invitations,dateFormatterFn:ek.P9,canManageWorkspace:t})}},[o,l]=(0,P.useState)(Object.keys(n)[0]);return(0,i.jsxs)(p.xu,{w:"100%",children:[r&&(0,i.jsx)(eE,{tabs:n,size:"sm",activeTabKey:o,setActiveTabKey:l,onClick:()=>{}}),o&&n[o].component]})};var ew=t(74409);let eS=e=>{let{children:r,...t}=e;return(0,i.jsx)(ew.X,{size:"lg",fontFamily:"p22-mackinac-pro",fontWeight:"700",mb:"-4",...t,children:r})},eA=e=>{let{children:r}=e;return(0,i.jsx)(ew.X,{fontSize:"md",fontWeight:"600",color:"gray.800",mt:"2",mb:"2",children:(0,i.jsx)(c.x,{children:r})})},eI=e=>{let{title:r,description:t,children:n,...o}=e;return(0,i.jsxs)(C.k,{direction:{base:"column",lg:"row"},w:"100%",gap:{base:10,lg:24},...o,children:[(0,i.jsxs)(C.k,{direction:"column",justifyContent:"flex-start",flex:"1",children:[(0,i.jsx)(eA,{children:r}),(0,i.jsx)(c.x,{fontSize:"sm",color:"gray.600",children:t})]}),(0,i.jsx)(C.k,{flex:"1",justifyContent:{base:"flex-start",lg:"flex-end"},children:n})]})},eR=e=>{let{children:r}=e;return(0,i.jsx)(s.K,{display:"flex",gap:"8",w:"100%",children:r})},eE=e=>{var r;let{tabs:t,activeTabKey:o,setActiveTabKey:l,onClick:a,size:s="md"}=e;return t&&o?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.xu,{display:{base:"none",lg:"block"},children:(0,i.jsx)(n.U,{spacing:"2",children:Object.entries(t).map(e=>{let[r,t]=e;return(0,i.jsx)(x.z,{variant:"ghost",size:s,onClick:()=>{a(r),l(r)},isActive:o===r,fontWeight:"600",color:o===r?"trueblue.500":"gray.600",bg:o===r?"trueblue.50":"transparent",children:(0,i.jsxs)(C.k,{alignItems:"center",gap:"2",children:[(0,i.jsx)(_.G,{icon:t.icon,fixedWidth:!0}),t.displayName()]})},r)})})}),(0,i.jsx)(p.xu,{display:{base:"block",lg:"none"},children:(0,i.jsxs)(u.v,{children:[(0,i.jsx)(h.j,{as:x.z,variant:"ghost",rightIcon:(0,i.jsx)(_.G,{icon:y.ptq,fixedWidth:!0}),leftIcon:o?(0,i.jsx)(_.G,{icon:t[o].icon,fixedWidth:!0}):void 0,children:null===(r=t[o])||void 0===r?void 0:r.displayName()}),(0,i.jsx)(m.q,{children:(0,i.jsx)(j._,{type:"radio",defaultValue:o,children:Object.entries(t).map(e=>{let[r,t]=e;return(0,i.jsxs)(b.i,{onClick:()=>{a(r),l(r)},value:r,icon:(0,i.jsx)(_.G,{icon:y.LEp,fixedWidth:!0}),children:[(0,i.jsx)(_.G,{icon:t.icon,fixedWidth:!0})," ",t.displayName()]},r)})})})]})})]}):null};var eP=t(29705),eO=t(11082),eT=t(48832),eN=t(81640);let eM=()=>{let{currentWorkspace:e,user:r}=(0,z.SE)(),t=(0,N.ye)("changePlanModal"),n=(0,z.d3)(),{subscription:o,refetchSubscription:l}=(0,eN.z)(),a=(0,rl.IF)(o,r,t,n),{isCanceling:s,handleCancel:c,cancelFlowEnabled:d}=rs(o,e,l),u=(0,rl.Xq)(o),h=(0,rl.DI)(o),m=(0,rl.Y2)(o),g=(0,rl.zR)(o,r);return(0,i.jsx)(C.k,{alignItems:"center",direction:"column",w:"100%",gap:"4",children:(0,i.jsxs)(p.xu,{w:"100%",display:"flex",flexDirection:"column",gap:"4",children:[(0,i.jsx)(w.kH,{placement:"top",shouldWrapChildren:!0,label:a?h?(0,i.jsx)(S.cC,{id:"uxwzHm",values:{0:(0,eT.p6)(o.expirationTime,"PPP")}}):u?(0,i.jsx)(S.cC,{id:"SoEbnk",values:{0:(0,eT.p6)(o.expirationTime,"PPP")}}):(0,i.jsx)(S.cC,{id:"HrQ7yf"}):(0,i.jsx)(S.cC,{id:"H49TQ5",values:{creatorNameAndEmail:m}}),children:(0,i.jsx)(x.z,{target:"_blank",href:a&&g?g:void 0,as:eO.r,size:"md",w:"100%",textShadow:"none",rightIcon:(0,i.jsx)(eP.h,{ml:-1}),isDisabled:!a,_hover:{textDecoration:"none"},children:u||h?(0,i.jsx)(S.cC,{id:"aAFalq"}):(0,i.jsx)(S.cC,{id:"IGCJs2"})})}),d&&!u&&(0,i.jsx)(w.kH,{placement:"top",shouldWrapChildren:!0,label:a?(0,i.jsx)(S.cC,{id:"o/WrRZ"}):(0,i.jsx)(S.cC,{id:"cg8FOs",values:{creatorNameAndEmail:m}}),children:(0,i.jsx)(x.z,{colorScheme:"gray",color:"gray.600",variant:"link",size:"sm",w:"100%",mt:"2",onClick:a?c:void 0,isLoading:s,isDisabled:!a||s,children:(0,i.jsx)(S.cC,{id:"fHXMPy"})})})]})})};var ez=t(40934),eD=t(1163),eL=t(11050),eW={src:"/_next/static/media/stars.9fe7baf4.svg"};let eB=()=>{let e=L(),r=(0,z.d3)(),{openUpsellModal:t}=(0,eN.z)(),{selectedProductPrices:n}=(0,ez.y)({workspaceId:null==e?void 0:e.id,canManageWorkspace:r,selectedBillingCycleKey:"monthly"}),o=(0,eD.Hk)(null==n?void 0:n.plus);return(0,i.jsxs)(C.k,{direction:{base:"column",lg:"row"},alignItems:{base:"flex-start",lg:"center"},justifyContent:{base:"flex-start",lg:"space-between"},bg:"linear-gradient(120deg, #3300D9 0%, #9D20C9 56.82%, #DF7A6C 150%), url(".concat(eW.src,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundBlendMode:"overlay",color:"white",w:"100%",py:"8",px:"6",gap:{base:"6",lg:"2"},rounded:"md",children:[(0,i.jsxs)(C.k,{direction:"column",w:{base:"100%",lg:"75%"},children:[(0,i.jsx)(eS,{fontSize:"2xl",children:(0,i.jsx)(S.cC,{id:"qAWquf"})}),(0,i.jsx)(c.x,{mt:"4",fontSize:"sm",children:(0,i.jsx)(S.cC,{id:"xIOigZ",values:{GAMMA_PROPER_NOUN:J.N6}})})]}),(0,i.jsxs)(C.k,{direction:"column",alignItems:"center",justifyContent:"center",w:{base:"100%",lg:"25%"},gap:"2",children:[(0,i.jsx)(x.z,{w:"100%",cursor:"pointer",onClick:()=>{t({onOpenCallback:()=>{},onCloseCallback:()=>{},segmentEvent:eL.AA.GAMMA_PRO_UPSELL_CALLOUT_WORKSPACE_SETTINGS})},children:(0,i.jsx)(S.cC,{id:"kwkhPe"})}),o&&(0,i.jsx)(c.x,{textAlign:"center",fontSize:"sm",children:(0,i.jsx)(S.cC,{id:"OXf+Hd",values:{formattedPrice:o}})})]})]})};var eF=t(46949),eG=t(74105),eU=t(20816),e$=t(46028),eV=t(7985),eK=t(38045),eY=t(84636),eH=t.n(eY),eq=t(4758),eZ=t(68322),eX=t(52610),eJ=t(80498);let eQ=(0,eK.E)(p.xu),e0=e=>{let{workspace:r,canManageWorkspace:t,isPaid:n}=e,o=(0,G.p)(),l=(0,P.useRef)(),a=(0,P.useRef)(null),[d,u]=(0,P.useState)([]),[h,m]=(0,P.useState)(new eJ.B),[g,f]=(0,P.useState)(""),[v,{loading:j}]=(0,T.f4M)(),{isConfirmAddPaidMemberModalOpen:b,isConfirmAddPaidMemberModalChecked:y,onConfirmAddPaidMemberClick:k,onConfirmAddPaidMemberClose:_,showConfirmPaidUserModal:I,onConfirmAddPaidMemberClickCheckbox:R}=(0,eZ.W)(),E=(0,P.useMemo)(()=>d.concat({email:g.trim()}).filter(e=>!("email"in e)||(0,eV.G)(e.email||"")),[g,d]),O=!!(g.length||d.length),N=!!E.length,M=j||!t,z=(0,P.useCallback)(async()=>{if(0!==E.length)return v({variables:{workspaceId:r.id,invitees:E},refetchQueries:["GetWorkspace"]}).then(()=>{let e=(0,i.jsx)(S.cC,{id:"Ka86rB",values:{0:E.length}});o({title:e,description:(0,i.jsx)(c.x,{children:E.map(e=>(0,i.jsx)(c.x,{children:e.email},e.email))}),status:"success",position:"top",isClosable:!0,duration:9e3})})},[E,v,r.id,o]),D=(0,P.useCallback)(async()=>I().then(z).then(()=>{var e;u([]),f(""),null===(e=l.current)||void 0===e||e.resetItems(!0),h.resolve(),m(new eJ.B)}).catch(e=>{console.warn(e)}),[I,z,h]),L=(0,P.useCallback)(e=>{u(r=>r.filter(r=>r.email!==e))},[]),W=(0,P.useCallback)(e=>{u(r=>eH()([...r,...e],"email"))},[]),B=(0,eX.up)(),F=(0,eX.r_)();return(0,i.jsxs)(p.xu,{w:"100%",color:"gray.600",fontSize:"sm",children:[(0,i.jsxs)(s.K,{pb:"4",children:[(0,i.jsx)(c.x,{children:(0,i.jsx)(S.cC,{id:"CJWQom"})}),n&&(0,i.jsx)(c.x,{children:(0,i.jsx)("strong",{children:(0,i.jsx)(S.cC,{id:"zHGbOA"})})})]}),(0,i.jsxs)(C.k,{direction:"row",w:"100%",alignItems:"flex-start",children:[(0,i.jsx)(eG.B,{w:"100%",justifyContent:"center",flex:1,children:(0,i.jsxs)(e$.Qc,{ref:l,values:d,maxSelections:100,maxSuggestions:20,creatable:!0,multiple:!0,freeSolo:!0,suggestWhenEmpty:!1,openOnFocus:!0,filter:(e,r)=>!d.find(e=>e.email===r),onSelectOption:e=>{let{item:r}=e;W([{email:r.value}]),f("")},onTagRemoved:e=>{u(r=>[...r].filter(r=>r.email!==e))},children:[(0,i.jsxs)(eU.Z,{pointerEvents:"none",color:"gray.300",h:"100%",flexDirection:"column",children:[(0,i.jsx)(C.k,{flex:1}),(0,i.jsx)(C.k,{h:10,py:4,alignItems:"center",children:(0,i.jsx)(eF.W,{w:10})})]}),(0,i.jsx)(w.kH,{placement:"top-start",label:(0,i.jsx)(S.cC,{id:"8LvjQl",values:{WORKSPACE_ADMIN_DISPLAY_NAME_PLURAL:B,WORKSPACE_ADMIN_DISPLAY_NAME:F}}),isDisabled:t,children:(0,i.jsx)(p.xu,{children:(0,i.jsx)(e$.Vp,{ref:a,"data-testid":"autocomplete-collaborators-input",cursor:M?"not-allowed":void 0,disabled:M,w:"100%",pl:5,bg:"white",color:"gray.900",wrapStyles:{px:2},fontSize:"md",placeholder:A.ag._({id:"mIuglr"}),transition:"width 1s ease-in-out",value:g,onKeyDown:e=>{let{key:r}=e;if("Enter"===r&&0===g.length){e.preventDefault();return}if("Backspace"===r&&0===g.length&&d.length>0){let e=d.slice(-1).pop();if(e){var t;null===(t=l.current)||void 0===t||t.removeItem(e.email)}}},onPaste:e=>{e.preventDefault(),e.stopPropagation();let r=e.clipboardData.getData("Text"),t=r.trim().split(/[,|;\s]+/);W([...t.map(e=>({email:e}))]),f("")},onChange:e=>{let{target:r}=e,{value:t}=r;f(t)},children:d.map((e,r)=>(0,i.jsx)(eq.L,{idx:r,selectedCollaborator:e,handleRemoveClick:()=>{L(e.email)}},e.email))})})})]})}),(0,i.jsx)(eQ,{overflowX:"hidden",transition:"slow",animate:{maxWidth:O?"240px":"0px"},children:(0,i.jsx)(p.xu,{ml:2,children:(0,i.jsx)(x.z,{variant:"solid",onClick:D,isDisabled:!N,isLoading:!1,"data-testid":"add-selected-items",children:(0,i.jsx)(S.cC,{id:"MFKlMB"})})})})]}),(0,i.jsx)(eZ.c,{isOpen:b,newMemberCount:E.length,isChecked:y,onConfirmClick:k,onClose:_,onCancelClick:_,onCheckboxConfirm:R})]})};var e1=t(78462),e2=t(26284);let e5=e=>{let{url:r,placeholder:t,isDisabled:n=!1,onClick:o,...l}=e,[a,s]=(0,P.useState)(!1),[c,d]=(0,P.useState)(""),{hasCopied:u,onCopy:h}=(0,e2.V)(r),m=(0,P.useRef)(null),g=(0,G.p)(),f="link-copied-toast";(0,P.useEffect)(()=>{m.current&&a&&(m.current.focus(),m.current.select())},[a]);let v=(0,P.useCallback)(()=>s(!0),[]),j=(0,P.useCallback)(()=>s(!1),[]),b=(0,P.useCallback)(()=>{h(),g.isActive(f)||g({id:f,title:(0,i.jsx)(S.cC,{id:"pQjjYo"}),status:"success",duration:5e3,isClosable:!0}),null==o||o()},[o,h,g]),C=(0,eX.up)(),y=(0,eX.r_)();return(0,P.useEffect)(()=>{n?d("Only ".concat(C," can view this link")):d(r)},[r,C,n]),(0,i.jsx)(w.kH,{label:(0,i.jsx)(S.cC,{id:"XJhzX8",values:{WORKSPACE_ADMIN_DISPLAY_NAME_PLURAL:C,WORKSPACE_ADMIN_DISPLAY_NAME:y}}),placement:"top-start",isDisabled:!n,children:(0,i.jsx)(p.xu,{w:"100%",children:(0,i.jsxs)(eG.B,{size:"sm",children:[(0,i.jsx)(es.I,{ref:m,w:"100%",h:"3rem",type:"text",value:c,isDisabled:n,placeholder:t||void 0,onClick:v,onBlur:j,pointerEvents:n?"none":void 0,transition:"ease-in-out 0.2s",bg:"white",color:"gray.900",fontSize:"md",disabled:n,cursor:n?"not-allowed":void 0,wrapStyles:{px:2},...l}),(0,i.jsx)(eU.x,{zIndex:1,w:"unset",display:n?"none":"flex",children:(0,i.jsx)(x.z,{isDisabled:n,onClick:b,height:"2rem",fontSize:"sm",px:3,mt:"1rem",mr:"0.5rem",shadow:"sm",children:u?(0,i.jsx)(S.cC,{id:"6V3Ea3"}):(0,i.jsx)(S.cC,{id:"y1eoq1"})})})]})})})},e3=e=>{let{workspace:r,canManageWorkspace:t,isPaid:n}=e,[o,l]=(0,P.useState)(null);return(0,P.useEffect)(()=>{r&&l((0,e1.Dg)(r))},[o,r]),(0,i.jsxs)(C.k,{direction:"column",color:"gray.600",fontSize:"sm",children:[(0,i.jsxs)(s.K,{pb:"4",children:[(0,i.jsx)(c.x,{children:(0,i.jsx)(S.cC,{id:"ig2Isf",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:J.aq}})}),n&&(0,i.jsx)(c.x,{children:(0,i.jsx)("strong",{children:(0,i.jsx)(S.cC,{id:"ROlVXx"})})})]}),r&&(0,i.jsxs)(C.k,{direction:"column",children:[(0,i.jsx)(C.k,{children:o&&(0,i.jsx)(e5,{url:o,isDisabled:!t})}),t&&(0,i.jsx)(S.cC,{id:"X4Z7y1"})]})]})};var e4=t(12265),e9=t(25566);let e8={bg:"trueblue.50",borderColor:"trueblue.200",color:"trueblue.500"},e6={bg:"linear-gradient(120deg, #3300D9 0%, #9D20C9 56.82%, #DF7A6C 150%), url(".concat(eW.src,")"),borderColor:"trueblue.200",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundBlendMode:"overlay",color:"white"},e7=e=>{let{plan:r="plus",subscriptionDate:t,openUpsellModal:n}=e,o="pro"===r?e6:e8,l=r?(0,e4.KL)()[r].name:"",a=(0,e4.KL)().pro.name;return(0,i.jsxs)(C.k,{w:"100%",justifyContent:"center",direction:"column",children:[(0,i.jsxs)(C.k,{w:"100%",direction:"column",alignItems:"center",justifyContent:"center",rounded:"md",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.05)",borderWidth:"1px",p:"4",py:"8",gap:"2",...o,children:[(0,i.jsx)(eS,{fontSize:"4xl",children:l}),(0,i.jsx)(c.x,{fontSize:"sm",children:(0,i.jsx)(S.cC,{id:"8LFaN4",values:{0:(0,eT.p6)(t,"PPP")},components:{0:(0,i.jsx)("strong",{})}})})]}),"pro"!==r&&(0,i.jsx)(C.k,{w:"100%",my:4,children:(0,i.jsx)(x.z,{variant:"solid",size:"lg",width:"100%",onClick:()=>{n({segmentEvent:e9.AA.GAMMA_PRO_UPSELL_WORKSPACE_SETTINGS,changePlanModalOpen:!0})},textShadow:"none",children:(0,i.jsx)(S.cC,{id:"2Ow80C",values:{proPlanName:a}})})})]})};var re=t(91283);let rr=e=>{let{workspaceId:r,selected:t,fieldName:n,options:o}=e,l=(0,z.d3)(),[a]=(0,T.Mqp)(),s=(0,G.p)(),c=e=>()=>{let r="updated"===e?A.ag._({id:"Xpw8aE"}):A.ag._({id:"jwO7L7"});s({title:r,status:"success",duration:5e3,isClosable:!0,position:"top"})};return(0,i.jsx)(re.t9,{selected:t,options:o,isDisabled:!l,onClick:e=>{let t=e===re.XG.NoAccess?null:e,i={id:r,[n]:t};a({variables:{input:i},optimisticResponse:{updateWorkspace:{id:i.id,[n]:t}}}).then(c("updated")).catch(()=>{console.warn("Error updating permission")})}})};var rt=t(37733);let ri=e=>{let{workspace:r,canManageWorkspace:t}=e,n=(0,G.p)(),[o,l]=(0,P.useState)((null==r?void 0:r.name)||""),[a,c]=(0,P.useState)(!1),[d,{loading:u,called:h,error:m,reset:g}]=(0,T.Mqp)(),{refetch:f}=(0,z.SE)(),v=(0,P.useCallback)(()=>{c(!1),l((null==r?void 0:r.name)||"")},[null==r?void 0:r.name]),j=(0,P.useCallback)(()=>{d({variables:{input:{name:o,id:null==r?void 0:r.id}},fetchPolicy:"no-cache"}).then(()=>{n({status:"success",title:"Success!",description:"Workspace updated successfully.",position:"top",duration:5e3,isClosable:!0}),c(!1),g(),f&&f()}).catch(e=>{console.error('[WorkspaceNameField] Error updating workspace "'.concat(null==r?void 0:r.id,'"'),e.message)})},[d,o,null==r?void 0:r.id,n,g,f]),b=""===o||o.length<eX.My||o.length>50||!!(null==m?void 0:m.message);(0,P.useEffect)(()=>{o!==r.name&&c(!0)},[o,r.name]);let y=(0,eX.up)();return r?(0,i.jsxs)(el.NI,{isInvalid:b,children:[(0,i.jsxs)(s.K,{w:"100%",direction:["column","row"],children:[(0,i.jsx)(w.kH,{placement:"top-start",label:(0,i.jsx)(S.cC,{id:"/NhHy7",values:{WORKSPACE_ADMIN_DISPLAY_NAME_PLURAL:y}}),isDisabled:t,children:(0,i.jsx)(p.xu,{w:"100%",children:(0,i.jsx)(es.I,{w:"100%",placeholder:A.ag._({id:"CozWO1"}),value:o,disabled:!t,onChange:e=>l(e.target.value.slice(0,50)),bg:"white"})})}),t&&a&&(0,i.jsx)(rt.R,{in:a,unmountOnExit:!0,children:(0,i.jsxs)(C.k,{children:[(0,i.jsx)(x.z,{variant:"solid",isLoading:u,isDisabled:!t||b||h,onClick:j,children:(0,i.jsx)(S.cC,{id:"tfDRzk"})}),(0,i.jsx)(x.z,{onClick:v,variant:"ghost",colorScheme:"gray",children:(0,i.jsx)(S.cC,{id:"dEgA5A"})})]})})]}),(0,i.jsx)(eo.J1,{children:(null==m?void 0:m.message)?null==m?void 0:m.message:(0,i.jsx)(S.cC,{id:"soNtuq",values:{WORKSPACE_NAME_MIN_LENGTH:eX.My}})})]}):null},rn=e=>{let{workspace:r,canManageWorkspace:t}=e,[o,l]=(0,T.Mqp)(),{loading:d,error:j}=l,b=(0,G.p)(),{refetch:A}=(0,z.SE)(),[I,R]=(0,P.useState)((null==r?void 0:r.logoUrl)||""),[E,O]=(0,P.useState)(""),[N,M]=(0,P.useState)("idle"),D=E||I,L=(0,P.useMemo)(()=>eh.ND.createUppyInstance(r.id,{onUploadStart:e=>{O(""),M("uploading"),(0,eg.Ns)(e.file.type||"")||R(e.tempUrl)},onOriginalFileUpload:e=>{console.debug("[WorkspaceLogoField] onOriginalFileUpload",e),R(e.src),O(r=>r||e.src)},onUploadComplete:e=>{console.debug("[WorkspaceLogoField] onUploadComplete",e),R(r=>r||e.src),O(e.src),M("idle"),L.cancelAll()},onUploadFailed:()=>{M("error"),L.cancelAll()}},"workspaceLogo"),[r.id]),{onClick:W,inputElement:B}=em({uppy:L}),F=(0,P.useCallback)(()=>{L.cancelAll(),M("idle"),R(r.logoUrl||""),O("")},[L,r.logoUrl]),U=(0,P.useMemo)(()=>I!==r.logoUrl&&I,[r.logoUrl,I]),$=(0,P.useCallback)(()=>{U&&o({variables:{input:{id:r.id,logoUrl:I}}}).then(()=>{b({title:(0,i.jsx)(S.cC,{id:"Rk6T6B"}),position:"top",status:"success",isClosable:!0,duration:3e3}),setTimeout(()=>{A&&A()},0)}).catch(e=>{console.error('[WorkspaceLogoField.onSaveClick] Error updating workspace info "'.concat(r.id,'"'),e.message)})},[U,o,r,I,b,A]),V=(0,P.useCallback)(()=>{R(""),O(""),o({variables:{input:{id:r.id,logoUrl:""}}}).then(()=>{b({title:(0,i.jsx)(S.cC,{id:"vfEt3o"}),position:"top",status:"success",isClosable:!0,duration:3e3})}).catch(e=>{console.error('[WorkspaceLogoField.onRemoveClick] Error removing workspace logo "'.concat(r.id,'"'),e.message)})},[o,r,b]),K=!!(null==j?void 0:j.message)||"error"===N,Y=(0,eX.up)();return(0,P.useEffect)(()=>{r&&R(r.logoUrl||"")},[r,r.name]),(0,i.jsxs)(C.k,{display:"flex",flexDirection:"row",justifyContent:"flex-start",w:"100%",gap:4,children:[B,(0,i.jsx)(p.xu,{w:0,h:0,children:(0,i.jsx)(et.E,{src:E})}),(0,i.jsx)(C.k,{display:"flex",flexDirection:"row",alignItems:"start",children:(0,i.jsx)(s.K,{children:(0,i.jsxs)(u.v,{placement:"bottom-start",offset:[100,0],children:[(0,i.jsx)(w.kH,{label:t?(0,i.jsx)(S.cC,{id:"U8dGAE"}):(0,i.jsx)(S.cC,{id:"M1LZmX",values:{WORKSPACE_ADMIN_DISPLAY_NAME_PLURAL:Y}}),placement:"top",children:(0,i.jsx)(p.xu,{children:(0,i.jsx)(h.j,{position:"relative",disabled:!t||"uploading"===N,userSelect:"none",cursor:"pointer",_disabled:{cursor:"not-allowed"},role:"group",_hover:{opacity:.9},children:(0,i.jsxs)(a.q,{src:D,bg:D?"transparent":"orchid.300",name:r.name,size:"2xl",_groupHover:{shadow:"lg"},ignoreFallback:!0,children:["uploading"===N&&(0,i.jsx)(p.Cd,{position:"absolute",size:"full",justifyContent:"center",alignItems:"center",bg:"gray.300",opacity:.5,children:(0,i.jsx)(ei.$,{size:"xl",thickness:"2px"})}),(0,i.jsx)(p.Cd,{position:"absolute",bottom:0,right:0,borderRadius:"full",color:"gray.800",textAlign:"center",bg:"gray.200",size:9,_groupHover:{shadow:"lg",transform:"scale(1.02)"},children:(0,i.jsx)(_.G,{icon:I?y._jT:y.Xcf,width:16,height:16,size:"xs"})})]})})})}),(0,i.jsxs)(m.q,{fontSize:"sm",children:[(0,i.jsx)(g.s,{onClick:()=>{"uploading"!==N&&W()},children:(0,i.jsxs)(n.U,{children:[(0,i.jsx)(_.G,{icon:k.A$k}),(0,i.jsx)(c.x,{children:(0,i.jsx)(S.cC,{id:"wPTug2"})})]})}),I&&(0,i.jsx)(v.R,{}),I&&(0,i.jsx)(g.s,{onClick:V,children:(0,i.jsxs)(n.U,{color:"var(--chakra-colors-red-500)",children:[(0,i.jsx)(_.G,{icon:y.XAH,color:"var(--chakra-colors-red-500)"}),(0,i.jsx)(c.x,{children:(0,i.jsx)(S.cC,{id:"O90CN2"})})]})})]})]})})}),(0,i.jsx)(f.L,{}),(0,i.jsx)(C.k,{children:(0,i.jsx)(C.k,{justifyContent:"space-between",alignItems:"center",children:(0,i.jsx)(C.k,{direction:"row",justifyContent:"space-between",gap:2,children:(0,i.jsxs)(rt.R,{in:!!U,unmountOnExit:!0,children:[(0,i.jsx)(x.z,{variant:U?"solid":"plain",onClick:$,isDisabled:K||"uploading"===N,isLoading:d,children:(0,i.jsx)(S.cC,{id:"tfDRzk"})}),(0,i.jsx)(x.z,{variant:"ghost",colorScheme:"gray",onClick:F,children:(0,i.jsx)(S.cC,{id:"dEgA5A"})})]})})})})]})};var ro=t(55089),rl=t(28356),ra=t(6912);let rs=(e,r,t)=>{let[i,n]=(0,P.useState)(!1),{launchCancelFlow:o,cancelFlowEnabled:l}=(0,ra.B_)(e,r),a=(0,P.useCallback)(async()=>{if(o&&t){eL.co.track(eL.AA.CANCEL_SUBSCRIPTION_CLICK,{source:"cancel-flow"}),n(!0);try{var e;let r=await o();(null==r?void 0:null===(e=r.sessionResults)||void 0===e?void 0:e.canceled)===!0&&await t()}catch(e){console.warn("Failed to cancel subscription",e)}n(!1)}},[o,t]);return{isCanceling:i,handleCancel:a,cancelFlowEnabled:l}}},18412:function(e,r,t){t.d(r,{T:function(){return n}});var i=t(76919);let n=new i.v},55274:function(e,r,t){t.d(r,{AA:function(){return u},DN:function(){return c},mb:function(){return d}});var i=t(5632),n=t(2784),o=t(91994),l=t(47968),a=t(78462),s=t(18412);let c=(0,n.createContext)({openPageSetup:(e,r)=>{},openSiteSettings:e=>{},openSharePanel:(e,r)=>{}}),d=(e,r)=>{let{push:t}=(0,i.useRouter)(),c=(0,o.qr)();return(0,n.useMemo)(()=>({openPageSetup:async(i,n)=>{if(!r)return;let o=()=>s.T.emit("openPageSetup",n);if(i!==e){let e=(0,a.yQ)({docId:i});await t(e);let r=c.subscribe(()=>{(0,l.ke)(c.getState())===i&&(o(),r())})}else o()},openSiteSettings:e=>{s.T.emit("openSiteSettings",e)},openSharePanel:async(r,i)=>{let n=()=>s.T.emit("openSharePanel",i);if(r!==e){let e=(0,a.yQ)({docId:r});await t(e);let i=c.subscribe(()=>{(0,l.ke)(c.getState())===r&&(n(),i())})}else n()}}),[e,t,r,c])},u=()=>(0,n.useContext)(c)},99793:function(e,r,t){t.d(r,{J1:function(){return x}});var i=t(35183),n=t(62929),o=t(9165),l=t(68023),a=t(91982),s=t(84586),c=t(76801),d=t(31053),u=t(52322),[p,h]=(0,o.k)({name:"FormErrorStylesContext",errorMessage:"useFormErrorStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormError />\" "}),x=(0,l.G)((e,r)=>{let t=(0,a.jC)("FormError",e),n=(0,s.Lr)(e),o=(0,i.NJ)();return(null==o?void 0:o.isInvalid)?(0,u.jsx)(p,{value:t,children:(0,u.jsx)(c.m.div,{...null==o?void 0:o.getErrorMessageProps(n,r),className:(0,d.cx)("chakra-form__error-message",e.className),__css:{display:"flex",alignItems:"center",...t.text}})}):null});x.displayName="FormErrorMessage",(0,l.G)((e,r)=>{let t=h(),o=(0,i.NJ)();if(!(null==o?void 0:o.isInvalid))return null;let l=(0,d.cx)("chakra-form__error-icon",e.className);return(0,u.jsx)(n.J,{ref:r,"aria-hidden":!0,...e,__css:t.icon,className:l,children:(0,u.jsx)("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}).displayName="FormErrorIcon"},33570:function(e,r,t){t.d(r,{X:function(){return i}});var i=(0,t(67012).I)({d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z",displayName:"ChevronRightIcon"})},46949:function(e,r,t){t.d(r,{W:function(){return i}});var i=(0,t(67012).I)({d:"M23.384,21.619,16.855,15.09a9.284,9.284,0,1,0-1.768,1.768l6.529,6.529a1.266,1.266,0,0,0,1.768,0A1.251,1.251,0,0,0,23.384,21.619ZM2.75,9.5a6.75,6.75,0,1,1,6.75,6.75A6.758,6.758,0,0,1,2.75,9.5Z",displayName:"SearchIcon"})},69339:function(e,r,t){t.d(r,{w:function(){return i}});var i=(0,t(67012).I)({d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z",displayName:"ChevronLeftIcon"})},11881:function(e,r,t){t.d(r,{A:function(){return a},f:function(){return s}});var i=t(68023),n=t(76801),o=t(31053),l=t(52322),a=(0,i.G)(function(e,r){let{isExternal:t,target:i,rel:a,className:s,...c}=e;return(0,l.jsx)(n.m.a,{...c,ref:r,className:(0,o.cx)("chakra-linkbox__overlay",s),rel:t?"noopener noreferrer":a,target:t?"_blank":i,__css:{position:"static","&::before":{content:"''",cursor:"inherit",display:"block",position:"absolute",top:0,left:0,zIndex:0,width:"100%",height:"100%"}}})}),s=(0,i.G)(function(e,r){let{className:t,...i}=e;return(0,l.jsx)(n.m.div,{ref:r,position:"relative",...i,className:(0,o.cx)("chakra-linkbox",t),__css:{"a[href]:not(.chakra-linkbox__overlay), abbr[title]":{position:"relative",zIndex:1}}})})},78534:function(e,r,t){t.d(r,{h:function(){return a}});var i=t(70189),n=t(68023),o=t(76801),l=t(52322),a=(0,n.G)((e,r)=>{let t=(0,i.p)();return(0,l.jsx)(o.m.thead,{...e,ref:r,__css:t.thead})})},5832:function(e,r,t){t.d(r,{Th:function(){return a}});var i=t(70189),n=t(68023),o=t(76801),l=t(52322),a=(0,n.G)(({isNumeric:e,...r},t)=>{let n=(0,i.p)();return(0,l.jsx)(o.m.th,{...r,ref:t,__css:n.th,"data-is-numeric":e})})},19783:function(e,r,t){t.d(r,{u:function(){return w}});var i={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},n=t(75800),o=t(70339),l=t(79626),a=t(36502),s=t(32465),c=t(85244),d=t(31053),u=t(2784),p=e=>{var r;return(null==(r=e.current)?void 0:r.ownerDocument)||document},h=e=>{var r,t;return(null==(t=null==(r=e.current)?void 0:r.ownerDocument)?void 0:t.defaultView)||window},x="chakra-ui:close-tooltip",m=t(332),g=t(76801),f=t(68023),v=t(91982),j=t(84586),b=t(91148),C=t(38045),y=t(25925),k=t(52322),_=(0,g.m)(C.E.div),w=(0,f.G)((e,r)=>{var t,f;let C;let w=(0,v.mq)("Tooltip",e),S=(0,j.Lr)(e),A=(0,b.F)(),{children:I,label:R,shouldWrapChildren:E,"aria-label":P,hasArrow:O,bg:T,portalProps:N,background:M,backgroundColor:z,bgColor:D,motionProps:L,...W}=S,B=null!=(f=null!=(t=null!=M?M:z)?t:T)?f:D;if(B){w.bg=B;let e=(0,j.K1)(A,"colors",B);w[l.Dq.arrowBg.var]=e}let F=function(e={}){let{openDelay:r=0,closeDelay:t=0,closeOnClick:i=!0,closeOnMouseDown:m,closeOnScroll:g,closeOnPointerDown:f=m,closeOnEsc:v=!0,onOpen:j,onClose:b,placement:C,id:y,isOpen:k,defaultIsOpen:_,arrowSize:w=10,arrowShadowColor:S,arrowPadding:A,modifiers:I,isDisabled:R,gutter:E,offset:P,direction:O,...T}=e,{isOpen:N,onOpen:M,onClose:z}=(0,a.q)({isOpen:k,defaultIsOpen:_,onOpen:j,onClose:b}),{referenceRef:D,getPopperProps:L,getArrowInnerProps:W,getArrowProps:B}=(0,o.D)({enabled:N,placement:C,arrowPadding:A,modifiers:I,gutter:E,offset:P,direction:O}),F=(0,u.useId)(),G=`tooltip-${null!=y?y:F}`,U=(0,u.useRef)(null),$=(0,u.useRef)(),V=(0,u.useCallback)(()=>{$.current&&(clearTimeout($.current),$.current=void 0)},[]),K=(0,u.useRef)(),Y=(0,u.useCallback)(()=>{K.current&&(clearTimeout(K.current),K.current=void 0)},[]),H=(0,u.useCallback)(()=>{Y(),z()},[z,Y]),q=((0,u.useEffect)(()=>{let e=p(U);return e.addEventListener(x,H),()=>e.removeEventListener(x,H)},[H,U]),()=>{let e=p(U),r=h(U);e.dispatchEvent(new r.CustomEvent(x))}),Z=(0,u.useCallback)(()=>{if(!R&&!$.current){N&&q();let e=h(U);$.current=e.setTimeout(M,r)}},[q,R,N,M,r]),X=(0,u.useCallback)(()=>{V();let e=h(U);K.current=e.setTimeout(H,t)},[t,H,V]),J=(0,u.useCallback)(()=>{N&&i&&X()},[i,X,N]),Q=(0,u.useCallback)(()=>{N&&f&&X()},[f,X,N]),ee=(0,u.useCallback)(e=>{N&&"Escape"===e.key&&X()},[N,X]);(0,s.O)(()=>p(U),"keydown",v?ee:void 0),(0,s.O)(()=>{if(!g)return null;let e=U.current;if(!e)return null;let r=function e(r){return["html","body","#document"].includes(r.localName)?r.ownerDocument.body:(0,n.Re)(r)&&function(e){let r=e.ownerDocument.defaultView||window,{overflow:t,overflowX:i,overflowY:n}=r.getComputedStyle(e);return/auto|scroll|overlay|hidden/.test(t+n+i)}(r)?r:e("html"===r.localName?r:r.assignedSlot||r.parentElement||r.ownerDocument.documentElement)}(e);return"body"===r.localName?h(U):r},"scroll",()=>{N&&g&&H()},{passive:!0,capture:!0}),(0,u.useEffect)(()=>{R&&(V(),N&&z())},[R,N,z,V]),(0,u.useEffect)(()=>()=>{V(),Y()},[V,Y]),(0,s.O)(()=>U.current,"pointerleave",X);let er=(0,u.useCallback)((e={},r=null)=>{let t={...e,ref:(0,c.lq)(U,r,D),onPointerEnter:(0,d.v0)(e.onPointerEnter,e=>{"touch"!==e.pointerType&&Z()}),onClick:(0,d.v0)(e.onClick,J),onPointerDown:(0,d.v0)(e.onPointerDown,Q),onFocus:(0,d.v0)(e.onFocus,Z),onBlur:(0,d.v0)(e.onBlur,X),"aria-describedby":N?G:void 0};return t},[Z,X,Q,N,G,J,D]),et=(0,u.useCallback)((e={},r=null)=>L({...e,style:{...e.style,[l.Dq.arrowSize.var]:w?`${w}px`:void 0,[l.Dq.arrowShadowColor.var]:S}},r),[L,w,S]),ei=(0,u.useCallback)((e={},r=null)=>{let t={...e.style,position:"relative",transformOrigin:l.Dq.transformOrigin.varRef};return{ref:r,...T,...e,id:G,role:"tooltip",style:t}},[T,G]);return{isOpen:N,show:Z,hide:X,getTriggerProps:er,getTooltipProps:ei,getTooltipPositionerProps:et,getArrowProps:B,getArrowInnerProps:W}}({...W,direction:A.direction}),G="string"==typeof I||E;if(G)C=(0,k.jsx)(g.m.span,{display:"inline-block",tabIndex:0,...F.getTriggerProps(),children:I});else{let e=u.Children.only(I);C=(0,u.cloneElement)(e,F.getTriggerProps(e.props,e.ref))}let U=!!P,$=F.getTooltipProps({},r),V=U?function(e,r=[]){let t=Object.assign({},e);for(let e of r)e in t&&delete t[e];return t}($,["role","id"]):$,K=function(e,r){let t={};for(let i of r)i in e&&(t[i]=e[i]);return t}($,["role","id"]);return R?(0,k.jsxs)(k.Fragment,{children:[C,(0,k.jsx)(y.M,{children:F.isOpen&&(0,k.jsx)(m.h,{...N,children:(0,k.jsx)(g.m.div,{...F.getTooltipPositionerProps(),__css:{zIndex:w.zIndex,pointerEvents:"none"},children:(0,k.jsxs)(_,{variants:i,initial:"exit",animate:"enter",exit:"exit",...L,...V,__css:w,children:[R,U&&(0,k.jsx)(g.m.span,{srOnly:!0,...K,children:P}),O&&(0,k.jsx)(g.m.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:(0,k.jsx)(g.m.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:w.bg}})})]})})})})]}):(0,k.jsx)(k.Fragment,{children:I})});w.displayName="Tooltip"}}]);
//# sourceMappingURL=8258-25d4e4d01c5886ed.js.map