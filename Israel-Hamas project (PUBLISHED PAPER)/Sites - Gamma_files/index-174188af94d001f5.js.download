(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5405],{20204:function(e,i,t){"use strict";var n,l,r=t(2784),s=r&&"object"==typeof r&&"default"in r?r.default:r,a=function(){return(a=Object.assign||function(e){for(var i,t=1,n=arguments.length;t<n;t++)for(var l in i=arguments[t])Object.prototype.hasOwnProperty.call(i,l)&&(e[l]=i[l]);return e}).apply(this,arguments)},o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self?self:{};function d(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function c(e,i){return e(i={exports:{}},i.exports),i.exports}var u=c(function(e,i){var t;Object.defineProperty(i,"__esModule",{value:!0}),i.BLOCKS=void 0,(t=i.BLOCKS||(i.BLOCKS={})).DOCUMENT="document",t.PARAGRAPH="paragraph",t.HEADING_1="heading-1",t.HEADING_2="heading-2",t.HEADING_3="heading-3",t.HEADING_4="heading-4",t.HEADING_5="heading-5",t.HEADING_6="heading-6",t.OL_LIST="ordered-list",t.UL_LIST="unordered-list",t.LIST_ITEM="list-item",t.HR="hr",t.QUOTE="blockquote",t.EMBEDDED_ENTRY="embedded-entry-block",t.EMBEDDED_ASSET="embedded-asset-block",t.TABLE="table",t.TABLE_ROW="table-row",t.TABLE_CELL="table-cell",t.TABLE_HEADER_CELL="table-header-cell"});d(u),u.BLOCKS;var x=c(function(e,i){var t;Object.defineProperty(i,"__esModule",{value:!0}),i.INLINES=void 0,(t=i.INLINES||(i.INLINES={})).HYPERLINK="hyperlink",t.ENTRY_HYPERLINK="entry-hyperlink",t.ASSET_HYPERLINK="asset-hyperlink",t.EMBEDDED_ENTRY="embedded-entry-inline"});d(x),x.INLINES;var h=c(function(e,i){var t,n;Object.defineProperty(i,"__esModule",{value:!0}),(n=t||(t={})).BOLD="bold",n.ITALIC="italic",n.UNDERLINE="underline",n.CODE="code",i.default=t});d(h);var j=c(function(e,i){var t,n=o&&o.__spreadArray||function(e,i,t){if(t||2==arguments.length)for(var n,l=0,r=i.length;l<r;l++)!n&&l in i||(n||(n=Array.prototype.slice.call(i,0,l)),n[l]=i[l]);return e.concat(n||Array.prototype.slice.call(i))};Object.defineProperty(i,"__esModule",{value:!0}),i.V1_NODE_TYPES=i.TEXT_CONTAINERS=i.HEADINGS=i.CONTAINERS=i.VOID_BLOCKS=i.TABLE_BLOCKS=i.LIST_ITEM_BLOCKS=i.TOP_LEVEL_BLOCKS=void 0,i.TOP_LEVEL_BLOCKS=[u.BLOCKS.PARAGRAPH,u.BLOCKS.HEADING_1,u.BLOCKS.HEADING_2,u.BLOCKS.HEADING_3,u.BLOCKS.HEADING_4,u.BLOCKS.HEADING_5,u.BLOCKS.HEADING_6,u.BLOCKS.OL_LIST,u.BLOCKS.UL_LIST,u.BLOCKS.HR,u.BLOCKS.QUOTE,u.BLOCKS.EMBEDDED_ENTRY,u.BLOCKS.EMBEDDED_ASSET,u.BLOCKS.TABLE],i.LIST_ITEM_BLOCKS=[u.BLOCKS.PARAGRAPH,u.BLOCKS.HEADING_1,u.BLOCKS.HEADING_2,u.BLOCKS.HEADING_3,u.BLOCKS.HEADING_4,u.BLOCKS.HEADING_5,u.BLOCKS.HEADING_6,u.BLOCKS.OL_LIST,u.BLOCKS.UL_LIST,u.BLOCKS.HR,u.BLOCKS.QUOTE,u.BLOCKS.EMBEDDED_ENTRY,u.BLOCKS.EMBEDDED_ASSET],i.TABLE_BLOCKS=[u.BLOCKS.TABLE,u.BLOCKS.TABLE_ROW,u.BLOCKS.TABLE_CELL,u.BLOCKS.TABLE_HEADER_CELL],i.VOID_BLOCKS=[u.BLOCKS.HR,u.BLOCKS.EMBEDDED_ENTRY,u.BLOCKS.EMBEDDED_ASSET],i.CONTAINERS=((t={})[u.BLOCKS.OL_LIST]=[u.BLOCKS.LIST_ITEM],t[u.BLOCKS.UL_LIST]=[u.BLOCKS.LIST_ITEM],t[u.BLOCKS.LIST_ITEM]=i.LIST_ITEM_BLOCKS,t[u.BLOCKS.QUOTE]=[u.BLOCKS.PARAGRAPH],t[u.BLOCKS.TABLE]=[u.BLOCKS.TABLE_ROW],t[u.BLOCKS.TABLE_ROW]=[u.BLOCKS.TABLE_CELL,u.BLOCKS.TABLE_HEADER_CELL],t[u.BLOCKS.TABLE_CELL]=[u.BLOCKS.PARAGRAPH],t[u.BLOCKS.TABLE_HEADER_CELL]=[u.BLOCKS.PARAGRAPH],t),i.HEADINGS=[u.BLOCKS.HEADING_1,u.BLOCKS.HEADING_2,u.BLOCKS.HEADING_3,u.BLOCKS.HEADING_4,u.BLOCKS.HEADING_5,u.BLOCKS.HEADING_6],i.TEXT_CONTAINERS=n([u.BLOCKS.PARAGRAPH],i.HEADINGS,!0),i.V1_NODE_TYPES=[u.BLOCKS.DOCUMENT,u.BLOCKS.PARAGRAPH,u.BLOCKS.HEADING_1,u.BLOCKS.HEADING_2,u.BLOCKS.HEADING_3,u.BLOCKS.HEADING_4,u.BLOCKS.HEADING_5,u.BLOCKS.HEADING_6,u.BLOCKS.OL_LIST,u.BLOCKS.UL_LIST,u.BLOCKS.LIST_ITEM,u.BLOCKS.HR,u.BLOCKS.QUOTE,u.BLOCKS.EMBEDDED_ENTRY,u.BLOCKS.EMBEDDED_ASSET,x.INLINES.HYPERLINK,x.INLINES.ENTRY_HYPERLINK,x.INLINES.ASSET_HYPERLINK,x.INLINES.EMBEDDED_ENTRY,"text"]});d(j),j.V1_NODE_TYPES,j.TEXT_CONTAINERS,j.HEADINGS,j.CONTAINERS,j.VOID_BLOCKS,j.TABLE_BLOCKS,j.LIST_ITEM_BLOCKS,j.TOP_LEVEL_BLOCKS;var p=c(function(e,i){Object.defineProperty(i,"__esModule",{value:!0})});d(p);var m=c(function(e,i){Object.defineProperty(i,"__esModule",{value:!0})});d(m);var f=c(function(e,i){Object.defineProperty(i,"__esModule",{value:!0});var t={nodeType:u.BLOCKS.DOCUMENT,data:{},content:[{nodeType:u.BLOCKS.PARAGRAPH,data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]}]};i.default=t});d(f);var v=c(function(e,i){function t(e,i){for(var t=0,n=Object.keys(e);t<n.length;t++)if(i===e[n[t]])return!0;return!1}Object.defineProperty(i,"__esModule",{value:!0}),i.isText=i.isBlock=i.isInline=void 0,i.isInline=function(e){return t(x.INLINES,e.nodeType)},i.isBlock=function(e){return t(u.BLOCKS,e.nodeType)},i.isText=function(e){return"text"===e.nodeType}});d(v),v.isText,v.isBlock,v.isInline;var C=c(function(e,i){var t=o&&o.__createBinding||(Object.create?function(e,i,t,n){void 0===n&&(n=t);var l=Object.getOwnPropertyDescriptor(i,t);(!l||("get"in l?!i.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(e,n,l)}:function(e,i,t,n){void 0===n&&(n=t),e[n]=i[t]}),n=o&&o.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),l=o&&o.__exportStar||function(e,i){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(i,n)||t(i,e,n)},r=o&&o.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(null!=e)for(var l in e)"default"!==l&&Object.prototype.hasOwnProperty.call(e,l)&&t(i,e,l);return n(i,e),i},s=o&&o.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(i,"__esModule",{value:!0}),i.helpers=i.EMPTY_DOCUMENT=i.MARKS=i.INLINES=i.BLOCKS=void 0,Object.defineProperty(i,"BLOCKS",{enumerable:!0,get:function(){return u.BLOCKS}}),Object.defineProperty(i,"INLINES",{enumerable:!0,get:function(){return x.INLINES}}),Object.defineProperty(i,"MARKS",{enumerable:!0,get:function(){return s(h).default}}),l(j,i),l(p,i),l(m,i),Object.defineProperty(i,"EMPTY_DOCUMENT",{enumerable:!0,get:function(){return s(f).default}});var a=r(v);i.helpers=a});d(C);var g=C.helpers;C.EMPTY_DOCUMENT;var E=C.MARKS,S=C.INLINES,b=C.BLOCKS,y=((n={})[b.DOCUMENT]=function(e,i){return i},n[b.PARAGRAPH]=function(e,i){return s.createElement("p",null,i)},n[b.HEADING_1]=function(e,i){return s.createElement("h1",null,i)},n[b.HEADING_2]=function(e,i){return s.createElement("h2",null,i)},n[b.HEADING_3]=function(e,i){return s.createElement("h3",null,i)},n[b.HEADING_4]=function(e,i){return s.createElement("h4",null,i)},n[b.HEADING_5]=function(e,i){return s.createElement("h5",null,i)},n[b.HEADING_6]=function(e,i){return s.createElement("h6",null,i)},n[b.EMBEDDED_ENTRY]=function(e,i){return s.createElement("div",null,i)},n[b.UL_LIST]=function(e,i){return s.createElement("ul",null,i)},n[b.OL_LIST]=function(e,i){return s.createElement("ol",null,i)},n[b.LIST_ITEM]=function(e,i){return s.createElement("li",null,i)},n[b.QUOTE]=function(e,i){return s.createElement("blockquote",null,i)},n[b.HR]=function(){return s.createElement("hr",null)},n[b.TABLE]=function(e,i){return s.createElement("table",null,s.createElement("tbody",null,i))},n[b.TABLE_ROW]=function(e,i){return s.createElement("tr",null,i)},n[b.TABLE_HEADER_CELL]=function(e,i){return s.createElement("th",null,i)},n[b.TABLE_CELL]=function(e,i){return s.createElement("td",null,i)},n[S.ASSET_HYPERLINK]=function(e){return L(S.ASSET_HYPERLINK,e)},n[S.ENTRY_HYPERLINK]=function(e){return L(S.ENTRY_HYPERLINK,e)},n[S.EMBEDDED_ENTRY]=function(e){return L(S.EMBEDDED_ENTRY,e)},n[S.HYPERLINK]=function(e,i){return s.createElement("a",{href:e.data.uri},i)},n),O=((l={})[E.BOLD]=function(e){return s.createElement("b",null,e)},l[E.ITALIC]=function(e){return s.createElement("i",null,e)},l[E.UNDERLINE]=function(e){return s.createElement("u",null,e)},l[E.CODE]=function(e){return s.createElement("code",null,e)},l);function L(e,i){return s.createElement("span",{key:i.data.target.sys.id},"type: ",i.nodeType," id: ",i.data.target.sys.id)}i.h=function(e,i){return(void 0===i&&(i={}),e)?function e(i,t){var n=t.renderNode,l=t.renderMark,a=t.renderText;if(g.isText(i))return i.marks.reduce(function(e,i){return l[i.type]?l[i.type](e):e},a?a(i.value):i.value);var o=i.content.map(function(i,n){var l;return l=e(i,t),r.isValidElement(l)&&null===l.key?r.cloneElement(l,{key:n}):l});return i.nodeType&&n[i.nodeType]?n[i.nodeType](i,o):s.createElement(s.Fragment,null,o)}(e,{renderNode:a(a({},y),i.renderNode),renderMark:a(a({},O),i.renderMark),renderText:i.renderText}):null}},80121:function(e,i){"use strict";var t;Object.defineProperty(i,"__esModule",{value:!0}),i.BLOCKS=void 0,(t=i.BLOCKS||(i.BLOCKS={})).DOCUMENT="document",t.PARAGRAPH="paragraph",t.HEADING_1="heading-1",t.HEADING_2="heading-2",t.HEADING_3="heading-3",t.HEADING_4="heading-4",t.HEADING_5="heading-5",t.HEADING_6="heading-6",t.OL_LIST="ordered-list",t.UL_LIST="unordered-list",t.LIST_ITEM="list-item",t.HR="hr",t.QUOTE="blockquote",t.EMBEDDED_ENTRY="embedded-entry-block",t.EMBEDDED_ASSET="embedded-asset-block",t.TABLE="table",t.TABLE_ROW="table-row",t.TABLE_CELL="table-cell",t.TABLE_HEADER_CELL="table-header-cell"},22233:function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t(80121),l={nodeType:n.BLOCKS.DOCUMENT,data:{},content:[{nodeType:n.BLOCKS.PARAGRAPH,data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]}]};i.default=l},49186:function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.isText=i.isBlock=i.isInline=void 0;var n=t(80121),l=t(23802);function r(e,i){for(var t=0,n=Object.keys(e);t<n.length;t++)if(i===e[n[t]])return!0;return!1}i.isInline=function(e){return r(l.INLINES,e.nodeType)},i.isBlock=function(e){return r(n.BLOCKS,e.nodeType)},i.isText=function(e){return"text"===e.nodeType}},82562:function(e,i,t){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,i,t,n){void 0===n&&(n=t);var l=Object.getOwnPropertyDescriptor(i,t);(!l||("get"in l?!i.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(e,n,l)}:function(e,i,t,n){void 0===n&&(n=t),e[n]=i[t]}),l=this&&this.__setModuleDefault||(Object.create?function(e,i){Object.defineProperty(e,"default",{enumerable:!0,value:i})}:function(e,i){e.default=i}),r=this&&this.__exportStar||function(e,i){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(i,t)||n(i,e,t)},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&n(i,e,t);return l(i,e),i},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(i,"__esModule",{value:!0}),i.helpers=i.EMPTY_DOCUMENT=i.MARKS=i.INLINES=i.BLOCKS=void 0;var o=t(80121);Object.defineProperty(i,"BLOCKS",{enumerable:!0,get:function(){return o.BLOCKS}});var d=t(23802);Object.defineProperty(i,"INLINES",{enumerable:!0,get:function(){return d.INLINES}});var c=t(15931);Object.defineProperty(i,"MARKS",{enumerable:!0,get:function(){return a(c).default}}),r(t(17904),i),r(t(4335),i),r(t(85972),i);var u=t(22233);Object.defineProperty(i,"EMPTY_DOCUMENT",{enumerable:!0,get:function(){return a(u).default}});var x=s(t(49186));i.helpers=x},23802:function(e,i){"use strict";var t;Object.defineProperty(i,"__esModule",{value:!0}),i.INLINES=void 0,(t=i.INLINES||(i.INLINES={})).HYPERLINK="hyperlink",t.ENTRY_HYPERLINK="entry-hyperlink",t.ASSET_HYPERLINK="asset-hyperlink",t.EMBEDDED_ENTRY="embedded-entry-inline"},15931:function(e,i){"use strict";var t,n;Object.defineProperty(i,"__esModule",{value:!0}),(n=t||(t={})).BOLD="bold",n.ITALIC="italic",n.UNDERLINE="underline",n.CODE="code",n.SUPERSCRIPT="superscript",n.SUBSCRIPT="subscript",i.default=t},85972:function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0})},17904:function(e,i,t){"use strict";var n,l=this&&this.__spreadArray||function(e,i,t){if(t||2==arguments.length)for(var n,l=0,r=i.length;l<r;l++)!n&&l in i||(n||(n=Array.prototype.slice.call(i,0,l)),n[l]=i[l]);return e.concat(n||Array.prototype.slice.call(i))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(i,"__esModule",{value:!0}),i.V1_MARKS=i.V1_NODE_TYPES=i.TEXT_CONTAINERS=i.HEADINGS=i.CONTAINERS=i.VOID_BLOCKS=i.TABLE_BLOCKS=i.LIST_ITEM_BLOCKS=i.TOP_LEVEL_BLOCKS=void 0;var s=t(80121),a=t(23802),o=r(t(15931));i.TOP_LEVEL_BLOCKS=[s.BLOCKS.PARAGRAPH,s.BLOCKS.HEADING_1,s.BLOCKS.HEADING_2,s.BLOCKS.HEADING_3,s.BLOCKS.HEADING_4,s.BLOCKS.HEADING_5,s.BLOCKS.HEADING_6,s.BLOCKS.OL_LIST,s.BLOCKS.UL_LIST,s.BLOCKS.HR,s.BLOCKS.QUOTE,s.BLOCKS.EMBEDDED_ENTRY,s.BLOCKS.EMBEDDED_ASSET,s.BLOCKS.TABLE],i.LIST_ITEM_BLOCKS=[s.BLOCKS.PARAGRAPH,s.BLOCKS.HEADING_1,s.BLOCKS.HEADING_2,s.BLOCKS.HEADING_3,s.BLOCKS.HEADING_4,s.BLOCKS.HEADING_5,s.BLOCKS.HEADING_6,s.BLOCKS.OL_LIST,s.BLOCKS.UL_LIST,s.BLOCKS.HR,s.BLOCKS.QUOTE,s.BLOCKS.EMBEDDED_ENTRY,s.BLOCKS.EMBEDDED_ASSET],i.TABLE_BLOCKS=[s.BLOCKS.TABLE,s.BLOCKS.TABLE_ROW,s.BLOCKS.TABLE_CELL,s.BLOCKS.TABLE_HEADER_CELL],i.VOID_BLOCKS=[s.BLOCKS.HR,s.BLOCKS.EMBEDDED_ENTRY,s.BLOCKS.EMBEDDED_ASSET],i.CONTAINERS=((n={})[s.BLOCKS.OL_LIST]=[s.BLOCKS.LIST_ITEM],n[s.BLOCKS.UL_LIST]=[s.BLOCKS.LIST_ITEM],n[s.BLOCKS.LIST_ITEM]=i.LIST_ITEM_BLOCKS,n[s.BLOCKS.QUOTE]=[s.BLOCKS.PARAGRAPH],n[s.BLOCKS.TABLE]=[s.BLOCKS.TABLE_ROW],n[s.BLOCKS.TABLE_ROW]=[s.BLOCKS.TABLE_CELL,s.BLOCKS.TABLE_HEADER_CELL],n[s.BLOCKS.TABLE_CELL]=[s.BLOCKS.PARAGRAPH],n[s.BLOCKS.TABLE_HEADER_CELL]=[s.BLOCKS.PARAGRAPH],n),i.HEADINGS=[s.BLOCKS.HEADING_1,s.BLOCKS.HEADING_2,s.BLOCKS.HEADING_3,s.BLOCKS.HEADING_4,s.BLOCKS.HEADING_5,s.BLOCKS.HEADING_6],i.TEXT_CONTAINERS=l([s.BLOCKS.PARAGRAPH],i.HEADINGS,!0),i.V1_NODE_TYPES=[s.BLOCKS.DOCUMENT,s.BLOCKS.PARAGRAPH,s.BLOCKS.HEADING_1,s.BLOCKS.HEADING_2,s.BLOCKS.HEADING_3,s.BLOCKS.HEADING_4,s.BLOCKS.HEADING_5,s.BLOCKS.HEADING_6,s.BLOCKS.OL_LIST,s.BLOCKS.UL_LIST,s.BLOCKS.LIST_ITEM,s.BLOCKS.HR,s.BLOCKS.QUOTE,s.BLOCKS.EMBEDDED_ENTRY,s.BLOCKS.EMBEDDED_ASSET,a.INLINES.HYPERLINK,a.INLINES.ENTRY_HYPERLINK,a.INLINES.ASSET_HYPERLINK,a.INLINES.EMBEDDED_ENTRY,"text"],i.V1_MARKS=[o.default.BOLD,o.default.CODE,o.default.ITALIC,o.default.UNDERLINE]},4335:function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0})},87314:function(e,i,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(23078)}])},26495:function(e,i,t){"use strict";t.d(i,{m:function(){return d}});var n=t(65616),l=t(48484),r=t(14274),s=t(99787),a=t(2090);let o=e=>{let i="",t=!1;if("transloadit"in e){let{failed:n,transloadit:l}=e;t=!!n.length,i=l[0].results[":original"][0].url}else{if(!("results"in e))return{sourceUrl:i,success:!1};i=e.results[":original"][0].url}return t?{sourceUrl:i,success:!1}:{sourceUrl:i,success:!0}},d=(e,i)=>{let t=new n.ZP({...s.N$,restrictions:{...s.N$.restrictions,allowedFileTypes:s.Ge}});return t.use(l.ZP,{assemblyOptions:async()=>{let i=r.v.TRANSLOADIT_FILE_TEMPLATE_ID,{signature:t,expires:n}=await (0,a.xQ)(i);return{params:{auth:{key:r.v.TRANSLOADIT_AUTH_KEY,expires:n},template_id:i},fields:{orgId:e},signature:t}},waitForEncoding:!0}),new Promise((e,n)=>{t.on("complete",i=>{let{success:t,sourceUrl:l}=o(i);t?e(l):n("Could not get sourceUrl from upload result")}),t.on("transloadit:complete",i=>{let{success:t,sourceUrl:l}=o(i);t?e(l):n("Could not get sourceUrl from result")}),t.on("error",e=>{n(e)}),t.on("restriction-failed",(e,i)=>{console.error("[uploadFontFile] restriction failed on file",e,"error",i),n(i)}),t.addFile({name:i.name,type:i.type,data:i}),s.N$.autoProceed||t.upload()})}},18896:function(e,i,t){"use strict";t.d(i,{X:function(){return o}});var n=t(5632),l=t(2784),r=t(7e4),s=t(78462),a=t(88640);let o=e=>{let[i,t]=(0,r.X)(a.H.lastHomeUrl,"/"),o=(0,n.useRouter)();(0,l.useEffect)(()=>{let i=i=>{e&&(0,s.y6)(i)&&t(i)};return o.events.on("routeChangeStart",i),o.events.on("hashChangeStart",i),()=>{o.events.off("routeChangeStart",i),o.events.off("hashChangeStart",i)}},[o.events,t,e])};t(89311)},26838:function(e,i,t){"use strict";t.d(i,{o:function(){return eo}});var n=t(52322),l=t(56581),r=t(29117),s=t(77533),a=t(70065),o=t(55478),d=t(28535),c=t(62614),u=t(38035),x=t(36474),h=t(5879),j=t(87254),p=t(2784),m=t(90763),f=t(93624),v=t(48832),C=t(11050),g=t(74411),E=t(10625),S=t(67046),b=t(32899),y=t(332),O=t(99058),L=t(27599),_=t(25481),T=t(42946),I=t(54933),A=t(49929),D=t(94523),k=t(82282),B=t(31807),N=t(47749),w=t(29318);let R=(0,p.memo)(e=>{let{theme:i}=e,t=(0,w.eo)({theme:i}),l=i.name.replace(N.Qk,"");return(0,n.jsxs)(E.v,{isLazy:!0,children:[(0,n.jsx)(S.j,{as:b.h,isRound:!0,size:"xs",variant:"ghost",colorScheme:"blackAlpha",icon:(0,n.jsx)(A.G,{icon:T.S6C}),onClick:e=>e.stopPropagation(),children:(0,n.jsx)(h.cC,{id:"7L01XJ"})}),(0,n.jsx)(y.h,{children:(0,n.jsxs)(O.q,{zIndex:"modal",onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)(d.xu,{px:4,py:0,maxWidth:"300px",children:[(0,n.jsx)(s.x,{noOfLines:3,children:l}),i.createdTime&&(0,n.jsx)(s.x,{fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,n.jsx)(h.cC,{id:"MXSt4t",values:{0:(0,k.Z)((0,B.Z)(i.createdTime),"PPP")}})}),i.createdBy&&(0,n.jsx)(D.kH,{label:i.createdBy.email,children:(0,n.jsx)(s.x,{display:"inline-block",fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,n.jsx)(h.cC,{id:"t490IT",values:{0:i.createdBy.displayName}})})})]}),(0,n.jsx)(L.R,{}),(0,n.jsx)(_.s,{icon:(0,n.jsx)(A.G,{icon:I.XnX,fixedWidth:!0}),onClick:t,children:(0,n.jsx)(h.cC,{id:"yKu/3Y"})})]})})]})});var P=t(53596),K=t(39278),F=t(80253),G=t(14274),M=t(8393),H=t(50267);let U=(0,p.memo)(e=>{let{onCustomizeThemeClick:i,onEditThemeClick:t}=e,{isGammaOrgUser:l}=(0,H.SE)(),r=l&&"production"!==G.v.APPLICATION_ENVIRONMENT;return(0,n.jsxs)(E.v,{isLazy:!0,children:[(0,n.jsx)(S.j,{as:b.h,isRound:!0,size:"xs",variant:"ghost",colorScheme:"blackAlpha",icon:(0,n.jsx)(A.G,{icon:T.S6C}),onClick:e=>e.stopPropagation(),children:(0,n.jsx)(h.cC,{id:"7L01XJ"})}),(0,n.jsx)(y.h,{children:(0,n.jsxs)(O.q,{zIndex:"modal",onClick:e=>e.stopPropagation(),children:[(0,n.jsx)(_.s,{icon:(0,n.jsx)(A.G,{icon:T.Mw$,fixedWidth:!0}),onClick:i,children:(0,n.jsx)(h.cC,{id:"XZd6AM"})}),r&&(0,n.jsx)(_.s,{color:"orange.500",icon:(0,n.jsx)(d.xu,{boxSize:"4",children:(0,n.jsx)(M.Y,{})}),onClick:t,children:"Edit theme"}),(0,n.jsx)(L.R,{}),(0,n.jsx)(d.xu,{px:4,py:0,maxW:56,children:(0,n.jsx)(s.x,{fontSize:"sm",color:"gray.600",children:(0,n.jsx)(h.cC,{id:"FV8ABd"})})})]})})]})});var z=t(29705),W=t(92850),V=t(26468),Y=t(22226),X=t(54326),q=t(97217),Z=t(11082),Q=t(67109),J=t(50250),$=t(75768),ee=t(2338),ei=t(5632),et=t(94199),en=t(91994),el=t(47968);let er=e=>{let{theme:i,isOpen:t,onClose:l}=e,{asPath:r}=(0,ei.useRouter)(),[a,o]=(0,p.useState)(),[d,u]=(0,p.useState)(),x=(0,en.CG)(el.yx),j=(0,w.EW)({theme:i,showLinkToDashboard:!!x}),{data:m,loading:v}=(0,f.gec)({variables:{id:null==i?void 0:i.id},skip:!i||"new"===i.id});(0,p.useEffect)(()=>{var e,i;!v&&m&&((null===(e=m.theme)||void 0===e?void 0:e.docCount)&&o(m.theme.docCount),(null===(i=m.theme)||void 0===i?void 0:i.siteCount)&&u(m.theme.siteCount))},[v,m,o,u]);let C=(0,p.useMemo)(()=>{let e=0;return a&&a>0&&(e+=a),d&&d>0&&(e+=d),e},[a,d]);return(0,n.jsxs)(W.u_,{closeOnOverlayClick:!1,isOpen:t,onClose:l,size:"lg",children:[(0,n.jsx)(V.Z,{}),(0,n.jsxs)(Y.h,{children:[(0,n.jsx)(X.x,{children:(0,n.jsx)(h.cC,{id:"oh7Knm",values:{0:i.name}})}),(0,n.jsx)(q.f,{children:C>0?(0,n.jsxs)(s.x,{mb:2,children:[(0,n.jsx)(h.cC,{id:"uSopl9",values:{totalCount:C,GAMMA_ARTIFACT_PROPER_NOUN:et.Yc,GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:et.aq}})," ",(0,n.jsx)(h.cC,{id:"c+lbSJ",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:et.aq}})," ","/#themes"!==r&&(0,n.jsx)(h.cC,{id:"kLomb7",components:{0:(0,n.jsx)(Z.r,{color:"trueblue.500",colorScheme:"trueblue",href:g.oH,textDecoration:"underline",isExternal:!0}),1:(0,n.jsx)(z.h,{mx:"2px"})}})]}):v?(0,n.jsx)(Q.O,{h:"1em",mb:2}):(0,n.jsx)(s.x,{mb:2,children:(0,n.jsx)(h.cC,{id:"KNTN0L",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:et.aq}})})}),(0,n.jsx)(J.m,{children:(0,n.jsxs)($.h,{children:[(0,n.jsx)(c.z,{variant:"ghost",onClick:l,children:(0,n.jsx)(h.cC,{id:"dEgA5A"})}),(0,n.jsx)(c.z,{variant:"ghost",colorScheme:"red",onClick:()=>{j(),l()},children:(0,n.jsx)(h.cC,{id:"zck3yw"})})]})}),(0,n.jsx)(ee.o,{})]})]})},es=(0,p.memo)(e=>{let{theme:i,openThemeEditorWithThisTheme:t,onDuplicate:l,onArchiveThemeModalOpen:r,isArchiveThemeModalOpen:a,onArchiveThemeModalClose:o}=e,{canMakeStandard:c,convertToStandard:u}=(0,w.Xm)(i);return(0,n.jsxs)(E.v,{isLazy:!0,children:[(0,n.jsx)(S.j,{as:b.h,isRound:!0,size:"xs",variant:"ghost",colorScheme:"blackAlpha",icon:(0,n.jsx)(A.G,{icon:T.S6C}),onClick:e=>e.stopPropagation(),children:(0,n.jsx)(h.cC,{id:"7L01XJ"})}),(0,n.jsx)(y.h,{children:(0,n.jsxs)(O.q,{zIndex:"modal",onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)(d.xu,{px:4,py:0,maxWidth:"300px",children:[(0,n.jsx)(s.x,{noOfLines:3,children:i.name}),i.createdTime&&(0,n.jsx)(s.x,{fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,n.jsx)(h.cC,{id:"MXSt4t",values:{0:(0,k.Z)((0,B.Z)(i.createdTime),"PPP")}})}),i.createdBy&&(0,n.jsx)(D.kH,{label:i.createdBy.email,children:(0,n.jsx)(s.x,{display:"inline-block",fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,n.jsx)(h.cC,{id:"t490IT",values:{0:i.createdBy.displayName}})})})]}),(0,n.jsx)(L.R,{}),(0,n.jsx)(_.s,{icon:(0,n.jsx)(A.G,{icon:T.Xcf,fixedWidth:!0}),onClick:t,children:(0,n.jsx)(h.cC,{id:"ePK91l"})}),(0,n.jsx)(_.s,{icon:(0,n.jsx)(A.G,{icon:T.WM4,fixedWidth:!0}),onClick:l,children:(0,n.jsx)(h.cC,{id:"euc6Ns"})}),(0,n.jsx)(L.R,{}),c&&(0,n.jsx)(_.s,{color:"orange.500",icon:(0,n.jsx)(d.xu,{boxSize:"4",children:(0,n.jsx)(M.Y,{})}),onClick:u,children:(0,n.jsx)(h.cC,{id:"thLYdn"})}),(0,n.jsx)(_.s,{color:"red.500",icon:(0,n.jsx)(A.G,{icon:T.N2j,fixedWidth:!0}),onClick:r,children:(0,n.jsx)(h.cC,{id:"B495Gs"})})]})}),a&&(0,n.jsx)(y.h,{children:(0,n.jsx)(er,{theme:i,isOpen:!0,onClose:o})})]})}),ea=e=>{let{isChecked:i,name:t}=e;return(0,n.jsxs)(r.U,{spacing:1,alignItems:"flex-start",children:[i&&(0,n.jsx)(l.n,{w:3,h:"auto",mr:1,mt:1,color:"trueblue.700"}),(0,n.jsx)(s.x,{fontSize:"sm",noOfLines:1,"data-testid":"theme-name",color:i?"trueblue.700":void 0,children:t})]})},eo=(0,p.memo)(e=>{var i,t,l,s;let{theme:E,isChecked:S=!1,variant:b="outline",onThemeClicked:y,disableEditing:O}=e,L=(0,C.z$)(),_=(0,a.p)(),T="ghost"===b,I=(0,p.useRef)(null),A=(0,p.useCallback)(()=>{(0,F.r3)({theme:E})},[E]),D=(0,p.useCallback)(()=>{(0,F.S9)({theme:E})},[E]),{isOpen:k,onOpen:B,onClose:N}=(0,o.q)({id:"ArchiveThemeModalDisclosure"}),{user:w,currentWorkspace:G}=(0,K.SE)(),[M]=(0,f.gFs)(),H=E.name.replace(g.Qk,""),z=(0,p.useCallback)(()=>{if(!w||!G)return;let{id:e,...i}=E;M({variables:{id:e},update:(e,i)=>{let{data:t}=i;(null==t?void 0:t.duplicateTheme)&&e.writeQuery({query:f.$LR,variables:{workspaceId:E.workspaceId,archived:!1},data:{themes:[t.duplicateTheme]}})},optimisticResponse:{duplicateTheme:{id:"temp",__typename:"Theme",...i,name:"".concat(H," (copy)"),archived:!1,createdTime:new Date().toISOString(),updatedTime:new Date().toISOString()}}}).then(i=>{let{data:t}=i;t&&(null==L||L.track(C.AA.THEME_DUPLICATED,{theme_id:t.duplicateTheme.id,source_theme_id:e,name:H}),null==L||L.track(C.AA.THEME_CREATED,{theme_id:t.duplicateTheme.id,name:t.duplicateTheme.name,type:"duplicate"}),_({title:j.ag._({id:"DvRoa4",values:{0:t.duplicateTheme.name}}),status:"success",duration:3e3,position:"top",isClosable:!0}),(0,F.r3)({theme:t.duplicateTheme}))}).catch(e=>{console.error("Couldn't duplicate theme ".concat(E.name," error: ").concat(e)),_({title:j.ag._({id:"aOi88n",values:{err:e}}),status:"error",duration:3e3,position:"top",isClosable:!1})})},[w,G,E,M,H,L,_]),W=E.workspaceId&&!!(null===(i=E.createdBy)||void 0===i?void 0:i.displayName),V=!!y;return(0,n.jsxs)(d.xu,{ref:I,bgColor:S?"trueblue.100":T?void 0:"linen.50",textAlign:"left",tabIndex:V?0:void 0,borderRadius:"md",transitionProperty:T?"common":"none",transitionDuration:"normal",outline:"none",onClick:()=>V?null==y?void 0:y(E):void 0,onKeyPress:e=>{V&&"Enter"===e.key&&(null==y||y(E))},_hover:V?{shadow:T||S?void 0:"lg",bgColor:S?"trueblue.100":T?"trueblue.50":"gray.100"}:void 0,_focus:{boxShadow:S||!V?void 0:"outline"},shadow:T?void 0:"md",p:T?2:0,"data-theme-id":E.id,"data-testid":S?"current-theme-preview":void 0,cursor:V?"pointer":void 0,role:"group",position:"relative",children:[(0,n.jsx)(P.n,{theme:E,minH:"8em",maxH:"8em",children:S&&!O&&(0,n.jsx)(c.z,{opacity:0,_groupHover:{opacity:1},transitionProperty:"opacity",transitionDuration:"normal",position:"absolute",bottom:2,right:2,size:"sm",variant:"solid",onClick:E.workspaceId?A:D,children:E.workspaceId?(0,n.jsx)(h.cC,{id:"ePK91l"}):(0,n.jsx)(h.cC,{id:"srRMnJ"})})}),(0,n.jsxs)(u.k,{align:"baseline",mt:1,direction:"column",p:T?0:2,children:[W&&(0,n.jsx)(u.k,{my:2,children:(0,n.jsx)(ea,{name:H,isChecked:S})}),(0,n.jsxs)(r.U,{alignItems:"flex-start",w:"100%",children:[W?(0,n.jsx)(m.l,{createdByYou:(null===(t=E.createdBy)||void 0===t?void 0:t.id)===(null==w?void 0:w.id),createdByName:null===(l=E.createdBy)||void 0===l?void 0:l.displayName,createdByProfileImageUrl:null===(s=E.createdBy)||void 0===s?void 0:s.profileImageUrl,timestampDescription:E.updatedTime&&(0,n.jsx)(h.cC,{id:"E1dtM3",values:{0:(0,v.Dw)(E.updatedTime)}})}):(0,n.jsx)(ea,{name:H,isChecked:S}),(0,n.jsx)(x.L,{}),!A||O?null:E.workspaceId&&!E.archived?(0,n.jsx)(es,{theme:E,openThemeEditorWithThisTheme:A,onDuplicate:z,onArchiveThemeModalOpen:B,isArchiveThemeModalOpen:k,onArchiveThemeModalClose:N}):E.workspaceId&&!0===E.archived?(0,n.jsx)(R,{theme:E}):(0,n.jsx)(U,{onCustomizeThemeClick:D,onEditThemeClick:A})]})]})]})});eo.displayName="ThemePreview"},23078:function(e,i,t){"use strict";let n;t.r(i),t.d(i,{HomePage:function(){return ns},default:function(){return na}});var l=t(52322),r=t(35685),s=t(34168),a=t(18896),o=t(7603),d=t(46929),c=t(55478),u=t(29117),x=t(43297),h=t(82554),j=t(74409),p=t(38035),m=t(75009),f=t(77533),v=t(75768),C=t(62614),g=t(11082),E=t(28535),S=t(69251),b=t(30523),y=t(67109),O=t(42946),L=t(49929),_=t(5879),T=t(34498),I=t.n(T),A=t(5632),D=t.n(A),k=t(2784),B=t(93624),N=t(42111),w=t(46759),R=t(39278),P=t(40651),K=t(97763),F=t(57124),G=t(11050),M=t(64663),H=t(90221);let U=()=>{let{isOpen:e,onOpen:i,onClose:t}=(0,c.q)({id:"ai-credits-modal"}),{isOpen:n,onOpen:r,onClose:s}=(0,c.q)({id:"create-site-modal"}),a=(0,F._O)(),o=(0,N.ye)("createSiteAi");(0,G.z$)();let d=a&&(!(0,H.s2)()||(0,H.s2)()),{push:m}=(0,A.useRouter)(),{credits:v,hasEnoughCreditsToGenerateDeck:g}=(0,K.qO)(),[S,b]=(0,k.useState)(!1),y=(0,k.useCallback)(async()=>{b(!0),await m("/create/generate?ref=sites-dashboard"),b(!1)},[m]),{displayName:T,ariaLabel:I,icon:D}=M.A5[M.oc.SITES];return(0,l.jsxs)(p.k,{flex:"1",mb:(0,H.s2)()?0:4,direction:"column",children:[(0,l.jsx)(E.xu,{w:["100%","auto"],children:(0,l.jsx)(u.U,{h:"1.5em",children:(0,l.jsxs)(j.X,{fontSize:"lg",fontWeight:"600","data-testid":"sites-view-header",children:[(0,l.jsx)(L.G,{icon:D,"aria-label":I()})," ",(0,l.jsx)(f.x,{as:"span",ml:2,children:T})]})})}),d&&(0,l.jsxs)(p.k,{flex:"1",mb:(0,H.s2)()?0:4,direction:"column",children:[(0,l.jsxs)(x.K,{direction:{base:"column",lg:"row"},spacing:2,mt:4,children:[o&&(0,l.jsx)(C.z,{"data-testid":"create-from-aipartner-button",variant:"solid",onClick:y,isLoading:S,leftIcon:(0,l.jsx)(L.G,{icon:O.r8p}),rightIcon:(0,l.jsx)(h.C,{colorScheme:"trueblue",textShadow:"none",children:"AI"}),children:(0,l.jsx)(_.cC,{id:"6/5iNu"})}),!(0,H.s2)()&&(0,l.jsx)(C.z,{w:"auto","data-testid":"create-site-button",isDisabled:!a,variant:o?"plain":"solid",onClick:r,leftIcon:(0,l.jsx)(L.G,{icon:O.r8p}),children:(0,l.jsx)(_.cC,{id:"h3eRam"})})]}),(0,l.jsx)(P.H,{credits:v,isOpen:e,onClose:t,onOpen:i}),(0,l.jsx)(w.M,{isOpen:n,onClose:s})]})]})};var z=t(11881),W=t(82729),V=t(36474),Y=t(87254),X=t(39097),q=t.n(X),Z=t(90763),Q=t(16426),J=t(15041),$=t(10625),ee=t(67046),ei=t(32899),et=t(332),en=t(99058),el=t(27599),er=t(25481),es=t(92850),ea=t(26468),eo=t(22226),ed=t(54326),ec=t(2338),eu=t(97217),ex=t(47443),eh=t(52929),ej=t(5740),ep=t(50250),em=t(94523),ef=t(48832);let ev=e=>{var i,t,n;let{site:r}=e,{isOpen:s,onOpen:a,onClose:o}=(0,c.q)({id:"site-menu-".concat(null==r?void 0:r.id)}),{isOpen:d,onOpen:u,onClose:x}=(0,c.q)({id:"site-menu-".concat(null==r?void 0:r.id)}),h=r&&(0,J.AR)({site:r,path:"/"});return r?(0,l.jsxs)($.v,{isLazy:!0,closeOnSelect:!1,children:[(0,l.jsx)(ee.j,{"data-dashboard-site-menu":!0,as:ei.h,size:"xs",variant:"ghost",borderRadius:"full",onClick:a,icon:(0,l.jsx)(L.G,{fixedWidth:!0,icon:O.cNd}),color:"gray.400",_hover:{color:"gray.800",bg:"gray.200"},children:(0,l.jsx)(_.cC,{id:"7L01XJ"})}),s&&r&&(0,l.jsx)(et.h,{children:(0,l.jsxs)(en.q,{maxW:"sm",zIndex:"overlay",children:[(0,l.jsxs)(E.xu,{px:4,py:0,wordBreak:"break-word",children:[(0,l.jsx)(f.x,{children:null==r?void 0:r.name}),(0,l.jsx)(f.x,{fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,l.jsx)(_.cC,{id:"MXSt4t",values:{0:(0,ef.p6)(null==r?void 0:r.createdTime,"MMMM do, yyyy")}})}),(null==r?void 0:null===(i=r.createdBy)||void 0===i?void 0:i.email)&&(null==r?void 0:null===(t=r.createdBy)||void 0===t?void 0:t.email)&&(0,l.jsx)(em.kH,{label:null==r?void 0:null===(n=r.createdBy)||void 0===n?void 0:n.email,children:(0,l.jsx)(f.x,{display:"inline-block",fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,l.jsx)(_.cC,{id:"t490IT",values:{0:r.createdBy.displayName}})})})]}),(null==r?void 0:r.currentDeployment)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(el.R,{}),(0,l.jsx)(er.s,{onClick:u,icon:(0,l.jsx)(L.G,{fixedWidth:!0,icon:O.WM4}),children:(0,l.jsx)(_.cC,{id:"aKkjQq"})})]}),h&&(null==r?void 0:r.currentDeployment)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(el.R,{}),(0,l.jsx)(er.s,{href:h,as:q(),target:"_blank",icon:(0,l.jsx)(L.G,{fixedWidth:!0,icon:O.ZE5}),children:(0,l.jsx)(_.cC,{id:"OHFiKG"})})]})]})}),(0,l.jsx)(eC,{isOpen:d,onClose:x})]}):(0,l.jsx)(l.Fragment,{})},eC=e=>{let{isOpen:i,onClose:t}=e,n=(0,em.cE)("Mod+A"),r=(0,em.cE)("Mod+C"),s=(0,em.cE)("Mod+V"),a=(0,em.cE)("Shift+click");return(0,l.jsxs)(es.u_,{blockScrollOnMount:!1,isOpen:i,onClose:t,size:"2xl",children:[(0,l.jsx)(ea.Z,{}),(0,l.jsxs)(eo.h,{children:[(0,l.jsx)(ed.x,{children:(0,l.jsx)(_.cC,{id:"aKkjQq"})}),(0,l.jsx)(ec.o,{}),(0,l.jsx)(eu.f,{children:(0,l.jsxs)(x.K,{spacing:"3",children:[(0,l.jsx)(f.x,{children:(0,l.jsx)(_.cC,{id:"jMrUjv",components:{0:(0,l.jsx)("strong",{})}})}),(0,l.jsxs)(ex.b,{children:[(0,l.jsx)(eh.z,{}),(0,l.jsxs)(x.K,{spacing:"1",children:[(0,l.jsx)(f.x,{fontWeight:"700",children:(0,l.jsx)(_.cC,{id:"7L2CH/"})}),(0,l.jsx)(f.x,{children:(0,l.jsx)(_.cC,{id:"vQ3sVj",values:{selectMultipleCommand:a,pasteShortcut:s},components:{0:(0,l.jsx)(ej.T,{}),1:(0,l.jsx)("strong",{}),2:(0,l.jsx)(ej.T,{})}})})]})]}),(0,l.jsx)(m.E,{borderRadius:"md",src:"https://cdn.gamma.app/_app_static/images/copy-cards-tutorial-7802f23d.gif"}),(0,l.jsx)(ex.b,{colorScheme:"gray",fontSize:"sm",children:(0,l.jsx)(f.x,{fontSize:"sm",children:(0,l.jsx)(_.cC,{id:"KoiAlx",values:{selectAllShortcut:n,copyShortcut:r,pasteShortcut:s},components:{0:(0,l.jsx)(ej.T,{}),1:(0,l.jsx)(ej.T,{}),2:(0,l.jsx)(ej.T,{})}})})})]})}),(0,l.jsx)(ep.m,{children:(0,l.jsx)(C.z,{variant:"solid",onClick:t,children:(0,l.jsx)(_.cC,{id:"DPfwMq"})})})]})]})},eg=e=>"recent"===e||"favorites"===e,eE=e=>({all:{ready:!0,filter:{}},recent:{ready:!0,filter:{sortBy:{field:B.IX5.LastViewed,direction:B.SrV.Desc}}},private:{ready:!0,filter:{isPrivate:!0}},createdByYou:{ready:!!e,filter:{createdBy:null==e?void 0:e.id}},favorites:{ready:!0,filter:{sortBy:{field:B.IX5.Favorited,direction:B.SrV.Desc}}}}),eS=e=>{let{sortBy:i,filterBy:t,docUser:n,doc:r}=e;if("favorites"===t)return(0,l.jsx)(_.cC,{id:"8a9FIL",values:{0:(0,ef.Dw)(null==n?void 0:n.favorited)}});if("recent"===t)return(0,l.jsx)(_.cC,{id:"yJynx8",values:{0:(0,ef.Dw)(null==n?void 0:n.lastViewed)}});let s={[B.IX5.LastViewed]:(0,l.jsx)(_.cC,{id:"yJynx8",values:{0:(0,ef.Dw)(null==n?void 0:n.lastViewed)}}),[B.IX5.CreatedTime]:(0,l.jsx)(_.cC,{id:"oJFw5Q",values:{0:(0,ef.Dw)(null==r?void 0:r.createdTime)}}),[B.IX5.EditedTime]:(0,l.jsx)(_.cC,{id:"yxz5Og",values:{0:(0,ef.Dw)(null==r?void 0:r.editedTime)}})};return(null==s?void 0:s[i])||(0,l.jsx)(_.cC,{id:"yxz5Og",values:{0:(0,ef.Dw)(null==r?void 0:r.editedTime)}})};var eb=t(78462);let ey=e=>{var i;let{site:t,doc:n,sortBy:r,filterBy:s}=e,{user:a}=(0,R.SE)(),o=(null==t?void 0:t.createdBy)||(null==n?void 0:n.createdBy),d=(null==t?void 0:t.previewUrl)||(null==n?void 0:null===(i=n.titleCard)||void 0===i?void 0:i.previewUrl),{docUser:c}=n||{},j=n&&eS({sortBy:r,docUser:c,filterBy:s,doc:n}),v=null==t?void 0:t.id,C=(null==n?void 0:n.id)?n.id:t&&"routes"in t?(0,J.eQ)(t):void 0,g=(0,J.Zz)((0,J.ms)(null==t?void 0:t.domains))[0],S=(0,k.useMemo)(()=>C&&v&&(0,eb.yQ)({docId:C}),[C,v]),y=(null==t?void 0:t.enabled)&&!(null==t?void 0:t.archived)&&!(null==n?void 0:n.archived);return S?(0,l.jsxs)(z.f,{as:b.P,bg:"linen.50",borderRadius:"5px",shadow:"md",_focusWithin:{shadow:"outline",_hover:{shadow:"outline"}},cursor:"pointer",_hover:{shadow:"lg",bgColor:"gray.100"},transition:"box-shadow .2s ease",role:"group",className:"highlight-mask",children:[(0,l.jsx)(E.xu,{pos:"absolute",top:-2,left:2,right:2,bottom:"calc(66%)",border:"1px solid var(--chakra-colors-blackAlpha-300)",bg:"whiteAlpha.600",zIndex:0,borderRadius:"md"}),(0,l.jsx)(E.xu,{pos:"absolute",top:-1,left:1,right:1,bottom:"calc(66%)",bg:"whiteAlpha.900",border:"1px solid var(--chakra-colors-blackAlpha-400)",zIndex:0,borderRadius:"md"}),(0,l.jsxs)(p.k,{direction:"column",wordBreak:"break-word",alignContent:"space-between",height:"100%",bg:"white",_hover:{bgColor:"gray.100"},borderBottomRadius:"md",children:[(0,l.jsx)(z.A,{href:S,as:q(),borderRadius:"md",children:(0,l.jsx)(W.o,{ratio:40/21,bgColor:"gray.100",children:(0,l.jsxs)(p.k,{borderBottomWidth:"1px",borderBottomColor:"gray.100",pos:"relative",overflow:"hidden",borderTopRadius:"md",children:[(0,l.jsx)(m.E,{src:d,fit:"cover",fallbackSrc:Q.Z.src}),(null==t?void 0:t.enabled)&&(0,l.jsx)(h.C,{pos:"absolute",size:"xs",bottom:2,left:2,colorScheme:"blackAlpha",bg:"gray.100",color:"gray.600",textTransform:"none",children:(0,l.jsxs)(u.U,{spacing:1,children:[(0,l.jsx)(L.G,{fixedWidth:!0,icon:O.Xj}),(0,l.jsx)(f.x,{children:(0,l.jsx)(_.cC,{id:"ebQKK7"})})]})})]})})}),(0,l.jsxs)(p.k,{p:3,position:"relative",direction:"column",justifyContent:"space-between",h:"100%",alignItems:"flex-start",children:[(0,l.jsx)(z.A,{href:S,as:q(),children:(0,l.jsxs)(x.K,{spacing:0,mb:2,children:[(0,l.jsx)(f.x,{noOfLines:2,children:null==t?void 0:t.name}),(0,l.jsxs)(u.U,{children:[(null==t?void 0:t.faviconUrl)&&(0,l.jsx)(m.E,{maxW:"16px",maxH:"16px",src:null==t?void 0:t.faviconUrl}),(0,l.jsx)(f.x,{noOfLines:1,color:"gray.500",fontSize:"xs",wordBreak:"break-all",children:null==g?void 0:g.name})]})]})}),(0,l.jsx)(p.k,{direction:"column",w:"100%",children:(0,l.jsxs)(p.k,{mt:2,align:"flex-start",w:"100%",justify:"space-between",children:[o&&(0,l.jsx)(Z.l,{createdByYou:o.id===(null==a?void 0:a.id),createdByName:o.displayName||Y.ag._({id:"rtir7c"}),createdByProfileImageUrl:o.profileImageUrl,timestampDescription:j}),(0,l.jsx)(V.L,{}),y&&(0,l.jsx)(ev,{site:t})]})})]})]})]}):(0,l.jsx)(l.Fragment,{})};var eO=t(65397);let eL={base:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)",xl:"repeat(4, 1fr)","2xl":"repeat(5, 1fr)"},e_=e=>{let{isSidebarVisible:i,setIsSidebarVisible:t}=e,{currentWorkspace:n}=(0,R.SE)(),r=(0,N.ye)("createSiteAi"),{push:s}=(0,A.useRouter)(),{isOpen:a,onOpen:o,onClose:d}=(0,c.q)({id:"create-site-modal"}),[T,D]=(0,k.useState)(!1),{data:P,loading:K,error:F}=(0,B.bBo)({variables:{workspaceId:null==n?void 0:n.id},skip:!(null==n?void 0:n.id),fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),G=(0,k.useCallback)(async()=>{r?(D(!0),await s("/create/generate?ref=sites-dashboard"),D(!1)):o()},[r,o,s]),M=(null==P?void 0:P.sites)&&I()(null==P?void 0:P.sites,"updatedTime","desc");return!M||0!==M.length||K||F?(0,l.jsxs)(E.xu,{w:"100%","data-testid":"sites-view-container",children:[(0,l.jsx)(eO.d,{isSidebarVisible:i,setIsSidebarVisible:t,children:(0,l.jsx)(U,{})}),(0,l.jsxs)(x.K,{children:[K&&(0,l.jsxs)(S.r,{templateColumns:eL,gap:6,children:[(0,l.jsx)(b.P,{bg:"linen.50",borderRadius:"5px",height:"200px",as:y.O}),(0,l.jsx)(b.P,{bg:"linen.50",borderRadius:"5px",height:"200px",as:y.O}),(0,l.jsx)(b.P,{bg:"linen.50",borderRadius:"5px",height:"200px",as:y.O})]}),!K&&!F&&(0,l.jsx)(S.r,{templateColumns:eL,gap:6,children:null==M?void 0:M.map(e=>(0,l.jsx)(ey,{site:e},e.id))})]}),(0,l.jsx)(w.M,{isOpen:a,onClose:d})]}):(0,l.jsxs)(u.U,{spacing:4,flex:1,h:"100%",maxW:"3xl",margin:"auto",children:[(0,l.jsxs)(x.K,{align:"flex-start",justify:"center",spacing:6,flex:1,children:[(0,l.jsx)(u.U,{children:(0,l.jsx)(h.C,{colorScheme:"green",children:(0,l.jsx)(_.cC,{id:"YBt9YP"})})}),(0,l.jsx)(j.X,{fontFamily:"p22-mackinac-pro",fontWeight:"700",children:(0,l.jsx)(_.cC,{id:"2xMidw"})}),(0,l.jsx)(p.k,{flex:1,display:{base:"flex",lg:"none"},children:(0,l.jsx)(m.E,{src:"https://cdn.gamma.app/zc87vhr30n8uf3n/9f0b4d71d10f4d388e50febe89bb1853/optimized/Sal-Chill-Cloud.svg"})}),(0,l.jsx)(f.x,{fontSize:"lg",children:(0,l.jsx)(_.cC,{id:"Vg3hxF"})}),(0,l.jsxs)(v.h,{size:"lg",children:[(0,l.jsx)(C.z,{variant:"solid",onClick:G,isLoading:T,children:(0,l.jsx)(_.cC,{id:"JHMOcq"})}),(0,l.jsx)(C.z,{as:g.r,variant:"plain",isExternal:!0,href:"https://help.gamma.app/en/articles/8429268-how-to-publish-your-page-to-a-custom-domain",rightIcon:(0,l.jsx)(L.G,{icon:O.gJF}),children:(0,l.jsx)(_.cC,{id:"zwWKhA"})})]})]}),(0,l.jsx)(p.k,{flex:1,display:{base:"none",lg:"flex"},children:(0,l.jsx)(m.E,{src:"https://cdn.gamma.app/zc87vhr30n8uf3n/9f0b4d71d10f4d388e50febe89bb1853/optimized/Sal-Chill-Cloud.svg"})}),(0,l.jsx)(w.M,{isOpen:a,onClose:d})]})};var eT=t(70189),eI=t(80774),eA=t(79443),eD=t(109),ek=t(46402),eB=t(14223),eN=t(16710),ew=t(35138);let eR=e=>'[data-doc-grid-item-id="'.concat(e,'"]'),eP=k.memo(e=>{let{user:i,currentWorkspace:t,currentChannelId:n,viewPreference:r}=e,s=(0,N.ye)("screenshotsEnabled"),a=(0,k.useRef)(null),o=(0,k.useRef)(null),[d,c]=(0,k.useState)(null),x=(0,ek.N)(),h=x.getMonitor();(0,k.useEffect)(()=>h.subscribeToOffsetChange(()=>{let e=h.getItem();if(!e||!a.current||!o.current)return;let i=h.getClientOffset();if(!i)return;let{x:t,y:n}=i;a.current.style.transform="translate(".concat(t,"px, ").concat(n,"px)")}),[h]),(0,k.useEffect)(()=>h.subscribeToStateChange(()=>{let e=h.getItemType(),i=h.getItem();if(e!==ew.c||null===i){c(null),a.current.style.transform="translate(0px, 0px)";return}let t=document.querySelector(eR(i.id));if(t){let e=t.getBoundingClientRect();o.current.style.width="".concat(e.width,"px"),o.current.style.height="".concat(e.height,"px")}c(i)}),[h]);let j=(0,k.useMemo)(()=>{var e,a,o,c,x;if(!d)return null;let h=(0,eN.nZ)({doc:d,user:i,currentWorkspace:t,channelToExclude:n}),j={src:s?null===(e=d.titleCard)||void 0===e?void 0:e.previewUrl:Q.Z.src,fallbackSrc:Q.Z.src};return"list"===r?(0,l.jsx)(eT.i,{width:"100%",children:(0,l.jsxs)(eI.Tr,{children:[(0,l.jsx)(eA.Td,{}),(0,l.jsx)(eA.Td,{w:"50%",children:d.title||""}),(0,l.jsx)(eA.Td,{children:(0,l.jsx)(em.MY,{tags:h,NextLink:q()})}),(0,l.jsx)(eA.Td,{color:"gray.600"}),(0,l.jsx)(eA.Td,{children:(0,l.jsxs)(u.U,{children:[(0,l.jsx)(eD.q,{shadow:"md",borderWidth:"1px",size:"xs",src:null==d?void 0:null===(c=d.createdBy)||void 0===c?void 0:c.profileImageUrl}),(0,l.jsx)(f.x,{children:null==d?void 0:null===(x=d.createdBy)||void 0===x?void 0:x.displayName})]})})]})}):(0,l.jsx)(eB.F7,{id:"temp",title:d.title||"",thumbnailImageUrl:j,NextLink:p.k,createdTime:d.createdTime,href:"",editors:d.editors,tags:h,createdByName:(null===(a=d.createdBy)||void 0===a?void 0:a.displayName)||"",createdByProfileImageUrl:null===(o=d.createdBy)||void 0===o?void 0:o.profileImageUrl,createdByEmail:"",menuEnabled:!1})},[d,i,t,s,n,r]);return(0,l.jsx)(et.h,{children:(0,l.jsx)(p.k,{ref:a,display:d?"block":"none",position:"fixed",pointerEvents:"none",zIndex:"overlay",left:0,top:0,children:(0,l.jsx)(p.k,{ref:o,transform:"scale(".concat(d?.5:1,")"),transition:"transform .2s ease",transformOrigin:"0 0",children:j})})})});eP.displayName="DocGridItemCustomDragLayer";var eK=t(92843);function eF(){return n||((n=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),n}let eG=(0,k.memo)(e=>{let{user:i,currentWorkspace:t,doc:n,currentChannelId:r,sortBy:s,filterBy:a,canDuplicate:o,canEditDoc:d,canManageDoc:c,createdByYou:u,cardThumbnails:x,fetchThumbnails:h,handleDuplicateDoc:j,handleFavoriteDoc:p,handleTrash:m,handlePermanentDelete:f,handleRestoreDoc:v,handleShareClick:C,handleRenameClick:g,handleRemoveFromChannel:E}=e,{id:S,title:b,createdTime:y,archived:O,titleCard:L,docUser:_,createdBy:T}=n,I=eS({sortBy:s,docUser:_,filterBy:a,doc:n}),A=(0,N.ye)("screenshotsEnabled"),D=(0,eN.nZ)({doc:n,user:i,currentWorkspace:t,channelToExclude:r}),B={src:A?null==L?void 0:L.previewUrl:Q.Z.src,fallbackSrc:Q.Z.src},w=!!r,R=!!n.site,[P,K,F]=(0,eK.c)({type:ew.c,item:()=>n,options:{dropEffect:"copy",doc:n},collect:e=>({isDragging:e.isDragging()})},[c,n]);(0,k.useEffect)(()=>{F(eF())},[F]);let G=(0,k.useCallback)(()=>{A&&h(n.id)},[n.id,h,A]);return R?(0,l.jsx)(ey,{site:n.site,doc:n,filterBy:a,sortBy:s}):(0,l.jsx)(eB.F7,{ref:K,id:S,title:b||"",thumbnailImageUrl:B,NextLink:q(),href:(0,eb.Gn)({docId:S}),createdByYou:u,createdTime:y,timestampDescription:I,createdByName:(null==T?void 0:T.displayName)||"",createdByProfileImageUrl:null==T?void 0:T.profileImageUrl,createdByEmail:(null==T?void 0:T.email)||"",isDuplicateEnabled:o,isShareEnabled:d,isRenameEnabled:d,isTrashAndRestoreEnabled:c,isTrashed:O,isFavorited:!!(null==_?void 0:_.favorited),isRemoveFromChannelEnabled:w,onDuplicate:()=>j(n),onFavorite:p(new Date,n),onUnfavorite:p(null,n),onTrash:()=>m(n.id),onPermanentDelete:f?()=>f(n):void 0,onRestore:()=>v(n.id),onShareClick:()=>C(n.id),onRename:()=>g(n),onRemoveFromChannel:()=>E(n,r),tags:D,menuEnabled:!0,cardThumbnails:A?x:[],onMouseEnter:G},S)});eG.displayName="DocGridItemWrapper";var eM=t(56581),eH=t(44035);let eU=e=>{var i;let{sortBy:t,sortDirection:n,setSortBy:r,setSortDirection:s,size:a="sm",dateDisplayOption:o,setDateDisplayOption:d,options:c,showSortOrderToggle:u}=e;return(0,l.jsxs)(v.h,{variant:"ghost",colorScheme:"blackAlpha",size:a,ml:-3,children:[(0,l.jsxs)($.v,{closeOnSelect:!1,children:[(0,l.jsx)(ee.j,{as:C.z,variant:"ghost",size:a,rightIcon:(0,l.jsx)(L.G,{icon:O.ptq,"aria-label":"Open menu"}),fontWeight:"600",color:"gray.500",children:(null===(i=c.find(e=>e.key===o))||void 0===i?void 0:i.label)||"Date"}),(0,l.jsx)(et.h,{children:(0,l.jsx)(en.q,{minWidth:"240px",children:(0,l.jsx)(eH._,{fontSize:"sm",defaultValue:"alpha",title:Y.ag._({id:"IEY4J0"}),type:"radio",children:c.map(e=>{let i=o===e.key;return(0,l.jsx)(er.s,{icon:i?(0,l.jsx)(eM.n,{}):(0,l.jsx)(E.xu,{w:3}),value:e.key,onClick:()=>{d(e.key),r(e.key),s(B.SrV.Desc)},children:e.label},e.key)})})})})]}),u&&(0,l.jsx)(em.kH,{label:(0,l.jsx)(_.cC,{id:"TZml21"}),children:(0,l.jsx)(ei.h,{color:"title"!==t?"gray.700":"gray.300","aria-label":"sort",onClick:()=>{t!==B.IX5.Title?s(n===B.SrV.Asc?B.SrV.Desc:B.SrV.Asc):s(B.SrV.Desc),r(o)},icon:(0,l.jsx)(L.G,{icon:O.RXu})})})]})};var ez=t(14093),eW=t(78534),eV=t(5832),eY=t(66983),eX=t(54933),eq=t(76644),eZ=t(20678),eQ=t(89099),eJ=t(73871),e$=t(31807);let e0=e=>{var i,t;let{doc:n,dateDisplayOption:l}=e,r=null==n?void 0:n.updatedTime;l===B.IX5.LastViewed&&(r=null==n?void 0:null===(i=n.docUser)||void 0===i?void 0:i.lastViewed),l===B.IX5.Favorited&&(r=null==n?void 0:null===(t=n.docUser)||void 0===t?void 0:t.favorited),l===B.IX5.CreatedTime&&(r=null==n?void 0:n.createdTime);try{return"".concat((0,eJ.Z)(new Date,(0,e$.Z)(r))," ago")}catch(e){return"--"}},e1=e=>{var i,t,n;let{doc:r,dateDisplayOption:s}=e,a=(0,eb.Gn)({docId:r.id}),o=e0({doc:r,dateDisplayOption:s}),{site:d}=r||{};return(0,l.jsxs)(eI.Tr,{_hover:{bg:"blackAlpha.50"},role:"group","data-doc-list-item-id":r.id,children:[(0,l.jsx)(eA.Td,{}),(0,l.jsx)(eA.Td,{minW:"280px",children:(0,l.jsxs)(u.U,{children:[(0,l.jsx)(q(),{href:a,passHref:!0,legacyBehavior:!0,children:(0,l.jsx)(g.r,{_hover:{color:"var(--chakra-colors-trueblue-500) !important"},children:(null==d?void 0:d.name)||r.title})}),(0,l.jsx)(h.C,{size:"xs",colorScheme:"blackAlpha",bg:"gray.100",color:"gray.600",textTransform:"none",children:(0,l.jsxs)(u.U,{spacing:1,children:[(0,l.jsx)(L.G,{fixedWidth:!0,icon:O.Xj}),(0,l.jsx)(f.x,{children:(0,l.jsx)(_.cC,{id:"ebQKK7"})})]})}),(null==d?void 0:d.routes)&&(null==d?void 0:null===(i=d.routes)||void 0===i?void 0:i.length)>1&&(0,l.jsx)(h.C,{colorScheme:"blackAlpha",bg:"gray.100",color:"gray.600",children:(0,l.jsxs)(u.U,{spacing:1,children:[(0,l.jsx)(L.G,{fixedWidth:!0,icon:O.s2}),(0,l.jsx)(f.x,{children:null==d?void 0:d.routes.length})]})})]})}),(0,l.jsx)(eA.Td,{zIndex:2,_groupHover:{opacity:1}}),(0,l.jsx)(eA.Td,{color:"gray.600",pr:-2,children:(0,l.jsx)(f.x,{children:o})}),(0,l.jsx)(eA.Td,{alignContent:"center",pr:-2,children:(0,l.jsxs)(u.U,{children:[(0,l.jsx)(eD.q,{shadow:"md",borderWidth:"1px",size:"xs",src:null==r?void 0:null===(t=r.createdBy)||void 0===t?void 0:t.profileImageUrl}),(0,l.jsx)(f.x,{children:null==r?void 0:null===(n=r.createdBy)||void 0===n?void 0:n.displayName})]})}),(0,l.jsx)(eA.Td,{isNumeric:!0,children:(0,l.jsx)(ev,{site:r.site})})]},r.id)},e2=e=>{var i,t;let{doc:n,dateDisplayOption:l}=e,r=null==n?void 0:n.updatedTime;l===B.IX5.LastViewed&&(r=null==n?void 0:null===(i=n.docUser)||void 0===i?void 0:i.lastViewed),l===B.IX5.Favorited&&(r=null==n?void 0:null===(t=n.docUser)||void 0===t?void 0:t.favorited),l===B.IX5.CreatedTime&&(r=null==n?void 0:n.createdTime);try{return"".concat((0,eJ.Z)(new Date,(0,e$.Z)(r))," ago")}catch(e){return"--"}},e5=e=>{var i,t,n;let{doc:r,handleShareClick:s,dateDisplayOption:a,tags:o,handleFavoriteDoc:d,user:c,menu:x,canManageDoc:h}=e,j=(0,eb.Gn)({docId:r.id}),p=e2({doc:r,dateDisplayOption:a}),[m,v,E]=(0,eK.c)({type:ew.c,item:()=>r,options:{dropEffect:"copy",doc:r},collect:e=>({isDragging:e.isDragging()})},[h,r]);return((0,k.useEffect)(()=>{E(eF())},[E]),r.site)?(0,l.jsx)(e1,{doc:r,dateDisplayOption:a}):(0,l.jsxs)(eI.Tr,{ref:v,_hover:{bg:"blackAlpha.50"},role:"group","data-doc-list-item-id":r.id,children:[(0,l.jsx)(eA.Td,{children:d&&(0,l.jsx)(eB._6,{isFavorited:!!(null==r?void 0:null===(i=r.docUser)||void 0===i?void 0:i.favorited),onFavorite:d(new Date,r),onUnfavorite:d(null,r)})}),(0,l.jsx)(eA.Td,{minW:"280px",children:(0,l.jsx)(q(),{href:j,passHref:!0,legacyBehavior:!0,children:(0,l.jsx)(g.r,{_hover:{color:"var(--chakra-colors-trueblue-500) !important"},children:r.title||""})})}),(0,l.jsx)(eA.Td,{zIndex:2,_groupHover:{opacity:1},children:(0,l.jsxs)(eQ.E,{_groupHover:{opacity:1},children:[(0,l.jsx)(em.MY,{tags:o,NextLink:q(),overflowButtonLabel:Y.ag._({id:"K0UBDD"})}),(0,eN.uG)(r,c)?(0,l.jsxs)(C.z,{size:"xs",variant:"ghost",colorScheme:"blackAlpha",fontWeight:"500",_hover:{color:"gray.800",bg:"blackAlpha.50"},opacity:0,_groupHover:{opacity:1},transitionProperty:"none",onClick:()=>s(r.id),children:[(0,l.jsx)(_.cC,{id:"Z8lGw6"}),"â€¦"]}):null]})}),(0,l.jsx)(eA.Td,{color:"gray.600",pr:-2,children:(0,l.jsx)(f.x,{children:p})}),(0,l.jsx)(eA.Td,{alignContent:"center",pr:-2,children:(0,l.jsxs)(u.U,{children:[(0,l.jsx)(eD.q,{shadow:"md",borderWidth:"1px",size:"xs",src:null==r?void 0:null===(t=r.createdBy)||void 0===t?void 0:t.profileImageUrl}),(0,l.jsx)(f.x,{children:null==r?void 0:null===(n=r.createdBy)||void 0===n?void 0:n.displayName})]})}),(0,l.jsx)(eA.Td,{isNumeric:!0,children:!!x&&x})]},r.id)},e4=(e,i)=>{let t=eg(e),n=t?eq.Kk:eq.en,l=!t||"recent"===e&&i===B.IX5.LastViewed||"favorites"===e&&i===B.IX5.Favorited;return{displayOptions:n,showSortOrderToggle:l,enableTitleSort:!t}},e3=e=>{let{user:i,currentWorkspace:t,userHasNoWorkspaces:n,docs:r,currentChannelId:s,dateDisplayOption:a,sortBy:o,sortDirection:d,setDateDisplayOption:c,setSortBy:u,setSortDirection:x,filterBy:h,handleDuplicateDoc:j,handleFavoriteDoc:p,handleTrash:m,handlePermanentDelete:f,handleRestoreDoc:v,handleShareClick:g,handleRenameClick:S,handleRemoveFromChannel:b}=e,y=(0,R.we)(),{displayOptions:O,showSortOrderToggle:T,enableTitleSort:I}=e4(h,a);return(0,l.jsx)(ez.x,{pt:4,maxW:"100%",children:(0,l.jsxs)(eT.i,{colorScheme:"blackAlpha",size:"sm",whiteSpace:"normal",variant:"simple",children:[(0,l.jsx)(eW.h,{children:(0,l.jsxs)(eI.Tr,{color:"gray.800",children:[(0,l.jsx)(eV.Th,{w:4}),(0,l.jsxs)(eV.Th,{justifyContent:"space-between",minW:"280px",children:[I&&(0,l.jsx)(C.z,{ml:-3,size:"sm",color:"gray.500",variant:"ghost",colorScheme:"blackAlpha","aria-label":"sort",onClick:()=>{u(B.IX5.Title),x(d===B.SrV.Asc?B.SrV.Desc:B.SrV.Asc)},rightIcon:(0,l.jsx)(E.xu,{color:o===B.IX5.Title?"gray.700":"gray.300",children:(0,l.jsx)(L.G,{icon:o===B.IX5.Title?d===B.SrV.Asc?eX.eW2:eX.l1h:eX.CmM})}),children:(0,l.jsx)(_.cC,{id:"MHrjPM"})}),!I&&"Title"]}),(0,l.jsx)(eV.Th,{children:(0,l.jsx)(_.cC,{id:"HSh8u/"})}),(0,l.jsx)(eV.Th,{w:32,pr:-2,children:(0,l.jsx)(eU,{size:"sm",sortBy:o,sortDirection:d,setSortBy:u,setSortDirection:x,options:O,showSortOrderToggle:T,exclude:[B.IX5.Title],dateDisplayOption:a,setDateDisplayOption:c})}),(0,l.jsx)(eV.Th,{w:32,children:(0,l.jsx)(_.cC,{id:"UE2beD"})}),(0,l.jsx)(eV.Th,{})]})}),(0,l.jsx)(eY.p,{children:null==r?void 0:r.map(e=>{var r,o,d;let c=y.can("view",e)&&!n,u=y.can("manage",e)&&!n,x=y.can("edit",e)&&!n,h=(0,eN.nZ)({doc:e,user:i,currentWorkspace:t,channelToExclude:s}),C=!!s;return(0,l.jsx)(e5,{canManageDoc:u,user:i,tags:h,doc:e,dateDisplayOption:a,handleFavoriteDoc:p,handleShareClick:g,menu:(0,l.jsx)(eB.Ot,{href:(0,eb.Gn)({docId:e.id}),title:(0,eZ.$)(e.title),createdByName:(null==e?void 0:null===(r=e.createdBy)||void 0===r?void 0:r.displayName)||"",createdByEmail:(null==e?void 0:null===(o=e.createdBy)||void 0===o?void 0:o.email)||"",createdTime:e.createdTime,isDuplicateEnabled:c,isTrashAndRestoreEnabled:u,isRenameEnabled:x,isRemoveFromChannelEnabled:C,isShareEnabled:x,isTrashed:!!(null==e?void 0:e.archived),isFavorited:null===(d=e.docUser)||void 0===d?void 0:d.favorited,onDuplicate:()=>j(e),onFavorite:p(new Date,e),onUnfavorite:p(null,e),onTrash:()=>m(e.id),onPermanentDelete:f?()=>f(e):void 0,onRestore:()=>v(e.id),onShareClick:()=>g(e.id),onRename:()=>S(e),onRemoveFromChannel:()=>b(e,s)})},e.id)})})]})})};var e6=t(42822),e8=t(51456),e7=t(70065),e9=t(94199);let ie=e=>{let{refetchQueries:i}=e,{user:t}=(0,R.SE)(),n=(0,e7.p)(),[r]=(0,B.LT4)({refetchQueries:i}),[s,{loading:a}]=(0,B.y2l)({refetchQueries:i}),[o]=(0,B.iX9)({refetchQueries:i}),[d]=(0,B.$4k)({refetchQueries:i}),c=(0,k.useCallback)((e,i)=>()=>{if(!t||!i)return;let n={input:{docId:i.id,userId:null==t?void 0:t.id,favorited:e}};d({variables:n,update:(e,t)=>{let{data:n}=t;e.writeFragment({id:"Doc:".concat(i.id),fragment:B.VRt,data:{docUser:null==n?void 0:n.updateDocUser}})},optimisticResponse:{updateDocUser:{...i.docUser,favorited:n.input.favorited,__typename:"DocUser"}}})},[d,t]),u=(0,k.useCallback)(e=>{let i={id:e};o({variables:i,optimisticResponse:{unarchiveDoc:{...i,archived:!1,__typename:"Doc"}}}).then(()=>{n({title:(0,l.jsx)(_.cC,{id:"nRyNMz"}),status:"success",duration:1e4,position:"top"})})},[o,n]),x=(0,k.useCallback)(e=>{let i={id:e};r({variables:i,optimisticResponse:{archiveDoc:{...i,archived:!0,__typename:"Doc"}}}).then(()=>{n({title:(0,l.jsxs)(f.x,{children:[(0,l.jsx)(_.cC,{id:"i3Wq9L",values:{GAMMA_ARTIFACT_PROPER_NOUN:e9.Yc}})," ",(0,l.jsx)(g.r,{textDecoration:"underline",onClick:()=>u(e),children:(0,l.jsx)(_.cC,{id:"9uI/rE"})})]}),status:"success",duration:3e3,position:"top",isClosable:!0})})},[r,u,n]),h=(0,k.useCallback)(e=>s({variables:{id:e},update:i=>{i.evict({id:i.identify({__typename:"Doc",id:e})}),i.gc()},optimisticResponse:{deleteDoc:e}}).then(()=>{n({title:(0,l.jsx)(_.cC,{id:"sOg7tZ",values:{GAMMA_ARTIFACT_PROPER_NOUN:e9.Yc}}),position:"top",status:"success",duration:3e3})}).catch(()=>{n({title:(0,l.jsx)(_.cC,{id:"SlfejT"}),description:(0,l.jsx)(_.cC,{id:"fWsBTs"}),status:"error",duration:3e3,position:"top",isClosable:!0})}),[s,n]);return{favoriteDoc:c,restoreDoc:u,trashDoc:x,permanentlyDeleteDoc:h,isPermanentlyDeletingDoc:a}},ii=e=>{let{onClose:i,doc:t}=e,{permanentlyDeleteDoc:n,isPermanentlyDeletingDoc:r}=ie({refetchQueries:["GetDocs","GetChannelDocActivity"]}),s=(0,k.useCallback)(()=>{n&&n(t.id).then(i)},[t.id,i,n]);return(0,l.jsxs)(es.u_,{onClose:i,isOpen:!0,children:[(0,l.jsx)(ea.Z,{}),(0,l.jsxs)(eo.h,{children:[(0,l.jsx)(ed.x,{children:(0,l.jsx)(_.cC,{id:"u85NBF"})}),(0,l.jsx)(ec.o,{isDisabled:r}),(0,l.jsx)(eu.f,{children:(0,l.jsxs)(x.K,{spacing:4,children:[(0,l.jsx)(f.x,{children:(0,l.jsx)(_.cC,{id:"dLUUOA",values:{0:t.title}})}),(0,l.jsx)(f.x,{color:"red.500",children:(0,l.jsx)(_.cC,{id:"2xOCJW"})})]})}),(0,l.jsx)(ep.m,{children:(0,l.jsxs)(v.h,{children:[(0,l.jsx)(C.z,{variant:"ghost",onClick:i,children:(0,l.jsx)(_.cC,{id:"dEgA5A"})}),(0,l.jsx)(C.z,{variant:"ghost",colorScheme:"red",onClick:s,isLoading:r,children:(0,l.jsx)(_.cC,{id:"0Lbaux"})})]})})]})]})};var it=t(34613),il=t(60740),ir=t(8174),is=t(12136),ia=t(64368),io=t(81202),id=t(89654),ic=t(91994);let iu=e=>{let{enabled:i,variables:t}=e,{data:n}=(0,B.HHH)({variables:t,skip:!i,fetchPolicy:"cache-only",nextFetchPolicy:"cache-only"}),l=(0,ic.CG)(id.R9),r=(0,k.useMemo)(()=>{let e=(null==n?void 0:n.docs.edges.map(e=>e.node))||[];return e.filter(e=>l.includes(e.id))},[n,l]);return{docs:r,loading:!1,pageInfo:{hasNextPage:!1,hasPreviousPage:!1,startCursor:null,endCursor:null},fetchMore:async()=>{},showPaginationControls:!1,activeDocs:void 0}},ix=e=>{var i,t;let{activeTab:n,currentChannelId:l,channelPreview:r,filterBy:s,sortBy:a,sortDirection:o,user:d,currentWorkspace:c}=e,{isConnected:u}=(0,B.$gs)(),x=(0,ic.CG)(id.aL),h=(0,N.ye)("channelActivity"),j={filter:{},ready:!0};l?j={filter:{channelId:l,...eE(d)[s].filter},ready:!0}:n===M.oc.ALL||n===M.oc.SHARED_WITH_YOU||n===M.oc.SITES?j=eE(d)[s]:n===M.oc.TRASH&&(j={filter:{archived:!0},ready:!0});let p={workspaceId:null==c?void 0:c.id,first:50,archived:!1,...j.filter,sortBy:{field:n===M.oc.TRASH?eq.j7.includes(a)?B.IX5.EditedTime:a:"recent"===s?B.IX5.LastViewed:"favorites"===s?B.IX5.Favorited:a,direction:o}},m=iu({enabled:x,variables:p}),f=!!(null==r?void 0:r.id),v=l||(null==r?void 0:r.id),{data:C,networkStatus:g,fetchMore:E}=(0,B.HHH)({variables:p,skip:!d||!j.ready||f||n===M.oc.SHARED_WITH_YOU,fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0}),S=(0,io.HP)();(0,k.useEffect)(()=>{let e=(null==C?void 0:C.docs.edges.map(e=>e.node))||[];S(e.map(e=>e.id),new Date().toISOString())},[C,S]);let{data:b}=(0,B.sCo)({variables:{first:50,channelId:null==r?void 0:r.id},skip:!f}),{data:y,networkStatus:O,fetchMore:L}=(0,B.W4w)({variables:p,skip:n!==M.oc.SHARED_WITH_YOU,fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0}),_=!h||!v,{data:T,subscribeToMore:I}=(0,B.nJh)({variables:{first:50,channelId:v},skip:_,fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"});(0,k.useEffect)(()=>{if(I&&!_)return I({document:B.EMb,variables:{channelId:v},updateQuery:(e,i)=>{let{subscriptionData:t}=i;if(!t.data||!t.data.channelDocActivity)return e;let n=t.data.channelDocActivity,l=n.slice(0,50).map(e=>({node:e}));return{channelDocActivity:{edges:l,pageInfo:e.channelDocActivity.pageInfo,__typename:"DocActivityConnection"}}}})},[v,I,_]);let A=f?null==b?void 0:b.previewChannelDocs:n===M.oc.SHARED_WITH_YOU?null==y?void 0:y.sharedDocs:null==C?void 0:C.docs,D=(null==T?void 0:null===(i=T.channelDocActivity)||void 0===i?void 0:i.edges)&&(null==T?void 0:null===(t=T.channelDocActivity)||void 0===t?void 0:t.edges.map(e=>e.node).filter(e=>e.editors&&e.editors.length>0||e.presenters&&e.presenters.length>0))||void 0,w=null==A?void 0:A.edges.map(e=>e.node).filter(e=>{var i;return!l||(null==e?void 0:null===(i=e.channels)||void 0===i?void 0:i.find(e=>e.id===l))}),R=null==C?void 0:C.docs.pageInfo,P=null==R?void 0:R.endCursor,K=E||L,F=(0,k.useCallback)(()=>K({variables:{after:P}}),[K,P]),G=[ia.I.loading,ia.I.setVariables].includes(g)||[ia.I.loading,ia.I.setVariables].includes(O),H=!G&&(null==R?void 0:R.hasNextPage)&&(null==R?void 0:R.endCursor);return x&&!u?m:{docs:w,loading:G,pageInfo:R,fetchMore:F,showPaginationControls:H,activeDocs:D}};var ih=t(89458),ij=t(88640);let ip=e=>{let{currentChannelId:i,activeTab:t}=e,[n,l]=(0,ih.I)(ij.H.viewPreferences,"grid"),[r,s]=(0,k.useState)(B.IX5.EditedTime),[a,o]=(0,k.useState)(B.SrV.Desc),[d,c]=(0,k.useState)(()=>i?"all":"recent"),[u,x]=(0,k.useState)(eq.LS);return(0,k.useEffect)(()=>{t===M.oc.ALL?c("recent"):c("all")},[i,t,c]),(0,k.useEffect)(()=>{"createdByYou"===d?(x(B.IX5.CreatedTime),s(B.IX5.CreatedTime)):"recent"===d?x(B.IX5.LastViewed):"favorites"===d?x(B.IX5.Favorited):(s(B.IX5.EditedTime),x(B.IX5.EditedTime))},[d,s,x]),{viewPreference:n,setViewPreference:l,sortBy:r,setSortBy:s,sortDirection:a,filterBy:d,setFilterBy:c,setSortDirection:o,dateDisplayOption:u,setDateDisplayOption:x}};var im=t(82108),iv=t.n(im),iC=t(38421),ig=t.n(iC);let iE=e=>{let{shared:i}=e;return(0,l.jsx)(e6.M,{minH:"sm",children:(0,l.jsxs)(p.k,{direction:"column",justify:"center",align:"center",children:[(0,l.jsx)(E.xu,{w:"80%",maxW:"250px",mb:6,alignContent:"center",children:(0,l.jsx)(ig(),{src:"/images/Sal-Fishing-2x.png",width:"640",height:"361",alt:"Sal, the Gamma mascot, fishing extraterrestrially"})}),(0,l.jsx)(j.X,{size:"md",mb:2,textAlign:"center",children:(0,l.jsx)(_.cC,{id:"ZxwTXP",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:e9.aq}})}),(0,l.jsx)(f.x,{fontSize:"lg",color:"gray.400",textAlign:"center",children:i?(0,l.jsx)(_.cC,{id:"d+UedU",values:{0:iv()(e9.aq)}}):(0,l.jsx)(_.cC,{id:"y1jRzK",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:e9.aq},components:{0:(0,l.jsx)(g.r,{as:q(),color:"trueblue.500",href:"/#".concat(eq.pX)})}})})]})})};var iS=t(3065);let ib=[,,].fill(1),iy=[,,,,].fill(1),iO=e=>{let{viewPreference:i="grid"}=e;return"grid"===i?(0,l.jsx)(E.xu,{width:"100%","data-testid":"docs-view-skeleton",children:(0,l.jsx)(S.r,{templateColumns:{base:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)",xl:"repeat(4, 1fr)","2xl":"repeat(5, 1fr)"},gap:6,children:ib.map((e,i)=>(0,l.jsx)(b.P,{bg:"linen.50",borderRadius:"5px",height:"240px",as:y.O},i))})}):(0,l.jsx)(E.xu,{width:"100%","data-testid":"docs-view-skeleton",children:(0,l.jsx)(ez.x,{pt:4,maxW:"100%",children:(0,l.jsx)(eT.i,{colorScheme:"blackAlpha",size:"sm",whiteSpace:"normal",variant:"simple",children:(0,l.jsx)(eY.p,{children:iy.map((e,i)=>(0,l.jsx)(eI.Tr,{children:(0,l.jsx)(eA.Td,{as:y.O,height:"36px",mb:2})},i))})})})})};var iL=t(39237),i_=t(96933);let iT={all:{label:(0,l.jsx)(_.cC,{id:"N40H+G"}),ariaLabel:Y.ag._({id:"N40H+G"}),icon:O.s2},recent:{label:(0,l.jsx)(_.cC,{id:"AOvC3b"}),ariaLabel:Y.ag._({id:"AOvC3b"}),icon:O.SZw},private:{label:(0,l.jsx)(_.cC,{id:"zwBp5t"}),ariaLabel:Y.ag._({id:"zwBp5t"}),icon:O.byT},createdByYou:{label:(0,l.jsx)(_.cC,{id:"WZTg05"}),ariaLabel:Y.ag._({id:"WZTg05"}),icon:O.m08},favorites:{label:(0,l.jsx)(_.cC,{id:"X9kySA"}),ariaLabel:Y.ag._({id:"X9kySA"}),icon:O.Tab}},iI=["all","recent","createdByYou","favorites"].map(e=>({key:e,...iT[e]})),iA=["all","recent","createdByYou","favorites"].map(e=>({key:e,...iT[e]})),iD=["all","recent","favorites"].map(e=>({key:e,...iT[e]})),ik=e=>{var i;let{activeTab:t,currentChannelId:n,filterBy:r,setFilterBy:s}=e,a=(0,i_.i)({base:!0,xl:!1}),o=n?iA:t===M.f8.SHARED_WITH_YOU?iD:iI,d=null==iT?void 0:null===(i=iT[r])||void 0===i?void 0:i.label;return(0,l.jsx)(eQ.E,{id:"filter-by-dropdown",zIndex:"3",width:["100%","auto"],mt:[4,0],children:a?(0,l.jsxs)($.v,{closeOnSelect:!0,children:[(0,l.jsx)(ee.j,{as:C.z,variant:"ghost",size:"sm",rightIcon:(0,l.jsx)(L.G,{icon:O.ptq}),fontWeight:"600",color:"gray.700",leftIcon:(0,l.jsx)(L.G,{icon:O.G_j}),children:d}),(0,l.jsx)(en.q,{minWidth:"240px",children:(0,l.jsx)(eH._,{defaultValue:r,title:Y.ag._({id:"MwX53Z"}),type:"radio",onChange:s,value:r,children:o.map(e=>(0,l.jsx)(iL.i,{value:e.key,children:e.label},e.key))})})]}):o.map(e=>{let i=e.key===r;return(0,l.jsx)(eQ.U,{children:(0,l.jsx)(C.z,{fontWeight:"600",color:i?"trueblue.500":"gray.600",bg:i?"trueblue.50":"transparent",size:"sm",leftIcon:(0,l.jsx)(L.G,{icon:e.icon,"aria-label":e.ariaLabel}),variant:"ghost",onClick:()=>s(e.key),children:e.label})},e.key)})})},iB=e=>{var i;let{filterBy:t,sortBy:n,sortDirection:r,setSortBy:s,setSortDirection:a,size:o="sm"}=e,d=eg(t),c=d?eq.Kk:eq.en.concat({key:B.IX5.Title,label:Y.ag._({id:"MHrjPM"})});return(0,l.jsxs)(v.h,{variant:"ghost",size:o,zIndex:"2",children:[!(0,H.s2)()&&!d&&(0,l.jsxs)($.v,{closeOnSelect:!0,children:[(0,l.jsx)(ee.j,{as:C.z,variant:"ghost",size:o,rightIcon:(0,l.jsx)(L.G,{icon:O.ptq,"aria-label":"Open menu"}),fontWeight:"600",color:"gray.700",children:(null==c?void 0:null===(i=c.find(e=>e.key===n))||void 0===i?void 0:i.label)||(0,l.jsx)(_.cC,{id:"acZeX2"})}),(0,l.jsx)(et.h,{children:(0,l.jsx)(en.q,{minWidth:"240px",zIndex:"overlay",children:(0,l.jsx)(eH._,{defaultValue:"alpha",title:Y.ag._({id:"/HgF9q"}),type:"radio",children:c.map(e=>{let i=n===e.key;return(0,l.jsx)(er.s,{icon:i?(0,l.jsx)(eM.n,{}):(0,l.jsx)(E.xu,{w:3}),value:e.key,onClick:()=>s(e.key),children:e.label},e.key)})})})})]}),(d||c.find(e=>e.key===n))&&(0,l.jsx)(em.kH,{label:(0,l.jsx)(_.cC,{id:"TZml21"}),children:(0,l.jsx)(ei.h,{color:"gray.700","aria-label":"sort",onClick:()=>a(r===B.SrV.Asc?B.SrV.Desc:B.SrV.Asc),icon:(0,l.jsx)(L.G,{icon:O.RXu})})})]})},iN=e=>{let{activeTab:i,currentChannelId:t,filterBy:n,sortBy:r,sortDirection:s,viewPreference:a,setFilterBy:o,setSortBy:d,setSortDirection:c,setViewPreference:h,shouldShowCategoryFilters:j,shouldShowSortOptions:p,shouldShowViewToggle:m}=e;return j||p||m?(0,l.jsxs)(x.K,{direction:"row",alignItems:"center",children:[j&&(0,l.jsx)(ik,{activeTab:i,filterBy:n,setFilterBy:o,currentChannelId:t}),(0,l.jsx)(V.L,{}),(0,l.jsxs)(u.U,{alignItems:"center",children:[p&&(0,l.jsx)(iB,{filterBy:n,sortBy:r,sortDirection:s,setSortBy:d,setSortDirection:c}),m&&(0,l.jsx)(iw,{viewPreference:a,setViewPreference:h})]})]}):(0,l.jsx)(l.Fragment,{})},iw=e=>{let{viewPreference:i,setViewPreference:t}=e,n="list"===i;return(0,l.jsxs)(u.U,{spacing:0,bg:"gray.200",p:.5,borderRadius:"md",children:[(0,l.jsx)(C.z,{size:"sm","data-testid":"view-toggle-grid",variant:n?"ghost":"plain",color:n?"gray.600":"trueblue.500",onClick:()=>t("grid"),children:(0,l.jsxs)(u.U,{children:[(0,l.jsx)(L.G,{icon:O.emM}),(0,l.jsx)(f.x,{display:["none","none","none","none","block"],children:(0,l.jsx)(_.cC,{id:"CXDHcv"})})]})}),(0,l.jsx)(C.z,{size:"sm","data-testid":"view-toggle-list",variant:n?"plain":"ghost",color:n?"trueblue.500":"gray.600",onClick:()=>t("list"),children:(0,l.jsxs)(u.U,{children:[(0,l.jsx)(L.G,{icon:O.xiG}),(0,l.jsx)(f.x,{display:["none","none","none","none","block"],children:(0,l.jsx)(_.cC,{id:"2BBAbc"})})]})})]})};var iR=t(40312),iP=t(49165),iK=t(31702),iF=t(69024),iG=t(74008),iM=t(82863),iH=t(14274),iU=t(92329),iz=t(80253);let iW=e=>{let i=(0,N.ye)("docImport"),t=(0,N.ye)("pptImport");return i||t?(0,l.jsx)(iM.rg,{clientId:iH.v.GOOGLE_DRIVE_IMPORT_CLIENT_ID,children:(0,l.jsx)(iV,{...e})}):null},iV=e=>{let{handleImport:i,isDisabled:t,buttonProps:n,helpTip:r}=e,{isOpen:s,onOpen:a,onClose:o}=(0,c.q)({id:"import-plain-modal"}),{push:d}=(0,A.useRouter)(),j=(0,N.ye)("themeImportAi");return(0,l.jsxs)($.v,{children:[(0,l.jsx)(ee.j,{as:C.z,onFocus:e=>e.preventDefault(),"data-testid":"import-doc-button",isDisabled:t,leftIcon:(0,l.jsx)(L.G,{icon:O.Vmj}),rightIcon:(0,l.jsx)(L.G,{icon:O.gc2}),sx:{span:{flexGrow:0}},...n,children:(0,l.jsx)(_.cC,{id:"l3s5ri"})}),(0,l.jsx)(et.h,{children:(0,l.jsxs)(en.q,{maxW:"350px",zIndex:"tooltip",children:[(0,l.jsxs)(iF.k,{title:Y.ag._({id:"4b3oEV"}),children:[(0,l.jsx)(er.s,{icon:(0,l.jsx)(L.G,{icon:eX.JyM,fixedWidth:!0}),onClick:()=>{d("/create/import?ref=home")},children:(0,l.jsxs)(u.U,{align:"flex-start",children:[(0,l.jsxs)(x.K,{spacing:0,children:[(0,l.jsx)(f.x,{children:(0,l.jsx)(_.cC,{id:"QIFgHt"})}),(0,l.jsx)(f.x,{fontSize:"xs",color:"gray.500",children:(0,l.jsx)(_.cC,{id:"viFd4B"})})]}),(0,l.jsx)(V.L,{}),(0,l.jsx)(h.C,{h:"fit-content",colorScheme:"trueblue",ml:2,children:(0,l.jsx)(_.cC,{id:"jsQZMk"})})]})}),(0,l.jsx)(er.s,{icon:(0,l.jsx)(L.G,{icon:O.Vmj,fixedWidth:!0}),onClick:a,children:(0,l.jsxs)(x.K,{spacing:0,children:[(0,l.jsx)(f.x,{children:(0,l.jsx)(_.cC,{id:"yCc/Nz"})}),(0,l.jsx)(f.x,{fontSize:"xs",color:"gray.500",children:(0,l.jsx)(_.cC,{id:"G3+qfy"})})]})})]}),j&&(0,l.jsx)(iF.k,{title:Y.ag._({id:"f8fH8W"}),children:(0,l.jsx)(er.s,{icon:(0,l.jsx)(L.G,{icon:O.q2v,fixedWidth:!0}),onClick:async()=>{await d("#themes"),setTimeout(()=>{(0,iz.xw)()},200)},children:(0,l.jsxs)(u.U,{align:"flex-start",children:[(0,l.jsxs)(x.K,{spacing:0,children:[(0,l.jsx)(f.x,{children:(0,l.jsx)(_.cC,{id:"NYdkQ8"})}),(0,l.jsx)(f.x,{fontSize:"xs",color:"gray.500",children:(0,l.jsx)(_.cC,{id:"uejFEJ"})})]}),(0,l.jsx)(V.L,{}),(0,l.jsx)(h.C,{h:"fit-content",colorScheme:"trueblue",ml:2,children:(0,l.jsx)(_.cC,{id:"jsQZMk"})})]})})})]})}),(0,l.jsxs)(es.u_,{isOpen:s,onClose:o,size:"4xl",children:[(0,l.jsx)(ea.Z,{}),(0,l.jsxs)(eo.h,{bg:"gray.50",children:[(0,l.jsx)(ed.x,{children:(0,l.jsxs)(u.U,{spacing:3,children:[(0,l.jsx)(L.G,{icon:O.Vmj}),(0,l.jsx)(f.x,{children:(0,l.jsx)(_.cC,{id:"F6aY4g"})})]})}),(0,l.jsx)(iG.i,{}),(0,l.jsx)(ec.o,{}),(0,l.jsx)(eu.f,{py:4,px:{base:4,md:6},children:(0,l.jsx)(x.K,{spacing:4,align:"center",justify:"center",children:(0,l.jsx)(iU.v,{onImportComplete:i})})}),(0,l.jsx)(ep.m,{children:(0,l.jsx)(C.z,{variant:"ghost",onClick:o,children:(0,l.jsx)(_.cC,{id:"dEgA5A"})})})]})]})]})};var iY=t(37243),iX=t(38660),iq=t(3402),iZ=t(31709);let iQ=(e,i)=>{var t;let n;let l=(0,iX.e)(),r=(0,iY.J1)(l),{slice:s}=(0,iq.T)(e,r,i,!1),a=(null===(t=s.toJSON())||void 0===t?void 0:t.content)||[];if(a.every(e=>"card"===e.type))n=(0,iZ.vL)(void 0,a);else{let e=a.filter(e=>r.nodes[e.type].isBlock)||[];n=(0,iZ.vL)(void 0,[{type:"card",content:e}])}return console.debug("Parsing imported doc",{doc:n,slice:s,splitContent:a,html:e}),n},iJ=e=>{let{isDisabled:i}=e,{push:t}=(0,A.useRouter)(),n=(0,k.useCallback)(()=>t("/create"),[t]);return(0,l.jsx)(C.z,{"data-testid":"create-from-ai-button",isDisabled:i,variant:"solid",onClick:n,leftIcon:(0,l.jsx)(L.G,{icon:O.r8p}),rightIcon:(0,l.jsx)(h.C,{colorScheme:"trueblue",textShadow:"none",children:"AI"}),children:(0,l.jsx)(_.cC,{id:"BOqY23"})})};var i$=t(62207);let i0={GoogleDocs:"import_google_doc",GoogleSlides:"import_google_slides",DocxUpload:"import_docx",PptxUpload:"import_pptx",WebpageUrl:"import_webpage",PdfUpload:"import_pdf"},i1=e=>{let{currentWorkspace:i,description:t,ariaLabel:n,displayName:r,icon:s,showCreateButton:a,channel:o,isChannelPreview:d}=e,{isOpen:h,onClose:m}=(0,c.q)({id:"template-browser-modal"}),{isOpen:v,onOpen:g,onClose:S}=(0,c.q)({id:"ai-credits-modal"}),b=(0,N.ye)("aiWizard"),y=(0,G.z$)(),{credits:T}=(0,K.qO)(),[I,{data:A,loading:D}]=(0,iP.c)(),B=D||!!((null==A?void 0:A.createDoc)||!i),w=(0,iR.Lm)(),R=(0,k.useCallback)(async e=>{let{html:i,xhtmlUrl:t,filename:n,source:l,src:r,latency:s}=e;if(!i)return;let a="GoogleDocs"===l||"DocxUpload"===l||"PdfUpload"===l,d=N.VH.get("pptImportV2"),c="PptxUpload"===l||"GoogleSlides"===l,u=iQ(i,{splitOnHeadings:a,splitOnDividers:!0,nested:a});if(c&&d&&t)try{let i=await w(e);i&&(0,iR.yR)(u,i)}catch(e){console.error("[caught] Error parsing PPT XHTML: ".concat(e))}null==y||y.track(G.AA.DOC_IMPORTED,{source:l,src:r,with_ai:!1,latency:s}),I({document:u,channelId:null==o?void 0:o.id,title:n,source:i0[l]})},[y,I,null==o?void 0:o.id,w]),F=(0,k.useCallback)(()=>{I({channelId:null==o?void 0:o.id,source:"blank"})},[null==o?void 0:o.id,I]);return(0,l.jsxs)(p.k,{flex:"1",mb:(0,H.s2)()?0:4,direction:"column",children:[(0,l.jsxs)(E.xu,{w:["100%","auto"],children:[(0,l.jsxs)(u.U,{h:"1.5em",children:[(0,l.jsxs)(j.X,{fontSize:"lg",fontWeight:"600","data-testid":"docs-view-header",children:[s&&(0,l.jsx)(L.G,{icon:s,"aria-label":n()})," ",(0,l.jsx)(f.x,{as:"span",ml:2,children:r})]}),(0,l.jsx)(V.L,{}),!d&&o&&(0,l.jsx)(i$.k,{channel:o,workspaceId:null==i?void 0:i.id})]}),t&&(0,l.jsx)(f.x,{color:"gray.600",fontSize:"sm",children:t}),o&&(0,l.jsxs)(x.K,{direction:"row",alignItems:"center",mt:4,children:[(0,l.jsx)(em.NL,{overflowTooltipLabel:"See everyone",size:"xs",avatars:(null==o?void 0:o.members)||[],max:6}),(0,l.jsx)(f.x,{fontSize:"sm",color:"gray.400",ml:2,children:(0,l.jsx)(_.cC,{id:"pkIIls",values:{0:o.memberCount||0}})})]})]}),a&&(0,l.jsxs)(x.K,{direction:{base:"column",lg:"row"},spacing:2,mt:4,children:[b&&(0,l.jsx)(iJ,{isDisabled:B}),!(0,H.s2)()&&(0,l.jsx)(em.kH,{label:"gamma.new",placement:"top",openDelay:250,children:(0,l.jsx)(C.z,{"data-testid":"create-doc-button",isDisabled:B,variant:"plain",onClick:F,leftIcon:(0,l.jsx)(L.G,{icon:O.r8p}),children:(0,l.jsx)(_.cC,{id:"exOjhh"})})}),a&&!(0,H.s2)()&&(0,l.jsx)(iW,{handleImport:R,isDisabled:B})]}),(0,l.jsx)(P.H,{credits:T,isOpen:v,onClose:S,onOpen:g}),(0,l.jsx)(iK.UB,{isOpen:h,onClose:m,forceChannelId:null==o?void 0:o.id})]})};var i2=t(99368);let i5=()=>{let[e,i]=(0,k.useState)(null),[t,{data:n}]=(0,B.t1J)({variables:{docId:e,maxDepth:1,archived:!1},returnPartialData:!0,fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"});(0,k.useEffect)(()=>{!e||(0,H.s2)()||t({variables:{docId:e,maxDepth:1}})},[e,t]);let l=(0,k.useMemo)(()=>[],[]),r=(0,k.useMemo)(()=>{var i,t;let r=(null==n?void 0:n.docCards)!==void 0&&(null==n?void 0:null===(i=n.docCards[0])||void 0===i?void 0:i.docId)===e?null==n?void 0:null===(t=n.docCards)||void 0===t?void 0:t.filter(e=>!!e.previewUrl):l;return function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e.length<=i)return e;let t=Math.floor(e.length/i),n=[];for(let l=0;l<e.length&&(n.push(e[l]),n.length!==i);l+=t);return n}(r)},[null==n?void 0:n.docCards,e,l]),s=(0,k.useCallback)(e=>{i(e)},[]),a=(0,k.useCallback)(i=>e===i?r:l,[r,e,l]);return{fetchThumbnails:s,getThumbnails:a}},i4=e=>{let{editors:i,user:t}=e,n=(0,i2.Yc)(i,null==t?void 0:t.id);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(em.NL,{size:"xs",overflowTooltipLabel:Y.ag._({id:"25VyZX"}),shouldAnimate:!1,max:3,avatars:n.map(e=>{let{displayName:i,profileImageUrl:t,id:n}=e;return{name:i||"",id:n,profileImageUrl:t,color:"white"}})}),(0,l.jsx)(x.K,{spacing:0,children:(0,l.jsx)(f.x,{fontSize:"xs",color:"gray.500",children:(0,l.jsx)(_.cC,{id:"27Yldc",values:{0:n.length}})})})]})},i3=e=>{let{presenters:i,user:t}=e,n=(0,i2.Yc)(i,null==t?void 0:t.id);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(em.NL,{overflowTooltipLabel:Y.ag._({id:"25VyZX"}),shouldAnimate:!1,size:"xs",max:3,avatars:n.map(e=>{let{displayName:i,profileImageUrl:t,id:n}=e;return{name:i||"",id:n,profileImageUrl:t,color:"white"}})}),(0,l.jsx)(x.K,{spacing:0,children:(0,l.jsx)(f.x,{fontSize:"xs",color:"gray.500",children:(0,l.jsx)(_.cC,{id:"u2htxq",values:{0:n.length}})})})]})},i6=e=>{let{activeDocs:i,filterBy:t}=e,{fetchThumbnails:n,getThumbnails:r}=i5(),s=(0,N.ye)("screenshotsEnabled"),{user:a}=(0,R.SE)(),{favoriteDoc:o}=ie({refetchQueries:["GetDocs","GetChannelDocActivity"]});return(0,l.jsxs)(E.xu,{bg:"blackAlpha.100",my:4,pt:2,borderRadius:"md",border:"1px solid #000",borderColor:"blackAlpha.100",children:[(0,l.jsxs)(f.x,{px:6,fontSize:"sm",fontWeight:"600",color:"gray.600",mt:2,children:[(0,l.jsx)(L.G,{icon:O.V1P})," ",(0,l.jsx)(_.cC,{id:"/sL1z7"})]}),(0,l.jsx)(S.r,{templateColumns:{base:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)",xl:"repeat(4, 1fr)","2xl":"repeat(5, 1fr)"},gap:6,p:6,pt:3,children:null==i?void 0:i.map(e=>{var i;let{doc:t,editors:d,presenters:c}=e,{title:x,id:h,titleCard:j,createdTime:p}=t,m={src:s?null==j?void 0:j.previewUrl:Q.Z,fallbackSrc:Q.Z.src},f=c&&c.length>0,v=!f&&d&&d.length>0,C=(0,eb.Gn)({docId:h}),g=(0,l.jsxs)(u.U,{px:2,py:1,bg:"green.100",borderRadius:"md",w:"100%",children:[v&&(0,l.jsx)(i4,{editors:d,user:a}),f&&(0,l.jsx)(i3,{presenters:c,user:a})]}),E=r(t.id);return(0,l.jsx)(eB.F7,{createdTime:p,title:x,NextLink:q(),href:C,id:h,thumbnailImageUrl:m,isFavorited:null===(i=t.docUser)||void 0===i?void 0:i.favorited,onFavorite:o(new Date,t),onUnfavorite:o(null,t),menuEnabled:!1,activity:g,cardThumbnails:s?E:[],onMouseEnter:()=>{s&&n(t.id)}},h)})})]})},i8=(0,k.memo)(e=>{let{activeTab:i,channel:t,isChannelPreview:n,activeDocs:r,sortDirection:s,sortBy:a,filterBy:o,viewPreference:d,setSortBy:c,setSortDirection:u,setViewPreference:x,setFilterBy:h}=e,j=!(0,H.s2)()&&i!==M.f8.TEMPLATES,p=!!(i===M.f8.ALL||i===M.f8.SHARED_WITH_YOU||t),{currentWorkspace:m}=(0,R.SE)(),{displayName:f,description:v,ariaLabel:C,icon:g,showCreateButton:S}=M.A5[i],b=(null==t?void 0:t.name)||f;return(0,l.jsxs)(E.xu,{w:"100%",mb:6,children:[(0,l.jsx)(i1,{displayName:b,ariaLabel:C,description:v,icon:g,showCreateButton:S&&!n,currentWorkspace:m,channel:t,isChannelPreview:n}),r&&r.length>0&&(0,l.jsx)(i6,{activeDocs:r,filterBy:o}),(0,l.jsx)(iN,{activeTab:i,filterBy:o,sortBy:a,sortDirection:s,setViewPreference:x,setFilterBy:h,setSortBy:c,setSortDirection:u,viewPreference:d,shouldShowCategoryFilters:p,currentChannelId:(null==t?void 0:t.id)||null,shouldShowSortOptions:j&&"grid"===d,shouldShowViewToggle:j})]})});i8.displayName="DocsViewTopbar";var i7=t(35183),i9=t(85573),te=t(99793),ti=t(43019);let tt=e=>{let{onClose:i,doc:t}=e,[n,{loading:r}]=(0,B.D1_)(),s=(0,e7.p)(),[a,o]=(0,k.useState)(()=>t.title),[d,c]=(0,k.useState)("Untitled"),[u,x]=(0,k.useState)(null),h=(0,k.useCallback)(e=>{o(e.target.value)},[]),j=(0,k.useRef)(null),{data:m}=(0,B.EDv)({variables:{docId:t.id,snapshotId:t.currentSnapshotId},skip:!(null==t?void 0:t.currentSnapshotId)||!(null==t?void 0:t.id)}),f=!!u;(0,k.useEffect)(()=>{if(!(null==m?void 0:m.snapshot))return;let e=(null==m?void 0:m.snapshot)&&(0,ti.getCardTitle)(m.snapshot.content.default.content[0].content[0])||Y.ag._({id:"wja8aL"});c(e)},[null==m?void 0:m.snapshot]);let g=(0,k.useCallback)(()=>{let e=!!(a&&a.length),r={id:t.id,titleEdited:e,title:e?a:d};n({variables:r}).then(()=>{s({title:(0,l.jsx)(_.cC,{id:"ZYAPMn",values:{GAMMA_ARTIFACT_PROPER_NOUN:e9.Yc,0:a.length>0?a:d}}),position:"top",status:"success",duration:5e3}),x(null),i()}).catch(e=>{console.error(e),x(e.message)})},[t.id,i,a,s,n,d]);return(0,l.jsxs)(es.u_,{closeOnOverlayClick:!1,isOpen:!0,initialFocusRef:j,onClose:i,children:[(0,l.jsx)(ea.Z,{}),(0,l.jsxs)(eo.h,{children:[(0,l.jsx)(ed.x,{children:(0,l.jsx)(_.cC,{id:"2wxgft"})}),(0,l.jsx)(ec.o,{}),(0,l.jsx)(eu.f,{children:(0,l.jsx)(p.k,{mt:4,w:"100%",direction:"column",children:(0,l.jsxs)(i7.NI,{isInvalid:f,children:[(0,l.jsx)(i9.I,{value:a,placeholder:d,ref:j,_placeholder:{opacity:1,color:"gray.300"},onKeyDown:e=>{"Enter"===e.key&&g()},onChange:h}),f&&(0,l.jsx)(te.J1,{children:u})]})})}),(0,l.jsx)(ep.m,{children:(0,l.jsxs)(v.h,{children:[(0,l.jsx)(C.z,{variant:"ghost",onClick:i,children:(0,l.jsx)(_.cC,{id:"dEgA5A"})}),(0,l.jsx)(C.z,{isLoading:r,variant:"solid",onClick:g,children:(0,l.jsx)(_.cC,{id:"2wxgft"})})]})})]})]})},tn=e=>{let{userHasNoWorkspaces:i,isSidebarVisible:t,setIsSidebarVisible:n,currentChannelId:r,activeChannel:s,channelPreview:a,activeTab:o}=e,{user:d,currentWorkspace:u}=(0,R.SE)(),[x,h]=(0,k.useState)(!1),[j,p]=(0,k.useState)(null),[m,f]=(0,k.useState)(null),{isOpen:v,onOpen:g,onClose:S}=(0,c.q)({id:"ConfirmPermanentlyDeleteModal"}),[b,y]=(0,k.useState)(null),[O,{data:L}]=(0,B.WMx)({variables:{id:j},returnPartialData:!0,nextFetchPolicy:"cache-first"}),{favoriteDoc:T,trashDoc:I,restoreDoc:A}=ie({refetchQueries:["GetDocs","GetSharedDocs","GetChannelDocActivity"]}),D=(0,is.e)(),{removeDocChannel:w}=(0,ir.Z)(),P=(0,R.we)(),{isSharePanelOpen:K,onSharePanelOpen:F,onSharePanelClose:G,view:H,setView:U}=(0,il.y)(),{isOpen:z,onOpen:W,onClose:V}=(0,c.q)({id:"RenameDocModalDisclosure"}),Y=(0,N.ye)("permanentlyDeleteDoc"),{viewPreference:X,setViewPreference:q,sortBy:Z,setSortBy:Q,sortDirection:J,filterBy:$,setFilterBy:ee,setSortDirection:ei,dateDisplayOption:et,setDateDisplayOption:en}=ip({currentChannelId:r,activeTab:o}),{docs:el,loading:er,showPaginationControls:es,fetchMore:ea,activeDocs:eo}=ix({filterBy:$,activeTab:o,currentChannelId:r,channelPreview:a,user:d,currentWorkspace:u,sortBy:Z,sortDirection:J});(0,k.useEffect)(()=>{j&&O({variables:{id:j}})},[j,O]);let ed=(0,k.useCallback)(e=>{f(e),g()},[g]),ec=Y?ed:void 0,eu=(0,k.useCallback)(e=>{p(e),F()},[F]),ex=(0,k.useCallback)((e,i)=>{w(e,i)},[w]),eh=(0,k.useCallback)(e=>{D({docId:e.id,source:"dashboard_docs_view_duplicate"})},[D]),ej=(0,k.useCallback)(e=>{y(e),W()},[W]),ep=!er&&el&&(null==el?void 0:el.length)>0,{fetchThumbnails:em,getThumbnails:ef}=i5();return(0,l.jsxs)(E.xu,{width:"100%",children:[!i&&(0,l.jsx)(iS.d,{isSidebarVisible:t,setIsSidebarVisible:n,children:(0,l.jsx)(i8,{activeTab:o,channel:a||s,activeDocs:eo,isChannelPreview:!!a,sortDirection:J,sortBy:Z,filterBy:$,viewPreference:X,setSortBy:Q,setSortDirection:ei,setViewPreference:q,setFilterBy:ee})}),(0,l.jsxs)(E.xu,{width:"100%","data-testid":"docs-view-container",children:[(0,l.jsx)(eP,{user:d,currentWorkspace:u,currentChannelId:r,viewPreference:X}),er&&(0,l.jsx)(iO,{viewPreference:X}),!er&&(null==el?void 0:el.length)===0&&(0,l.jsx)(iE,{shared:o===M.f8.SHARED_WITH_YOU}),"list"===X&&ep&&(0,l.jsx)(e3,{dateDisplayOption:et,setDateDisplayOption:en,user:d,currentWorkspace:u,userHasNoWorkspaces:i,filterBy:$,docs:el,currentChannelId:r,sortBy:Z,sortDirection:J,setSortBy:Q,setSortDirection:ei,handleDuplicateDoc:eh,handleFavoriteDoc:T,handleTrash:I,handlePermanentDelete:ec,handleRestoreDoc:A,handleShareClick:eu,handleRenameClick:ej,handleRemoveFromChannel:ex}),"grid"===X&&ep&&(0,l.jsx)(e8.G,{"data-testid":"docs-view-doc-grid",children:el.map(e=>{var t;let n=P.can("view",e)&&!i,s=P.can("edit",e)&&!i,a=P.can("manage",e)&&!i,o=ef(e.id);return(0,l.jsx)(eG,{user:d,currentWorkspace:u,doc:e,currentChannelId:r,sortBy:Z,filterBy:$,canDuplicate:n,createdByYou:(null==e?void 0:null===(t=e.createdBy)||void 0===t?void 0:t.id)===(null==d?void 0:d.id),handleDuplicateDoc:eh,handleFavoriteDoc:T,handleTrash:I,handlePermanentDelete:ec,handleRenameClick:ej,handleRemoveFromChannel:ex,handleRestoreDoc:A,handleShareClick:eu,fetchThumbnails:em,cardThumbnails:o,canEditDoc:s,canManageDoc:a},e.id)})}),K&&(0,l.jsx)(it.WQ,{doc:null==L?void 0:L.doc,isSharePanelOpen:K,onSharePanelClose:()=>{p(null),G()},onSharePanelOpen:F,view:H,setView:U,showSiteSettings:!1}),z&&(0,l.jsx)(tt,{doc:b,onClose:V}),es&&(0,l.jsx)(e6.M,{p:6,children:(0,l.jsx)(C.z,{isLoading:x,onClick:()=>{h(!0),ea().finally(()=>{h(!1)})},size:"sm",children:(0,l.jsx)(_.cC,{id:"yQ2kGp"})})}),Y&&v&&m&&(0,l.jsx)(ii,{doc:m,onClose:S})]})]})};var tl=t(20437),tr=t(34208);let ts=e=>{let[i]=(0,B.r$k)(),[t]=(0,B.NuY)(),n=(0,k.useCallback)(n=>{let l=n.uploadFontFiles.filter(e=>("existing"===e.status||"created"===e.status)&&e.fontFile.sourceUrl).map(e=>{let{name:i,weight:t,isItalic:n,fileType:l,sourceUrl:r}=e.fontFile,s={name:i,weight:t,isItalic:n,fileType:l,sourceUrl:r};return"existing"===e.status&&e.fontFile.id&&(s.id=e.fontFile.id),s});if("edit"!==n.mode)return i({variables:{input:{name:n.fontName,fontFiles:l,workspaceId:e}},refetchQueries:["GetWorkspaceFonts"]});{let i=[{op:B.bPF.Add,path:"/name",value:n.fontName},{op:B.bPF.Replace,path:"/fontFiles",value:l}];return t({variables:{input:{id:n.fontId,workspaceId:e,data:i}},refetchQueries:["GetWorkspaceFonts"]})}},[i,e,t]);return n},ta=e=>{let i=(0,e7.p)(),[t,{loading:n}]=(0,B.xUs)(),r=(0,k.useCallback)(async(n,r)=>t({variables:{id:n,workspaceId:e},refetchQueries:["GetWorkspaceFonts"]}).then(e=>(i({title:(0,l.jsx)(_.cC,{id:"w+hpl4",values:{name:r}}),status:"success",duration:2e3,isClosable:!0,position:"top"}),e)),[t,e,i]);return{archiveFontFn:r,isArchiving:n}},to=e=>{let{onClose:i,font:t,orgId:n}=e,{archiveFontFn:r,isArchiving:s}=ta(n),a=(0,k.useCallback)(()=>{r(t.id,t.name).then(i).catch(e=>{console.error("[FontDeleteModal] Error deleting font",e)})},[r,t.id,t.name,i]);return(0,l.jsxs)(es.u_,{onClose:i,isOpen:!0,children:[(0,l.jsx)(ea.Z,{}),(0,l.jsxs)(eo.h,{children:[(0,l.jsx)(ed.x,{children:(0,l.jsx)(_.cC,{id:"Tf88pC",values:{0:t.name}})}),(0,l.jsx)(ec.o,{isDisabled:s}),(0,l.jsx)(eu.f,{children:(0,l.jsxs)(x.K,{spacing:4,children:[(0,l.jsx)(f.x,{fontWeight:"bold",children:(0,l.jsx)(_.cC,{id:"GG34Oa"})}),(0,l.jsx)(f.x,{children:(0,l.jsx)(_.cC,{id:"AYXLSv"})}),(0,l.jsx)(f.x,{color:"red.600",children:(0,l.jsx)(_.cC,{id:"U99rVM"})})]})}),(0,l.jsx)(ep.m,{children:(0,l.jsxs)(v.h,{children:[(0,l.jsx)(C.z,{variant:"ghost",onClick:i,children:(0,l.jsx)(_.cC,{id:"dEgA5A"})}),(0,l.jsx)(C.z,{variant:"ghost",color:"red.600",onClick:a,isLoading:s,children:(0,l.jsx)(_.cC,{id:"04FTaq"})})]})})]})]})},td=e=>{let{children:i,...t}=e;return(0,l.jsx)(p.k,{border:"1px solid",borderColor:"gray.200",minH:36,maxH:36,minW:"100%",borderRadius:"lg",alignItems:"center",justifyContent:"center",transition:"all",transitionDuration:"normal",_hover:{background:"white",color:"trueblue.600",cursor:"pointer"},...t,children:i})};var tc=t(17993),tu=t(62700),tx=t(44438);let th=()=>(0,l.jsxs)(ex.b,{status:"warning",children:[(0,l.jsx)(eh.z,{}),(0,l.jsxs)(f.x,{children:[(0,l.jsxs)("strong",{children:[(0,l.jsx)(_.cC,{id:"S89SGJ"})," ",(0,l.jsx)("span",{role:"img","aria-label":"Crying emoji",children:"\uD83D\uDE22"}),"."]})," ",(0,l.jsx)(_.cC,{id:"5FjY+D",components:{0:(0,l.jsx)(tx.E,{colorScheme:"purple"}),1:(0,l.jsx)(tx.E,{colorScheme:"pink"})}})]})]});var tj=t(16556);let tp=e=>{let{fileExtension:i}=e;return(0,l.jsx)(tj.Vp,{size:"sm",justifyContent:"center",background:i===B.sA6.Ttf?"trueblue.100":"shocking.100",children:i.toUpperCase()})},tm=e=>{let{fontFamily:i,fontWeight:t,isItalic:n,headingText:r}=e;return(0,l.jsx)(j.X,{fontFamily:'"'.concat(i,'"'),noOfLines:1,lineHeight:"base",fontWeight:t,fontStyle:n?"italic":"normal",children:r||i})},tf=e=>{let i=e.reduce((e,i)=>{let t=e.findIndex(e=>e.isItalic===i.isItalic&&e.weight===i.weight);if(-1===t)return[...e,i];if(e[t].fileType===i.fileType)return e;let n={...i,fileTypes:[i.fileType,e[t].fileType]};return[...e.slice(0,t),n,...e.slice(t+1)]},[]),t=[...i];return t.sort((e,i)=>e.weight!==i.weight?e.weight-i.weight:e.isItalic!==i.isItalic?!1===e.isItalic?-1:1:0),t},tv=e=>{var i;let{font:t,onClose:n,onEditClick:r,onDeleteClick:s}=e,a=(0,k.useMemo)(()=>tf(t.fontFiles||[]),[t.fontFiles]);return(0,l.jsxs)(es.u_,{isOpen:!0,onClose:n,size:"3xl",blockScrollOnMount:!1,children:[(0,l.jsx)(ea.Z,{}),(0,l.jsxs)(eo.h,{children:[(0,l.jsx)(ed.x,{children:t.name}),(0,l.jsx)(ec.o,{}),(0,l.jsx)(iG.i,{mb:"4"}),(0,l.jsx)(eu.f,{children:(0,l.jsxs)(tc.g,{mb:4,spacing:6,align:"stretch",children:[(null===(i=t.fontFiles)||void 0===i?void 0:i.length)===0&&(0,l.jsx)(th,{}),a.map(e=>{var i,n;let r=!!(e.fileType===B.sA6.Otf||(null===(i=e.fileTypes)||void 0===i?void 0:i.includes(B.sA6.Otf))),s=!!(e.fileType===B.sA6.Ttf||(null===(n=e.fileTypes)||void 0===n?void 0:n.includes(B.sA6.Ttf)));return(0,l.jsx)(tC,{fontName:t.name,weight:e.weight,isItalic:e.isItalic,hasOTF:r,hasTTF:s},e.id)})]})}),(0,l.jsxs)(ep.m,{justifyContent:"space-between",children:[(0,l.jsx)(C.z,{variant:"ghost",colorScheme:"red",onClick:s,children:(0,l.jsx)(_.cC,{id:"cnGeoo"})}),(0,l.jsxs)(v.h,{children:[(0,l.jsx)(C.z,{variant:"plain",onClick:r,children:(0,l.jsx)(_.cC,{id:"ePK91l"})}),(0,l.jsx)(C.z,{variant:"solid",onClick:n,children:(0,l.jsx)(_.cC,{id:"DPfwMq"})})]})]})]})]})},tC=e=>{let{fontName:i,weight:t,isItalic:n,hasOTF:r,hasTTF:s}=e,a=(0,l.jsxs)(l.Fragment,{children:[(0,tu.d)()[t]," ",n?(0,l.jsx)(_.cC,{id:"pzutoc"}):""]}),o=(0,l.jsxs)(l.Fragment,{children:[i," ",a]}),d=(0,l.jsxs)(l.Fragment,{children:[t," - ",a]});return(0,l.jsxs)(p.k,{justify:"space-between",gap:"10px",children:[(0,l.jsxs)(x.K,{spacing:2,children:[(0,l.jsx)(f.x,{color:"gray.600",children:d}),(0,l.jsx)(tm,{fontFamily:i,fontWeight:t.toString(),isItalic:n,headingText:o})]}),(0,l.jsxs)(u.U,{align:"center",children:[s&&(0,l.jsx)(tp,{fileExtension:B.sA6.Ttf}),r&&(0,l.jsx)(tp,{fileExtension:B.sA6.Otf})]})]})};var tg=t(30423);let tE=e=>{let{font:i,onClick:t,onEditClick:n,onDeleteClick:r}=e,s=(0,tg.x_)((null==i?void 0:i.fontFiles)||[]),a=(0,tg.B_)(i.fontFiles||[]),o=(0,tg.QP)(a,700)||700,d=(0,tg.Sd)(null==i?void 0:i.fontFiles);return(0,l.jsxs)(x.K,{children:[(0,l.jsx)(td,{bg:"white",justifyContent:"flex-start",p:6,onClick:t,children:(0,l.jsxs)(x.K,{maxW:"100%",children:[(0,l.jsx)(tm,{fontWeight:o.toString(),isItalic:d,fontFamily:i.name,headingText:i.name}),(0,l.jsx)(_.cC,{id:"B2DVf/",values:{styleCount:s},components:{0:(0,l.jsx)(f.x,{color:"orange.600"}),1:(0,l.jsx)(E.xu,{as:"span",mr:1}),2:(0,l.jsx)(L.G,{icon:eX.e7M})}})]})}),(0,l.jsxs)(p.k,{children:[(0,l.jsx)(f.x,{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",children:i.name}),(0,l.jsx)(V.L,{}),(0,l.jsxs)($.v,{children:[(0,l.jsx)(ee.j,{as:ei.h,isRound:!0,size:"sm",variant:"ghost",icon:(0,l.jsx)(L.G,{icon:O.cNd}),"aria-label":Y.ag._({id:"eqqNgX"})}),(0,l.jsxs)(en.q,{children:[(0,l.jsx)(er.s,{icon:(0,l.jsx)(L.G,{icon:O.Xcf,fixedWidth:!0}),onClick:n,children:(0,l.jsx)(_.cC,{id:"ePK91l"})}),(0,l.jsx)(el.R,{}),(0,l.jsx)(er.s,{color:"red.500",icon:(0,l.jsx)(L.G,{icon:O.XAH,fixedWidth:!0}),onClick:r,children:(0,l.jsx)(_.cC,{id:"cnGeoo"})})]})]})]})]})};var tS=t(37164),tb=t(2090);let ty={existingFont:null,mode:"create",fontId:void 0,hasUploadedFonts:!1,fontName:"",uploadFontFiles:[]};function tO(e,i){switch(i.type){case"NEW_FONT_UPLOAD":case"RESET_FONT_UPLOAD":return ty;case"EDIT_EXISTING_FONT":{let{font:e}=i.data;return{existingFont:e,mode:"edit",fontId:e.id,fontName:e.name,hasUploadedFonts:!0,uploadFontFiles:e.fontFiles.map(e=>({fontFile:e,uploadId:e.id,status:"existing",errorMessage:null}))}}case"EDIT_FONT_NAME":{let{fontName:t}=i.data;return{...e,fontName:t}}case"UPLOAD_FONT_FILE_UPLOAD_STARTED":{let{data:t}=i,n={fontFile:{id:t.uploadId,name:t.name,weight:t.weight,isItalic:t.isItalic,fileType:t.fileType},uploadId:t.uploadId,status:"uploading",errorMessage:null},l=e.fontName?e.fontName:t.familyName;return{...e,fontName:l,hasUploadedFonts:!0,uploadFontFiles:[...e.uploadFontFiles,n]}}case"UPLOAD_FONT_FILE_UPLOAD_ERROR":{let{uploadId:t,errorMessage:n}=i.data;return{...e,uploadFontFiles:e.uploadFontFiles.map(e=>t===e.uploadId?{...e,status:"error",errorMessage:n}:e)}}case"UPLOAD_FONT_FILE_UPLOAD_SUCCESS":{let{uploadId:t,sourceUrl:n}=i.data;return{...e,uploadFontFiles:e.uploadFontFiles.map(e=>{if(t===e.uploadId){let i={...e.fontFile,sourceUrl:n};return{...e,status:"created",errorMessage:null,fontFile:i}}return e})}}case"EDIT_UPLOAD_FONT_FILE_WEIGHT":{let{uploadId:t,weight:n}=i.data;return{...e,uploadFontFiles:e.uploadFontFiles.map(e=>e.uploadId===t?{...e,fontFile:{...e.fontFile,weight:n}}:e)}}case"EDIT_UPLOAD_FONT_FILE_STYLE":{let{uploadId:t,isItalic:n}=i.data;return{...e,uploadFontFiles:e.uploadFontFiles.map(e=>e.uploadId===t?{...e,fontFile:{...e.fontFile,isItalic:n}}:e)}}case"DELETE_UPLOAD_FONT_FILE":{let{uploadId:t}=i.data;return{...e,uploadFontFiles:e.uploadFontFiles.filter(e=>e.uploadId!==t)}}default:throw Error("Unhandled action type: ".concat(i))}}let tL=(e,i)=>{let t=0;return new Promise((n,l)=>{let r=()=>{let s=setTimeout(()=>{++t<i.maxRetries?r():l("timed out")},i.timeout);e().then(n).catch(l).finally(()=>{clearTimeout(s)})};r()})};var t_=t(97166),tT=t(81540),tI=t(82713),tA=t(73481);let tD=e=>{let{fontFiles:i,fontWeight:t,dispatch:n}=e,[r,s]=(0,k.useState)(!1);if(!i)return null;let a=(0,l.jsxs)(l.Fragment,{children:[t," - ",(0,tu.d)()[t]]}),o=(0,tg.cC)(i),d=!!Object.keys(o).length;return(0,l.jsx)(ez.x,{mt:8,children:(0,l.jsxs)(eT.i,{colorScheme:"blackAlpha",mb:8,borderRadius:"md",children:[(0,l.jsx)(eW.h,{children:(0,l.jsx)(em.kH,{placement:"top",isDisabled:!d,label:(0,l.jsx)(_.cC,{id:"KXcsLu"}),shouldWrapChildren:!0,children:(0,l.jsxs)(em.NZ,{mb:"2",cursor:d?"help":void 0,color:d?"yellow.600":void 0,children:[d&&(0,l.jsx)(L.G,{icon:eX.e7M})," ",a]})})}),(0,l.jsx)(eY.p,{children:i.map(e=>(0,l.jsx)(tk,{uploadFontFile:e,dispatch:n,duplicates:o,isHoveringOnADuplicate:r,setIsHoveringOnADuplicate:s},e.uploadId))})]})})},tk=e=>{let{uploadFontFile:i,duplicates:t,isHoveringOnADuplicate:n,setIsHoveringOnADuplicate:r,dispatch:s}=e,a=(0,e7.p)(),{fontFile:o,errorMessage:d,uploadId:c}=i,h=void 0===o.sourceUrl&&!d,j=t[c],p=(0,tg.ZN)(Object.keys((0,tu.d)())),m=n&&j?"yellow.100":j?"yellow.50":"blackAlpha.50",v=(0,k.useCallback)(()=>{s({type:"DELETE_UPLOAD_FONT_FILE",data:{uploadId:c}}),a({title:(0,l.jsx)(_.cC,{id:"NHHKzo",values:{0:o.name}}),status:"info",duration:1e3,isClosable:!0,position:"top"})},[s,o.name,a,c]),C=j?o.isItalic?(0,l.jsx)(_.cC,{id:"yvnLC0",values:{0:o.weight}}):(0,l.jsx)(_.cC,{id:"QiSKej",values:{0:o.weight}}):"";return(0,l.jsxs)(eI.Tr,{minH:12,width:"100%",background:m,children:[(0,l.jsx)(eA.Td,{py:1,fontSize:"sm",textOverflow:"ellipsis",width:80,pl:0,children:(0,l.jsxs)(u.U,{ml:4,spacing:3,children:[(0,l.jsx)(tp,{fileExtension:o.fileType||B.sA6.Ttf}),(0,l.jsx)(em.kH,{placement:"right",label:C,children:(0,l.jsxs)(x.K,{width:"100%",pl:1,spacing:0,cursor:j?"help":"auto",onMouseOver:()=>{r(j)},onMouseOut:()=>{r(!1)},children:[(0,l.jsx)(em.kH,{label:(0,l.jsx)(_.cC,{id:"e3mFaa"}),placement:"top",isDisabled:!d,children:(0,l.jsxs)(f.x,{color:d?"red.600":void 0,children:[o.name," ",h?(0,l.jsx)(tT.$,{ml:1,size:"xs",color:"gray"}):d&&(0,l.jsx)(E.xu,{as:"span",color:"red.600",children:(0,l.jsx)(L.G,{icon:eX.e7M})})]})}),j&&(0,l.jsx)(f.x,{fontSize:"xs",color:"yellow.700",children:(0,l.jsx)(_.cC,{id:"mAsucF"})})]})})]})}),(0,l.jsx)(eA.Td,{py:1,minW:12,children:(0,l.jsx)(em.kH,{"aria-label":Y.ag._({id:"+7pOZT"}),label:(0,l.jsx)(_.cC,{id:"+7pOZT"}),placement:"top",children:(0,l.jsx)(E.xu,{children:(0,l.jsx)(tI.X,{size:"sm",isChecked:o.isItalic,onChange:e=>{s({type:"EDIT_UPLOAD_FONT_FILE_STYLE",data:{uploadId:c,isItalic:e.target.checked}})},children:(0,l.jsx)(f.x,{fontSize:"sm",children:(0,l.jsx)(_.cC,{id:"pzutoc"})})})})})}),(0,l.jsx)(eA.Td,{minW:"16",py:"1",pr:"2",children:(0,l.jsx)(tA.P,{bg:"revert",value:o.weight,size:"sm",onChange:e=>{s({type:"EDIT_UPLOAD_FONT_FILE_WEIGHT",data:{uploadId:c,weight:parseInt(e.target.value,10)}})},children:(0,l.jsx)("optgroup",{label:Y.ag._({id:"rgzUkd"}),children:p.map(e=>(0,l.jsxs)("option",{value:e,children:[e," - ",(0,tu.d)()[e]]},e))})})}),(0,l.jsx)(eA.Td,{py:"1",px:"0",children:(0,l.jsx)(em.kH,{placement:"top",label:(0,l.jsx)(_.cC,{id:"9cmpNe"}),children:(0,l.jsx)(ei.h,{"aria-label":Y.ag._({id:"9cmpNe"}),colorScheme:"red",icon:(0,l.jsx)(L.G,{icon:O.XAH}),variant:"ghost",onClick:v})})})]})},tB=e=>{let{fontFiles:i,dispatch:t}=e,n=(0,k.useMemo)(()=>{let e=(0,tg.Av)(i);return Object.fromEntries(Object.entries(e).map(e=>{let[i,t]=e,n=[...t];return n.sort((e,i)=>e.fontFile.fileType!==i.fontFile.fileType?e.fontFile.fileType===B.sA6.Ttf?-1:1:e.fontFile.isItalic!==i.fontFile.isItalic?!1===e.fontFile.isItalic?-1:1:0),[i,n]}))},[i]);if(!i)return null;let r=(0,tg.ZN)(Object.keys((0,tu.d)()));return(0,l.jsxs)(l.Fragment,{children:[0===i.length&&(0,l.jsx)(th,{}),r.map(e=>{let i=n[e];return i?(0,l.jsx)(tD,{fontFiles:i,dispatch:t,fontWeight:e},e):null})]})},tN=e=>{let{fontName:i,fontFiles:t,dispatch:n,onFontFileUploadClick:r}=e,s=(0,k.useCallback)(e=>{n({type:"EDIT_FONT_NAME",data:{fontName:e.target.value}})},[n]),a=0===i.length;return(0,l.jsx)(eu.f,{children:(0,l.jsxs)(tc.g,{align:"stretch",mb:"4",children:[(0,l.jsxs)(p.k,{justifyContent:"space-between",gap:6,children:[(0,l.jsxs)(i7.NI,{isInvalid:a,flex:2,children:[(0,l.jsx)(t_.l,{children:(0,l.jsx)(_.cC,{id:"5qk/OL"})}),(0,l.jsx)(i9.I,{type:"text",placeholder:Y.ag._({id:"NFz66a"}),value:i,onChange:s}),a&&(0,l.jsx)(te.J1,{alignSelf:"flex-start",children:(0,l.jsx)(_.cC,{id:"YtAPjw"})})]}),(0,l.jsxs)(x.K,{mt:8,flex:1,children:[(0,l.jsx)(C.z,{leftIcon:(0,l.jsx)(L.G,{icon:O.A$k}),onClick:r,children:(0,l.jsx)(_.cC,{id:"BLNAld"})}),(0,l.jsx)(f.x,{textAlign:"center",fontSize:"xs",color:"gray.600",children:(0,l.jsx)(_.cC,{id:"GYK/1H",values:{GAMMA_PROPER_NOUN:e9.N6}})})]})]}),(0,l.jsx)(tB,{fontFiles:t,dispatch:n})]})})};var tw=t(82655);let tR=e=>{let{uploadTip:i,children:t}=e;return(0,l.jsxs)(tc.g,{align:"stretch",children:[(0,l.jsx)(p.k,{width:"100%",alignItems:"center",justifyContent:"center",minH:32,userSelect:"none",background:"gray.50",borderRadius:"md",p:4,mb:1,children:(0,l.jsx)(x.K,{spacing:0,children:t})}),(0,l.jsx)(f.x,{color:"gray.700",fontSize:"sm",children:i})]})},tP=()=>(0,l.jsx)(ex.b,{status:"warning",margin:"0 auto",maxW:412,lineHeight:"var(--chakra-lineHeights-base)",children:(0,l.jsx)(f.x,{fontSize:"xs",color:"yellow.800",children:(0,l.jsx)(_.cC,{id:"ULVfg0",components:{0:(0,l.jsx)("strong",{})}})})}),tK=e=>{let{onFontFileUploadClick:i}=e;return(0,l.jsx)(eu.f,{children:(0,l.jsxs)(tc.g,{mb:"4",spacing:"8",borderRadius:"md",children:[(0,l.jsxs)(j.X,{textAlign:"center",size:"md",fontWeight:"600",children:[(0,l.jsx)("span",{role:"img","aria-label":"idea",children:"\uD83D\uDCA1"})," ",(0,l.jsx)(_.cC,{id:"O70dt2"})]}),(0,l.jsxs)(tl.M,{columns:{base:1,md:3},spacing:4,width:"100%",children:[(0,l.jsx)(tR,{uploadTip:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(_.cC,{id:"F/H43B",components:{0:(0,l.jsx)("strong",{})}})}),children:(0,l.jsx)(j.X,{fontSize:"3xl",fontWeight:"bold",children:"Inter"})}),(0,l.jsxs)(tR,{uploadTip:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(_.cC,{id:"b2oYEF",components:{0:(0,l.jsx)("strong",{})}})}),children:[(0,l.jsxs)(f.x,{children:["inter-",(0,l.jsx)("strong",{children:"regular"}),".ttf"," ",(0,l.jsx)(E.xu,{color:"green.400",as:"span",children:(0,l.jsx)(L.G,{icon:tw.LEp})})]}),(0,l.jsxs)(f.x,{children:["inter-",(0,l.jsx)("strong",{children:"italic"}),".ttf"," ",(0,l.jsx)(E.xu,{color:"green.400",as:"span",children:(0,l.jsx)(L.G,{icon:tw.LEp})})]}),(0,l.jsxs)(f.x,{children:["inter-",(0,l.jsx)("strong",{children:"bold"}),".ttf"," ",(0,l.jsx)(E.xu,{color:"green.400",as:"span",children:(0,l.jsx)(L.G,{icon:tw.LEp})})]})]}),(0,l.jsxs)(tR,{uploadTip:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(_.cC,{id:"xjFrIG",components:{0:(0,l.jsx)("strong",{}),1:(0,l.jsx)("strong",{})}})}),children:[(0,l.jsxs)(f.x,{children:[(0,l.jsx)(f.x,{color:"gray.600",as:"span",children:(0,l.jsx)(L.G,{icon:O.nfZ})})," ","...-regular",(0,l.jsx)(tx.E,{colorScheme:"purple",children:".ttf"})]}),(0,l.jsxs)(f.x,{children:[(0,l.jsx)(f.x,{color:"gray.600",as:"span",children:(0,l.jsx)(L.G,{icon:O.nfZ})})," ","...-regular",(0,l.jsx)(tx.E,{colorScheme:"pink",children:".otf"})]})]})]}),(0,l.jsxs)(tc.g,{spacing:4,children:[(0,l.jsx)(C.z,{leftIcon:(0,l.jsx)(L.G,{icon:O.A$k}),variant:"solid",onClick:i,children:(0,l.jsx)(_.cC,{id:"NQrqa1"})}),(0,l.jsx)(f.x,{textAlign:"center",fontSize:"xs",color:"gray.600",children:(0,l.jsx)(_.cC,{id:"GYK/1H",values:{GAMMA_PROPER_NOUN:e9.N6}})}),(0,l.jsx)(tP,{})]})]})})};var tF=t(26495),tG=t(85747);let tM=e=>{let i=e.uploadFontFiles.every(e=>("created"===e.status||"existing"===e.status)&&e.fontFile.sourceUrl);return e.fontName&&i},tH=e=>{let{onClose:i,orgId:t,font:n}=e,[r,s]=k.useReducer(tO,ty),a=(0,e7.p)();(0,k.useEffect)(()=>{n?s({type:"EDIT_EXISTING_FONT",data:{font:n}}):s({type:"NEW_FONT_UPLOAD"})},[s,n]);let[o,d]=(0,k.useState)(!1),c=tM(r),u=ts(t),x=(0,tg.UK)(r),h=(0,k.useCallback)(()=>{s({type:"RESET_FONT_UPLOAD"}),i()},[s,i]),j=(0,k.useCallback)(e=>{Promise.all(e.map(async e=>{let i=(0,tS.x0)();try{let t=await (0,tg.zn)(e);s({type:"UPLOAD_FONT_FILE_UPLOAD_STARTED",data:{uploadId:i,fileType:(0,tg.CZ)(e.name),name:e.name,...t}})}catch(i){console.error("[FontUploadModal] There was an error parsing ".concat(e.name),e,i),a({title:(0,l.jsx)(_.cC,{id:"zr0u7y",values:{0:e.name}}),description:(0,l.jsx)(_.cC,{id:"SuKrYu"}),status:"error",isClosable:!0,position:"top",duration:null});return}try{let n=await tL(()=>(0,tF.m)(t,e),{maxRetries:3,timeout:2e4});s({type:"UPLOAD_FONT_FILE_UPLOAD_SUCCESS",data:{uploadId:i,sourceUrl:n}})}catch(n){let t=n instanceof Error?n.message:"There was an error uploading ".concat(e.name);s({type:"UPLOAD_FONT_FILE_UPLOAD_ERROR",data:{uploadId:i,errorMessage:t}})}})).catch(e=>{console.error("[FontUploadModal] error while uploading font files",e)})},[s,t,a]),{onClick:m,inputElement:g}=(0,tG.E)({handleFilesCallback:j,multiple:!0,accept:tb.Ge.join(",")}),E=(0,k.useCallback)(()=>{d(!0),u(r).then(()=>{"create"===r.mode?a({title:(0,l.jsx)(_.cC,{id:"MXSt4t",values:{0:r.fontName}}),status:"success",duration:1e3,isClosable:!0,position:"top"}):"edit"===r.mode&&a({title:(0,l.jsx)(_.cC,{id:"P2ieni",values:{0:r.fontName}}),status:"success",duration:2e3,isClosable:!0,position:"top"})}).catch(e=>{a({title:"edit"===r.mode?(0,l.jsx)(_.cC,{id:"K45zvU"}):(0,l.jsx)(_.cC,{id:"FL7N1y",values:{0:r.fontName}}),status:"error",duration:5e3,isClosable:!0,position:"top"}),console.error("[FontUploadModal] error ".concat("edit"===r.mode?"editing":"creating"," font"),e)}).finally(()=>{d(!1),i()})},[i,u,r,a]),S=(0,tg.x_)(r.uploadFontFiles.map(e=>e.fontFile));return(0,l.jsxs)(es.u_,{isOpen:!0,closeOnOverlayClick:!1,onClose:h,size:"3xl",children:[(0,l.jsx)(ea.Z,{}),(0,l.jsxs)(eo.h,{children:[(0,l.jsx)(ed.x,{children:r.hasUploadedFonts?r.fontName?r.fontName:(0,l.jsx)(_.cC,{id:"yT14LZ"}):(0,l.jsx)(_.cC,{id:"O7HGjV"})}),(0,l.jsx)(ec.o,{isDisabled:o}),(0,l.jsx)(iG.i,{mb:"4"}),g,r.hasUploadedFonts?(0,l.jsx)(tN,{fontFiles:r.uploadFontFiles,fontName:r.fontName,dispatch:s,onFontFileUploadClick:m}):(0,l.jsx)(tK,{onFontFileUploadClick:m}),(0,l.jsx)(iG.i,{mb:1}),(0,l.jsx)(ep.m,{children:r.hasUploadedFonts?(0,l.jsxs)(p.k,{flex:1,mb:"2",alignItems:"center",justifyContent:"space-between",children:[(0,l.jsx)(f.x,{children:(0,l.jsx)(_.cC,{id:"yDnXlV",values:{numOfStyles:S}})}),(0,l.jsxs)(v.h,{children:[(0,l.jsx)(C.z,{variant:"ghost",onClick:i,children:(0,l.jsx)(_.cC,{id:"dEgA5A"})}),(0,l.jsx)(C.z,{isDisabled:!c||!x,variant:"solid",onClick:E,isLoading:o,children:"edit"===r.mode?(0,l.jsx)(_.cC,{id:"tfDRzk"}):(0,l.jsx)(_.cC,{id:"N/mjN3"})})]})]}):(0,l.jsx)(C.z,{variant:"ghost",onClick:i,children:(0,l.jsx)(_.cC,{id:"dEgA5A"})})})]})]})};var tU=t(62131),tz=t(2953),tW=t(5200);let tV=e=>{let{label:i,icon:t,onClick:n}=e;return(0,l.jsx)(td,{bg:"gray.50",onClick:n,children:(0,l.jsxs)(x.K,{align:"center",children:[(0,l.jsx)(f.x,{fontSize:"x-large",children:t}),(0,l.jsx)(f.x,{children:i}),(0,l.jsx)(tU.U,{productFeature:"custom_fonts"})]})})},tY=e=>{let{isSidebarVisible:i,setIsSidebarVisible:t}=e;(0,tr.G)("customFonts");let{currentWorkspace:n}=(0,R.SE)(),{openUpsellModal:r}=(0,tz.z)(),s=(0,F.lo)(),[a,o]=(0,k.useState)(null),{data:d,error:u,loading:h}=(0,B.LkU)({variables:{workspaceId:null==n?void 0:n.id,archived:!1},skip:!n}),{isOpen:p,onOpen:m,onClose:v}=(0,c.q)(),{isOpen:C,onOpen:g,onClose:S}=(0,c.q)(),{isOpen:b,onOpen:y,onClose:T}=(0,c.q)(),I=(0,k.useCallback)((e,i)=>()=>{if(!s){r({segmentEvent:G.AA.GAMMA_PRO_UPSELL_CALLOUT_CUSTOM_FONTS});return}o(e),"edit"===i?m():(g(),v()),T()},[s,r,g,T,m,v]),A=(0,k.useCallback)(()=>{if(!s){r({segmentEvent:G.AA.GAMMA_PRO_UPSELL_CALLOUT_CUSTOM_FONTS});return}o(null),m()},[s,r,m]),D=(0,k.useCallback)(e=>()=>{o(e),y()},[y]),{displayName:N,description:w,ariaLabel:P,icon:K}=M.A5[M.oc.FONTS],H=((null==d?void 0:d.fonts)||[]).filter(e=>!e.archived),U=H.map(e=>({id:e.id,name:e.name,url:e.cssUrl})),z=H.length;return(0,l.jsxs)(E.xu,{w:"100%","data-testid":"fonts-view-container",children:[(0,l.jsx)(tW.J,{fonts:U}),(0,l.jsxs)(eO.d,{isSidebarVisible:i,setIsSidebarVisible:t,children:[(0,l.jsxs)(j.X,{fontSize:"lg",fontWeight:"600","data-testid":"fonts-view-header",children:[K&&(0,l.jsx)(L.G,{icon:K,"aria-label":P()})," ",(0,l.jsx)(f.x,{as:"span",ml:2,children:N})]}),(0,l.jsx)(f.x,{fontSize:"md",mt:"2",mb:"6",color:"gray.600",children:w})]}),(0,l.jsxs)(x.K,{children:[(0,l.jsx)(f.x,{color:"gray.600",children:(0,l.jsx)(_.cC,{id:"GOR0mG",values:{numOfFonts:z}})}),(0,l.jsxs)(tl.M,{columns:{base:1,md:2,xl:3,"2xl":4},spacing:6,children:[(0,l.jsx)(tV,{label:(0,l.jsx)(_.cC,{id:"O7HGjV"}),icon:(0,l.jsx)(L.G,{icon:O.A$k}),onClick:A}),!h&&!u&&H.map(e=>(0,l.jsx)(tE,{font:e,onEditClick:I(e,"edit"),onDeleteClick:I(e,"delete"),onClick:D(e)},e.id))]})]}),p&&n&&(0,l.jsx)(tH,{onClose:v,orgId:n.id,font:a}),C&&n&&a&&(0,l.jsx)(to,{onClose:S,orgId:n.id,font:a}),b&&a&&(0,l.jsx)(tv,{onClose:T,onEditClick:I(a,"edit"),onDeleteClick:I(a,"delete"),font:a})]})};var tX=t(33579),tq=t(71508);let tZ=e=>{let{deck:i}=e,t=(0,tX.Lq)(i),n=(0,eb.Gn)({docId:t,path:"example"});return(0,l.jsx)(eB.F7,{title:i.title||"",menuEnabled:!0,href:n,id:t,createdTime:new Date().toISOString(),thumbnailImageUrl:{src:null==i?void 0:i.previewImageUrl,fallbackSrc:Q.Z.src},NextLink:q(),onFavorite:void 0,isTrashAndRestoreEnabled:!1,createdByName:(null==i?void 0:i.authorDisplayName)||"Gamma",createdByProfileImageUrl:(null==i?void 0:i.authorImageUrl)||tq.Z.src,isDuplicateEnabled:!1},t)},tQ=e=>{let{category:i}=e;if(!i)return(0,l.jsx)(l.Fragment,{});let t=i.decks;return(0,l.jsxs)(E.xu,{mb:8,children:[(0,l.jsx)(iK.Im,{category:i}),(0,l.jsx)(eB.Gd,{children:null==t?void 0:t.map(e=>(0,l.jsx)(tZ,{deck:e},e.docId))})]},i.id)},tJ=e=>{let{isSidebarVisible:i,setIsSidebarVisible:t}=e,{categories:n,loading:r}=(0,iK.jn)(),{displayName:s,ariaLabel:a,description:o,icon:d}=M.A5[M.oc.INSPIRATION];return(0,l.jsxs)(E.xu,{w:"100%","data-testid":"inspiration-view-container",children:[(0,l.jsx)(eO.d,{isSidebarVisible:i,setIsSidebarVisible:t,children:(0,l.jsxs)(j.X,{fontSize:"lg",fontWeight:"600","data-testid":"docs-view-header",children:[d&&(0,l.jsx)(L.G,{icon:d,"aria-label":a()})," ",(0,l.jsx)(f.x,{as:"span",ml:2,children:s})]})}),r&&(0,l.jsx)(E.xu,{width:"100%","data-testid":"inspiration-skeleton",children:(0,l.jsxs)(eB.Gd,{children:[(0,l.jsx)(b.P,{bg:"linen.50",borderRadius:"5px",height:"240px",as:y.O},1),(0,l.jsx)(b.P,{bg:"linen.50",borderRadius:"5px",height:"240px",as:y.O},2),(0,l.jsx)(b.P,{bg:"linen.50",borderRadius:"5px",height:"240px",as:y.O},3)]})}),!r&&n&&(null==n?void 0:n.length)>0&&(null==n?void 0:n.map(e=>(0,l.jsx)(tQ,{category:e},e.id)))]})},t$=()=>(0,l.jsxs)(p.k,{flex:1,w:"100%",direction:"column",children:[(0,l.jsx)(y.O,{w:"50%",h:"48px",mb:4}),(0,l.jsx)(E.xu,{w:"100%",children:(0,l.jsxs)(S.r,{templateColumns:["repeat(2, 1fr)","repeat(3, 1fr)"],gap:6,children:[(0,l.jsx)(b.P,{bg:"linen.50",borderRadius:"5px",height:"200px",as:y.O}),(0,l.jsx)(b.P,{bg:"linen.50",borderRadius:"5px",height:"200px",as:y.O}),(0,l.jsx)(b.P,{bg:"linen.50",borderRadius:"5px",height:"200px",as:y.O})]})})]}),t0=e=>{let{category:i}=e;if(!i)return(0,l.jsx)(l.Fragment,{});let t=i.decks;return(0,l.jsxs)(E.xu,{mb:8,children:[(0,l.jsx)(iK.Im,{category:i}),(0,l.jsx)(eB.Gd,{children:null==t?void 0:t.map(e=>(0,l.jsx)(iK.nL,{deck:e},e.docId))})]},i.id)},t1=e=>{let{isSidebarVisible:i,setIsSidebarVisible:t}=e,{categories:n,loading:r}=(0,iK.tk)(),{isOpen:s,onOpen:a,onClose:o}=(0,c.q)({id:"template-browser-modal"});if((0,H.s2)())return D().replace("/"),null;let{displayName:d,ariaLabel:u,icon:x}=M.A5[M.oc.TEMPLATES];return(0,l.jsxs)(E.xu,{w:"100%","data-testid":"templates-view-container",children:[(0,l.jsx)(eO.d,{isSidebarVisible:i,setIsSidebarVisible:t,children:(0,l.jsxs)(j.X,{fontSize:"lg",fontWeight:"600","data-testid":"docs-view-header",children:[x&&(0,l.jsx)(L.G,{icon:x,"aria-label":u()})," ",(0,l.jsx)(f.x,{as:"span",ml:2,children:d})]})}),r&&(0,l.jsx)(t$,{}),!r&&n&&(null==n?void 0:n.length)>0&&(null==n?void 0:n.map(e=>(0,l.jsx)(t0,{category:e},e.id))),s&&(0,l.jsx)(iK.UB,{isOpen:!0,onClose:o})]})};var t2=t(74411),t5=t(26838),t4=t(6554),t3=t(14324),t6=t(46409);let t8=e=>{let{isSidebarVisible:i,setIsSidebarVisible:t}=e,[n,r]=(0,k.useState)("custom"),{currentWorkspace:s}=(0,R.SE)();(0,t3.a)();let{data:a,loading:o,called:d}=(0,B.BCl)({variables:{workspaceId:null==s?void 0:s.id,archived:!1},skip:!s}),{data:c}=(0,B.BCl)({variables:{workspaceId:null,archived:!1}}),[h,{data:p,loading:m}]=(0,B.T_w)({variables:{workspaceId:null==s?void 0:s.id,archived:!0},fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"});(0,k.useEffect)(()=>{"archived"===n&&s&&h()},[s,n,h]);let g=(null==p?void 0:p.themes)||[],S=(null==a?void 0:a.themes)||[],T=(null==c?void 0:c.themes)||[],{displayName:I,description:A,ariaLabel:D,icon:w}=M.A5[M.oc.THEMES],P=(0,i_.i)({base:!0,xl:!1}),K=null===t2.oN||void 0===t2.oN?void 0:t2.oN[n],F=t2.rd.map(e=>({key:e,...t2.oN[e]})),G="custom"===n?S:"archived"===n?g:T,H=(0,N.ye)("themeImportAi")&&s;return(0,l.jsxs)(E.xu,{w:"100%","data-testid":"themes-view-container",children:[(0,l.jsx)(t6.Y,{}),(0,l.jsxs)(eO.d,{isSidebarVisible:i,setIsSidebarVisible:t,children:[(0,l.jsxs)(j.X,{fontSize:"lg",fontWeight:"600","data-testid":"themes-view-header",children:[w&&(0,l.jsx)(L.G,{icon:w,"aria-label":D()})," ",(0,l.jsx)(f.x,{as:"span",ml:2,children:I})]}),(0,l.jsx)(f.x,{fontSize:"md",mt:"2",color:"gray.600",children:A}),(0,l.jsx)(x.K,{direction:{base:"column",lg:"row"},spacing:2,my:4,children:(0,l.jsxs)(v.h,{size:"md",children:[s&&(0,l.jsx)(em.kH,{label:(0,l.jsx)(_.cC,{id:"LPcaN9"}),placement:"top",children:(0,l.jsx)(C.z,{variant:"solid",leftIcon:(0,l.jsx)(L.G,{icon:O.r8p}),onClick:iz.C5,"data-testid":"new-theme-button",children:(0,l.jsx)(_.cC,{id:"FiwgR9"})})}),H&&(0,l.jsx)(em.kH,{label:(0,l.jsx)(_.cC,{id:"OPW4Wb"}),placement:"top",children:(0,l.jsx)(C.z,{variant:"plain",leftIcon:(0,l.jsx)(L.G,{icon:O.Vmj}),onClick:iz.xw,children:(0,l.jsx)(_.cC,{id:"/Zo0hK"})})})]})}),(0,l.jsx)(eQ.E,{id:"filter-by-dropdown",zIndex:"3",width:["100%","auto"],mt:[4,0],children:P?(0,l.jsxs)($.v,{closeOnSelect:!0,children:[(0,l.jsx)(ee.j,{as:C.z,variant:"ghost",size:"sm",rightIcon:(0,l.jsx)(L.G,{icon:O.ptq}),fontWeight:"600",color:"gray.700",leftIcon:(0,l.jsx)(L.G,{icon:O.G_j}),children:(0,l.jsxs)(u.U,{children:[(0,l.jsx)(E.xu,{boxSize:4,children:K.icon}),(0,l.jsx)(E.xu,{children:K.label})]})}),(0,l.jsx)(en.q,{minWidth:"240px",children:(0,l.jsx)(eH._,{defaultValue:n,title:Y.ag._({id:"MwX53Z"}),type:"radio",onChange:e=>{r(e)},value:n,children:F.map(e=>(0,l.jsx)(iL.i,{value:e.key,children:(0,l.jsxs)(u.U,{children:[(0,l.jsx)(E.xu,{w:5,children:e.icon}),(0,l.jsx)(E.xu,{children:e.label})]})},e.key))})})]}):F.map(e=>{let i=e.key===n;return(0,l.jsx)(eQ.U,{children:(0,l.jsx)(C.z,{fontWeight:"600",color:i?"trueblue.500":"gray.600",bg:i?"trueblue.50":"transparent",size:"sm",leftIcon:e.icon,variant:"ghost",onClick:()=>r(e.key),children:e.label})},e.key)})})]}),!d||o||m?(0,l.jsx)(E.xu,{width:"100%","data-testid":"themes-skeleton",children:(0,l.jsx)(tl.M,{columns:[1,2,2,3,5],spacing:6,children:[1,2,3,4,5,6,7,8].map(e=>(0,l.jsx)(b.P,{bg:"linen.50",borderRadius:"5px",height:"144px",as:y.O},e))})}):0===G.length&&"custom"!==n?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(_.cC,{id:"h+6hB/"})}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(t7,{themes:G,type:n})}),(0,l.jsx)(t4.g,{})]})},t7=e=>{let{themes:i,type:t}=e,n=(0,k.useMemo)(()=>[...i].sort(t2.qb),[i]);return(0,l.jsx)(x.K,{children:(0,l.jsx)(tl.M,{columns:[1,2,2,3,5],spacing:6,children:n.map(e=>(0,l.jsx)(t5.o,{type:t,theme:e,isChecked:!1},e.id))})})},t9=()=>{let{activeTab:e,userHasNoWorkspaces:i,currentChannelId:t,channelPreview:n,isSidebarVisible:r,setIsSidebarVisible:s,sitesEnabled:a,activeChannel:o}=(0,d.J)();switch(e){case"all":return(0,l.jsx)(tn,{activeTab:e,userHasNoWorkspaces:i,isSidebarVisible:r,setIsSidebarVisible:s,currentChannelId:t,activeChannel:o,channelPreview:n});case"sites":if(a)return(0,l.jsx)(e_,{isSidebarVisible:r,setIsSidebarVisible:s});case"templates":return(0,l.jsx)(t1,{isSidebarVisible:r,setIsSidebarVisible:s});case"inspiration":return(0,l.jsx)(tJ,{isSidebarVisible:r,setIsSidebarVisible:s});case"themes":return(0,l.jsx)(t8,{isSidebarVisible:r,setIsSidebarVisible:s});case"fonts":return(0,l.jsx)(tY,{isSidebarVisible:r,setIsSidebarVisible:s});default:return(0,l.jsx)(tn,{activeTab:e,userHasNoWorkspaces:i,isSidebarVisible:r,setIsSidebarVisible:s,currentChannelId:t,activeChannel:o,channelPreview:n})}};var ne=t(17190),ni=t(97729),nt=t.n(ni);let nn=()=>{let[e,i]=(0,k.useState)(!1);return(0,l.jsxs)(p.k,{"data-testid":"home",width:"100%",height:"100%",children:[(0,l.jsx)(nt(),{children:(0,l.jsx)("title",{children:"Gamma"})}),(0,l.jsx)(p.k,{"data-testid":"doc-root-main",flex:"1",px:2,py:6,w:"100vw",bg:"gray.100",borderTopLeftRadius:"15px",borderBottomLeftRadius:"15px",direction:"column",marginLeft:{base:"0"},minH:"var(--100vh)",transition:"margin .2s ease",children:(0,l.jsxs)(ne.W,{maxW:"80em",children:[(0,l.jsx)(y.O,{height:"42px",w:"30%",mb:2}),(0,l.jsx)(y.O,{height:"24px",w:"100%",mb:2}),(0,l.jsx)(y.O,{height:"24px",w:"100%",mb:10}),(0,l.jsx)(p.k,{width:"100%",children:(0,l.jsx)(iO,{})})]})})]})};var nl=t(4662),nr=t(93441);let ns=()=>{let e=(0,nr.gF)();(0,a.X)(!0),(0,o.o)();let i=(0,s.hz)();return e&&i?(0,l.jsx)(t9,{},"home-v2"):(0,l.jsx)(nn,{},"home-skeleton")};var na=(0,r.z)((0,nl.w)(ns))},14008:function(e,i,t){"use strict";t.d(i,{Ag:function(){return a},O2:function(){return l},U1:function(){return r},Wt:function(){return o},YD:function(){return s}});var n=t(28165),l=(0,n.F4)({"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260"}}),r=(0,n.F4)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),s=(0,n.F4)({"0%":{left:"-40%"},"100%":{left:"100%"}}),a=(0,n.F4)({from:{backgroundPosition:"1rem 0"},to:{backgroundPosition:"0 0"}});function o(e){let{value:i=0,min:t,max:n,valueText:l,getValueText:r,isIndeterminate:s,role:a="progressbar"}=e,o=(i-t)*100/(n-t);return{bind:{"data-indeterminate":s?"":void 0,"aria-valuemax":n,"aria-valuemin":t,"aria-valuenow":s?void 0:i,"aria-valuetext":(()=>{if(null!=i)return"function"==typeof r?r(i,o):l})(),role:a},percent:o,value:i}}}},function(e){e.O(0,[9774,7662,8433,2182,1273,2812,8774,9542,5417,6694,146,4078,3273,5333,9025,4424,8707,3661,116,9039,1757,1591,6513,3693,4602,3452,2294,2252,2432,5066,6871,289,3722,2681,8286,8794,98,8420,2680,8258,2329,887,1888,1702,5334,2888,179],function(){return e(e.s=87314)}),_N_E=e.O()}]);
//# sourceMappingURL=index-174188af94d001f5.js.map